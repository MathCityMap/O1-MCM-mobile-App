{"version":3,"sources":["../../src/migration/1513274191111-InitialMigration.ts","../../src/migration/1515428187000-failedTaskMigration.ts","../../src/entity/User.ts","../../src/entity/State.ts","../../src/entity/TaskState.ts","../../src/migration/1513679923000-AddImageUrlAndDownloadedFlagMigration.ts","../../src/classes/CacheManagerMCM.ts","../../src/classes/MyMath.ts","../../src/migration/1516037215000-AddUnlockedColumn.ts","../../src/migration/1519817905000-AddCompletedColumn.ts","../../src/classes/DBC_Plan.ts","../../src/migration/1526306624000-AddVisibleColumn.ts","../../src/migration/1526306730000-AddLangCodeColumn.ts","../../src/migration/15711518720000-AddDownloadDateColumn.ts","../../src/migration/15713974540000-AddCompletedDateColumn.ts","../../src/migration/15783117210000-AddZipMapFields.ts","../../src/migration/16013795030000-AddSavedTasks.ts","../../src/migration/16026790930000-AddSubtasks.ts","../../src/migration/16194302450000-AddPositionField.ts","../../src/migration/16208100470000-AddPathFields.ts","../../src/migration/16225449820000-AddZoom.ts","../../src/migration/16552845000000-AddForceSubtaskAndArLink.ts","../../src/migration/17026521590000-AddTaskCode.ts","../../src/migration/17067919700000-RenameParentIdAndAddTaskFormatAndPosition.ts","../../src/migration/17071440460000-AddGroupsFinished.ts","../../src/app/api/models/translation-storage.ts","../../src/components/mcm-image/mcm-image.ts","../../src/components/mcm-header/mcm-header.component.ts","../../src/app/pipes/distance.pipe.ts","../../src/components/mcm-progress-bar/mcm-progress-bar.ts","../../src/directives/ngx-lazy-load-images.directive.ts","../../src/components/route-teaser/route-teaser.ts","../../src/app/pipes/localDate.pipe.ts","../../src/providers/translate-loader.ts","../../src/services/broadcast-service.ts","../../src/components/ngx-youtube-player/modules/ngx-youtube-player.module.ts","../../src/components/ngx-youtube-player/modules/youtube-player.component.ts","../../src/directives/autoresize.ts","../../src/app/app.component.ts","../../src/app/api/api.module.ts","../../src/app/api/services/trail.service.ts","../../src/directives/directives.module.ts","../../src/directives/safe-inner-html/safe-inner-html.ts","../../src/app/api/services/translation.service.ts","../../src/classes/DB_Updater.ts","../../src/services/language-service.ts","../../src/services/zoom-service.ts","../../src/modals/MCMIconModal/MCMIconModal.ts","../../src/entity/Task.ts","../../src/pages/home/home.ts","../../src/classes/Helper.ts","../../src/app/api/services/session.service.ts","../../src/entity/Task2Route.ts","../../src/env/env.ts","../../src/components/components.module.ts","../../src/entity/Score.ts","../../src/components/customKeyBoard/custom-keyboard.ts","../../src/modals/MCMReportProblemModal/MCMReportProblemModal.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/chat/chat.module.ts","../../src/services/orm-service.ts","../../src/services/images-service.ts","../../src/app/api/services/session-user.service.ts","../../src/app/api/services/session-chat.service.ts","../../src/app/api/services/session-event.service.ts","../../src/app/api/services/session-user-leaderboard.service.ts","../../src/app/api/api-configuration.ts","../../src/classes/DB_Handler.ts","../../src/classes/DBC.ts","../../src/components/mcm-download-progress-popup/mcm-download-progress-popup.component.ts","../../src/modals/RouteInfo/RouteInfo.ts","../../src/modals/CenteredTask/CenteredTask.ts","../../src/app/api/services/problem-report.service.ts","../../src/modals/MCMTermsAndConditionsModal/MCMTermsAndConditionsModal.ts","../../src/modals/MCMJoinSessionModal/MCMJoinSessionModal.ts","../../src/components/ngx-youtube-player/services/youtube-player.service.ts","../../src/classes/tilesDb.ts","../../src/pages/chat/chat.ts","../../src/app/pipes/search.pipe.ts","../../src/app/pipes/linkHttps.pipe.ts","../../src/pages/dashboard/dashboard.ts","../../src/pages/home/tabs/RoutesMap/RoutesMap.ts","../../src/pages/portal/portal.ts","../../src/modals/MCMIntroModal/MCMIntroModal.ts","../../src/modals/MCMSessionFinishedModal/MCMSessionFinishedModal.ts","../../src/modals/MCMTrailFinishedModal/MCMTrailFinishedModal.ts","../../src/modals/MCMRouteByCodeModal/MCMRouteByCodeModal.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/services/modals-service.ts","../../src/app/api/base-service.ts","../../src/services/gps-service.ts","../../src/entity/Route.ts","../../src/services/chat-and-session-service.ts","../../src/app/api/models/events-add-request.ts","../../src/app/api/models/event-add-request.ts","../../node_modules/moment/locale ^/.//.*$","../../src/pages/chat/recordStateEnum.ts"],"names":[],"mappings":"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C;YACP,QAAQ,EAAE,yBAAyB;WACO;SAC7C,CAAC;6EAqBsC;YACrB,+EAAS;YACE,sGAAa;YAChB,wEAAoB;YACpB,eAAe;OAxB7B,qBAAqB,CAgFjC;IAAD,CAAC;AAAA;SAhFY,qBAAqB,mB;;;;;;;ACflC;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,kC;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;;;;;;;;;;AC7DyC;AACO;AACd;AACoB;AACgB;AAetE;IAAA;IACA,CAAC;IADY,cAAc;QAb1B,+DAAQ,CAAC;YACN,YAAY,EAAE;gBACV,uDAAQ;aACX;YACD,OAAO,EAAE;gBACL,sEAAe,CAAC,QAAQ,CAAC,uDAAQ,CAAC;gBAClC,4EAAe;gBACf,uFAAgB;aACnB;YACD,eAAe,EAAE;gBACb,uDAAQ;aACX;SACJ,CAAC;OACW,cAAc,CAC1B;IAAD,qBAAC;CAAA;AAD0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBc;AACY;AACT;AACqB;AAEyB;AACM;AAE5D;AACE;AACF;AACE;AAC8F;AACrF;AACY;AACrB;AAEU;AACW;AACN;AACG;AACoC;AACE;AACzD;AACY;AACyC;AACE;AAEnD;AAE6D;AACE;AACd;AACnD;AAC+C;AACJ;AACU;AACN;AACZ;AAGZ;AACoB;AAC4D;AAChD;AACnB;AAI3E;IAOI,oBACY,aAA4B,EAC5B,OAAsB,EACtB,gBAAkC,EAClC,QAAkB,EAClB,OAAgB,EAChB,SAA0B,EAC1B,kBAAsC;QANtC,kBAAa,GAAb,aAAa,CAAe;QAC5B,YAAO,GAAP,OAAO,CAAe;QACtB,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,aAAQ,GAAR,QAAQ,CAAU;QAClB,YAAO,GAAP,OAAO,CAAS;QAChB,cAAS,GAAT,SAAS,CAAiB;QAC1B,uBAAkB,GAAlB,kBAAkB,CAAoB;QAT3C,iBAAY,GAAG,IAAI,sDAAO,EAAU,CAAC;QAWxC,YAAU,CAAC,QAAQ,GAAG,IAAI,CAAC;IAC/B,CAAC;mBAjBQ,UAAU;IAmBb,kCAAa,GAAnB;;;;;;wBACI,IAAI,IAAI,CAAC,UAAU,EAAE;4BACjB,sBAAO,IAAI,CAAC,UAAU,EAAC;yBAC1B;wBACD,qBAAM,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE;;wBAA3B,SAA2B,CAAC;wBAC5B,qBAAM,wEAAU,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE;;wBAAtC,SAAsC,CAAC;wBACjC,eAAe,GAAG,qFAAiB,CAAC,oEAAM,CAAC,YAAY,EAAE,EAAE,IAAI,EAAE,oEAAM,CAAC,aAAa,EAAE,CAAC,KAAK,IAAI,CAAC;wBAClG,QAAQ,GAAG;4BACb,0DAAI;4BACJ,4DAAK;4BACL,4DAAK;4BACL,0DAAI;4BACJ,6DAAK;4BACL,uEAAU;yBACb,CAAC;wBAGI,UAAU,GAAG;4BACf,gHAA6B;4BAC7B,2JAAkD;4BAClD,sHAAgC;4BAChC,mHAA8B;4BAC9B,qHAA+B;4BAC/B,iHAA6B;4BAC7B,mHAA8B;4BAC9B,6HAAmC;4BACnC,+HAAoC;4BACpC,iHAA6B;4BAC7B,6GAA2B;4BAC3B,yGAAyB;4BACzB,mHAA8B;4BAC9B,6GAA2B;4BAC3B,iGAAqB;4BACrB,mIAAsC;4BACtC,yGAAyB;4BACzB,qKAAuD;4BACvD,qHAA+B;yBAClC,CAAC;6BACE,eAAe,EAAf,wBAAe;wBACf,SAAI;wBAAc,qBAAM,yEAAgB,CAAC;gCACrC,IAAI,EAAE,SAAS;gCACf,QAAQ,EAAE,SAAS;gCACnB,QAAQ,EAAE,gBAAgB;gCAC1B,OAAO,EAAE,CAAC,OAAO,EAAwB;gCACzC,MAAM,EAAE,gBAAgB;gCACxB,WAAW,EAAE,KAAK;gCAClB,QAAQ,EAAE,QAAQ;gCAClB,aAAa,EAAE,IAAI;gCACnB,UAAU,EAAE,UAAU;6BACzB,CAAC;;wBAVF,GAAK,UAAU,GAAG,SAUhB,CAAC;wBACH,sBAAO,IAAI,CAAC,UAAU,EAAC;;wBAEvB,SAAI;wBAAc,qBAAM,yEAAgB,CAAC;gCACrC,IAAI,EAAE,QAAQ;gCACd,OAAO,EAAE,KAAK;gCACd,WAAW,EAAE,QAAQ;gCACrB,IAAI,EAAE,CAAC,GAAG,IAAI,GAAG,IAAI;gCACrB,QAAQ,EAAE,KAAK;gCACf,OAAO,EAAE,CAAC,OAAO,EAAwB;gCACzC,MAAM,EAAE,gBAAgB;gCACxB,WAAW,EAAE,KAAK;gCAClB,QAAQ,EAAE,QAAQ;gCAClB,aAAa,EAAE,IAAI;gCACnB,UAAU,EAAE,UAAU;6BACzB,CAAC;;wBAZF,GAAK,UAAU,GAAG,SAYhB,CAAC;wBACH,sBAAO,IAAI,CAAC,UAAU,EAAC;;;;KAE9B;IAEK,sCAAiB,GAAvB;;;;;4BACqB,qBAAM,IAAI,CAAC,aAAa,EAAE;;wBAAvC,UAAU,GAAG,SAA0B;wBAC3C,sBAAO,UAAU,CAAC,aAAa,CAAC,0DAAI,CAAC,EAAC;;;;KACzC;IAEK,uCAAkB,GAAxB;;;;;4BACqB,qBAAM,IAAI,CAAC,aAAa,EAAE;;wBAAvC,UAAU,GAAG,SAA0B;wBAC3C,sBAAO,UAAU,CAAC,aAAa,CAAC,4DAAK,CAAC,EAAC;;;;KAC1C;IAEK,uCAAkB,GAAxB;;;;;4BACqB,qBAAM,IAAI,CAAC,aAAa,EAAE;;wBAAvC,UAAU,GAAG,SAA0B;wBAC3C,sBAAO,UAAU,CAAC,aAAa,CAAC,6DAAK,CAAC,EAAC;;;;KAC1C;IAEK,uCAAkB,GAAxB;;;;;4BACqB,qBAAM,IAAI,CAAC,aAAa,EAAE;;wBAAvC,UAAU,GAAG,SAA0B;wBAC3C,sBAAO,UAAU,CAAC,aAAa,CAAC,4DAAK,CAAC,EAAC;;;;KAC1C;IAEK,sCAAiB,GAAvB;;;;;4BACqB,qBAAM,IAAI,CAAC,aAAa,EAAE;;wBAAvC,UAAU,GAAG,SAA0B;wBAC3C,sBAAO,UAAU,CAAC,aAAa,CAAC,0DAAI,CAAC,EAAC;;;;KACzC;IAEY,kCAAa,GAA1B,UAA2B,EAAU;;;;;4BACtB,qBAAM,IAAI,CAAC,kBAAkB,EAAE;;wBAAtC,IAAI,GAAG,SAA+B;wBACnC,qBAAM,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC;4BAAjC,sBAAO,SAA0B,EAAC;;;;KACrC;IAEY,oCAAe,GAA5B,UAA6B,IAAY;;;;;4BAC1B,qBAAM,IAAI,CAAC,kBAAkB,EAAE;;wBAAtC,IAAI,GAAG,SAA+B;wBACnC,qBAAM,IAAI,CAAC,OAAO,CAAC,EAAC,KAAK,EAAE,EAAC,IAAI,EAAE,IAAI,EAAC,EAAC,CAAC;4BAAhD,sBAAO,SAAyC,EAAC;;;;KACpD;IAEY,qCAAgB,GAA7B,UAA8B,EAAU;;;;;4BACzB,qBAAM,IAAI,CAAC,kBAAkB,EAAE;;wBAAtC,IAAI,GAAG,SAA+B;wBACnC,qBAAM,IAAI,CAAC,OAAO,CAAC,EAAC,KAAK,EAAE,EAAC,OAAO,EAAE,EAAE,EAAC,EAAC,CAAC;4BAAjD,sBAAO,SAA0C,EAAC;;;;KACrD;IAEY,gCAAW,GAAxB;;;;;4BACe,qBAAM,IAAI,CAAC,iBAAiB,EAAE;;wBAArC,IAAI,GAAG,SAA8B;wBAC7B,qBAAM,IAAI,CAAC,IAAI,CAAC,EAAC,SAAS,EAAE,CAAC,QAAQ,CAAC,EAAC,CAAC;;wBAAhD,KAAK,GAAG,SAAwC;wBAChD,aAAa,GAAkB,EAAE,CAAC;wBACtC,KAAK,CAAC,OAAO,CAAC,cAAI;4BACd,IAAI,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,EAAE;gCAChD,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;6BACzC;4BACD,IAAI,IAAI,CAAC,YAAY,IAAI,KAAK,IAAI,IAAI,CAAC,MAAM,IAAI,GAAG,EAAE;gCAElD,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,eAAK;oCACrB,IAAI,KAAK,CAAC,MAAM,IAAI,GAAG,EAAE;wCACrB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;wCACnB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;qCACrB;gCACL,CAAC,CAAC,CAAC;6BACN;wBAEL,CAAC,CAAC;;;;;KAEL;IAEY,iCAAY,GAAzB,UAA0B,EAAU;;;;;4BACrB,qBAAM,IAAI,CAAC,iBAAiB,EAAE;;wBAArC,IAAI,GAAG,SAA8B;wBAClC,qBAAM,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC;iCACxC,KAAK,CAAC,EAAC,EAAE,EAAE,EAAE,EAAC,CAAC;iCACf,iBAAiB,CAAC,gBAAgB,EAAE,UAAU,CAAC;iCAC/C,MAAM,EAAE;4BAHb,sBAAO,SAGM,EAAC;;;;KACjB;IAGK,4CAAuB,GAA7B,UAA8B,KAAY,EAAE,aAAwB;;;;;4BACrD,qBAAM,IAAI,CAAC,kBAAkB,EAAE;;wBAAtC,IAAI,GAAG,SAA+B;wBAC1C,KAAK,CAAC,mBAAmB,CAAC,KAAK,CAAC,YAAY,EAAE,EAAE,aAAa,CAAC,CAAC;wBACpD,qBAAM,IAAI,CAAC,aAAa,EAAE;;wBAAjC,IAAI,GAAG,SAA0B;wBACrC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,EAAE,CAAC;wBACvB,qBAAM,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;;wBAAtB,SAAsB,CAAC;wBACvB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,YAAU,CAAC,oBAAoB,CAAC,CAAC;;;;;KAC3D;IAEK,oCAAe,GAArB,UAAsB,KAAY;;;;;4BACnB,qBAAM,IAAI,CAAC,kBAAkB,EAAE;;wBAAtC,IAAI,GAAG,SAA+B;wBAC1C,qBAAM,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC;;wBAA/B,SAA+B,CAAC;;;;;KACnC;IAEK,qCAAgB,GAAtB,UAAuB,QAAgB;;;;;4BACxB,qBAAM,IAAI,CAAC,iBAAiB,EAAE;;wBAArC,IAAI,GAAG,SAA8B;wBACrC,IAAI,GAAG,IAAI,0DAAI,EAAE,CAAC;wBACtB,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC;wBAErB,qBAAM,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC;;wBAAlC,SAAkC,CAAC;wBACnC,qBAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;;wBAArB,SAAqB,CAAC;wBACtB,sBAAO,IAAI,EAAC;;;;KACf;IAEK,kCAAa,GAAnB,UAAoB,QAAgB;;;;;4BACrB,qBAAM,IAAI,CAAC,kBAAkB,EAAE;;wBAAtC,IAAI,GAAG,SAA+B;wBACvB,qBAAM,IAAI,CAAC,OAAO,CAAC,EAAC,KAAK,EAAE,EAAC,MAAM,EAAE,aAAa,EAAC,EAAC,CAAC;;wBAAnE,KAAK,GAAU,SAAoD;wBACvE,IAAI,CAAC,KAAK,EAAE;4BACR,KAAK,GAAG,IAAI,4DAAK,EAAE,CAAC;4BACpB,KAAK,CAAC,MAAM,GAAG,aAAa,CAAC;yBAChC;wBACD,KAAK,CAAC,KAAK,GAAG,QAAQ,CAAC;wBACvB,qBAAM,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;;wBAAtB,SAAsB,CAAC;;;;;KAC1B;IAEK,kCAAa,GAAnB;;;;;4BACe,qBAAM,IAAI,CAAC,kBAAkB,EAAE;;wBAAtC,IAAI,GAAG,SAA+B;wBAC9B,qBAAM,IAAI,CAAC,OAAO,CAAC,EAAC,KAAK,EAAE,EAAC,MAAM,EAAE,aAAa,EAAC,EAAC,CAAC;;wBAA5D,KAAK,GAAG,SAAoD;wBAC5D,IAAI,GAAG,IAAI,CAAC;6BACZ,MAAK,IAAI,KAAK,CAAC,KAAK,GAApB,wBAAoB;wBACb,qBAAM,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,KAAK,CAAC;;wBAA5C,IAAI,GAAG,SAAqC,CAAC;;4BAEjD,sBAAO,IAAI,EAAC;;;;KACf;IAEK,kCAAa,GAAnB,UAAoB,QAAgB;;;;;4BACrB,qBAAM,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC;;wBAAzC,IAAI,GAAG,SAAkC;wBAC7C,IAAI,IAAI,EAAE;4BACN,sBAAO,IAAI,EAAC;yBACf;wBACD,sBAAO,KAAK,EAAC;;;;KAChB;IAEa,kCAAa,GAA3B,UAA4B,QAAgB;;;;;4BAC7B,qBAAM,IAAI,CAAC,iBAAiB,EAAE;;wBAArC,IAAI,GAAG,SAA8B;wBAClC,qBAAM,IAAI,CAAC,OAAO,CAAC,EAAC,KAAK,EAAE,EAAC,IAAI,EAAE,QAAQ,EAAC,EAAC,CAAC;4BAApD,sBAAO,SAA6C,EAAC;;;;KACxD;IAEK,qCAAgB,GAAtB,UAAuB,WAAkB,EAAE,SAAgB,EAAE,iBAAyB;QAA/D,gDAAkB;QAAE,4CAAgB;QAAE,6DAAyB;;;;;;;wBAClF,IAAI,WAAW;4BAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,wBAAwB,CAAC,EAAE,IAAI,CAAC,CAAC;wBACxG,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,kBAAkB,EAAE;4BAC/C,sBAAO,IAAI,OAAO,CAAU,iBAAO;oCAC/B,UAAU,CAAC;wCACP,IAAI,SAAS,EAAE;4CACX,KAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;yCAC3C;wCACD,IAAI,WAAW,EAAE;4CACb,UAAU,CAAC;gDACP,KAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;4CACxB,CAAC,EAAE,GAAG,CAAC,CAAC;yCACX;wCACD,OAAO,CAAC,KAAI,CAAC,kBAAkB,CAAC,CAAC;oCACrC,CAAC,EAAE,GAAG,CAAC,CAAC;gCACZ,CAAC,CAAC,EAAC;yBACN;wBACU,qBAAM,IAAI,CAAC,kBAAkB,EAAE;;wBAAtC,IAAI,GAAG,SAA+B;wBAC7B,qBAAM,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,oBAAoB,CAAC,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,OAAO,EAAE;;wBAApI,MAAM,GAAG,SAA2H;wBACxI,IAAI,SAAS,EAAE;4BACX,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;yBAC1B;wBACD,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE;4BAC1B,IAAI,CAAC,kBAAkB,GAAG,MAAM,CAAC;yBACpC;6BAAM;4BACH,oEAAoE;4BACpE,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;4BAClE,MAAM,CAAC,GAAG,CAAC,eAAK,IAAI,YAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,EAAnC,CAAmC,CAAC,CAAC;yBAC5D;wBACD,IAAI,WAAW,EAAE;4BACb,UAAU,CAAC;gCACP,KAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;4BACxB,CAAC,EAAE,GAAG,CAAC,CAAC;yBACX;wBACD,sBAAO,IAAI,CAAC,kBAAkB,EAAC;;;;KAClC;IAEK,wCAAmB,GAAzB,UAA0B,SAAgB;QAAhB,4CAAgB;;;;;4BAC3B,qBAAM,IAAI,CAAC,kBAAkB,EAAE;;wBAAtC,IAAI,GAAG,SAA+B;wBAC7B,qBAAM,IAAI,CAAC,IAAI,CAAC;gCACzB,KAAK,EAAE;oCACH,UAAU,EAAE,GAAG;iCAClB;6BACJ,CAAC;;wBAJE,MAAM,GAAG,SAIX;wBAEF,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,UAAC,KAAK;4BACzB,OAAO,KAAK,CAAC,UAAU,IAAI,GAAG;wBAClC,CAAC,CAAC,CAAC;wBACH,IAAI,SAAS,EAAE;4BACX,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;yBAC1B;wBACD,sBAAO,MAAM,EAAC;;;;KACjB;IAEK,sCAAiB,GAAvB;;;;;4BACe,qBAAM,IAAI,CAAC,kBAAkB,EAAE;;wBAAtC,IAAI,GAAG,SAA+B;wBAC7B,qBAAM,IAAI,CAAC,IAAI,CAAC;gCACzB,KAAK,EAAE;oCACH,QAAQ,EAAE,GAAG;iCAChB;6BACJ,CAAC;;wBAJE,MAAM,GAAG,SAIX;wBAEF,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,UAAC,KAAK;4BACzB,OAAO,KAAK,CAAC,UAAU,IAAI,GAAG;wBAClC,CAAC,CAAC,CAAC;wBACH,sBAAO,MAAM,EAAC;;;;KACjB;IAEK,uCAAkB,GAAxB;;;;;4BACe,qBAAM,IAAI,CAAC,kBAAkB,EAAE;;wBAAtC,IAAI,GAAG,SAA+B;wBAC7B,qBAAM,IAAI,CAAC,IAAI,CAAC;gCACzB,KAAK,EAAE;oCACH,SAAS,EAAE,GAAG;iCACjB;6BACJ,CAAC;;wBAJE,MAAM,GAAG,SAIX;wBAEF,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,UAAC,KAAK;4BACzB,OAAO,KAAK,CAAC,UAAU,IAAI,GAAG;wBAClC,CAAC,CAAC,CAAC;wBACH,sBAAO,MAAM,EAAC;;;;KACjB;IAEK,kCAAa,GAAnB,UAAoB,KAAY,EAAE,cAAc,EAAE,SAAqB;;;;;;wBAC/D,qBAAqB,GAAG,EAAE,CAAC;;;;wBAE3B,gEAAgE;wBAChE,qBAAM,SAAS,CAAC,sBAAsB,CAAC,KAAK,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;;wBAD/F,gEAAgE;wBAChE,SAA+F,CAAC;wBAChG,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,iBAAiB,CAAC,CAAC;6BAGpC,CAAC,KAAK,CAAC,kBAAkB,EAAE,EAA3B,wBAA2B;wBAC3B,qBAAM,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,KAAK,EAAE,UAAC,IAAI;gCAClD,OAAO,cAAc,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;4BACrC,CAAC,EACG,UAAC,IAAI;gCACD,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;4BACrC,CAAC,CAAC;;wBALN,SAKM;;;wBAEF,UAAU,GAAG,gEAAM,CAAC,aAAa,CAAC,KAAK,CAAC,wBAAwB,EAAE,CAAC,CAAC;wBACxE,qBAAM,kFAAe,CAAC,aAAa,CAAC,KAAK,EAAE,UAAU,CAAC,QAAQ,EAAE,UAAU,CAAC,QAAQ,EAAE,UAAC,IAAI,EAAE,KAAK,EAAE,GAAG;gCAClG,qBAAqB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gCAChC,OAAO,cAAc,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;4BACvC,CAAC,CAAC;;wBAHF,SAGE,CAAC;;;wBAGD,eAAI,CAAC,aAAa,EAAC,YAAY;wBAAC,SAAI,CAAC,yBAAyB;wBAAC,qBAAM,KAAK,CAAC,QAAQ,EAAE;;oBAD3F,0CAA0C;oBAC1C,qBAAM,cAAgC,aAAI,GAA2B,SAAsB,EAAC,EAAE,KAAK,EAAE,UAAC,IAAI,EAAE,KAAK,EAAE,GAAG;gCAClH,qBAAqB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gCAChC,OAAO,cAAc,CAAC,IAAI,EAAE,KAAK,EAAE,iBAAiB,CAAC,CAAC;4BAC1D,CAAC,EAAC;;wBAJF,0CAA0C;wBAC1C,SAGE,CAAC;wBACH,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC;wBACxB,KAAK,CAAC,cAAc,GAAG,IAAI,IAAI,EAAE,CAAC,YAAY,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;wBAClE,qBAAM,IAAI,CAAC,kBAAkB,EAAE;;wBAAtC,IAAI,GAAG,SAA+B;wBAC5C,qBAAM,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;;wBAAtB,SAAsB,CAAC;wBACvB,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;;;;wBAE/B,OAAO,CAAC,GAAG,CAAC,gCAAgC,CAAC,CAAC;wBAC9C,IAAI,GAAC,CAAC,OAAO,EAAE;4BACX,OAAO,CAAC,GAAG,CAAC,GAAC,CAAC,OAAO,CAAC,CAAC;yBAC1B;wBACD,IAAG,GAAC,CAAC,WAAW,IAAI,GAAC,CAAC,WAAW,KAAK,GAAG,EAAC;4BAChC,UAAQ,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gCAChC,KAAK,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,8BAA8B,CAAC;gCACpE,OAAO,EAAE,CAAC;wCACN,IAAI,EAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,QAAQ,CAAC;wCAC9C,IAAI,EAAE,QAAQ;qCACjB,CAAC;6BACL,CAAC,CAAC;4BACH,OAAK,CAAC,OAAO,EAAE,CAAC;4BACZ,UAAU,GAAG,YAAY,GAAG,KAAK,CAAC,EAAE,CAAC;4BACzC,gEAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,qBAAqB,EAAE,UAAU,CAAC;yBAC/D;wBACD,OAAO,CAAC,GAAG,CAAC,GAAC,CAAC,CAAC;wBACf,qBAAM,IAAI,CAAC,aAAa,CAAC,oBAAoB,CAAC,qBAAqB,EAAE,KAAK,CAAC;;wBAA3E,SAA2E,CAAC;;;;;;KAEnF;IAED,gCAAW,GAAX,UAAY,KAAY;QACpB,IAAI,UAAU,GAAG,gEAAM,CAAC,aAAa,CAAC,KAAK,CAAC,wBAAwB,EAAE,CAAC,CAAC;QACxE,OAAO,kFAAe,CAAC,WAAW,CAAC,KAAK,EAAE,UAAU,CAAC,QAAQ,EAAE,UAAU,CAAC,QAAQ,CAAC,CAAC;IACxF,CAAC;IAED,wCAAmB,GAAnB,UAAoB,KAAY;QAC5B,IAAI,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QACpC,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,KAAiB,UAAK,EAAL,eAAK,EAAL,mBAAK,EAAL,IAAK,EAAE;YAAnB,IAAI,IAAI;YACT,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;SACvB;QACD,OAAO,MAAM,CAAC;IAClB,CAAC;IAEO,8CAAyB,GAAjC,UAAkC,KAAa;QAC3C,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,KAAK,CAAC,GAAG,CAAC,cAAI,IAAI,WAAI,CAAC,oBAAoB,EAAE,EAA3B,CAA2B,CAAC,CAAC,GAAG,CAAC,gBAAM;YACrD,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;QACH,OAAO,MAAM,CAAC;IAClB,CAAC;IAEK,0CAAqB,GAA3B,UAA4B,KAAY,EAAE,WAAmB;QAAnB,iDAAmB;;;;;4BAE9C,qBAAM,IAAI,CAAC,aAAa,EAAE;;wBAAjC,IAAI,GAAG,SAA0B;wBAC/B,SAAI,CAAC,eAAe;wBAAE,qBAAM,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE,CAAC;4BAA9D,qBAAM,aAAI,GAAiB,CAAC,SAAkC,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,EAAC;;wBAAtF,SAAsF,CAAC;6BACnF,WAAW,EAAX,wBAAW;wBACX,qBAAM,IAAI,CAAC,aAAa,CAAC,oBAAoB,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC;;wBAA7E,SAA6E,CAAC;;;wBAElF,eAAI,CAAC,aAAa,EAAC,oBAAoB;wBAAC,SAAI,CAAC,yBAAyB;wBAAC,qBAAM,KAAK,CAAC,QAAQ,EAAE;;wBAA7F,cAAwC,aAAI,GAA2B,SAAsB,EAAC,EAAE,KAAK,EAAC,CAAC;wBAC3F,qBAAM,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC;;wBAAtD,KAAK,GAAG,SAA8C;wBAC1D,IAAI,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE;4BAC1B,OAAO,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;yBAC1B;wBACD,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,KAAK,CAAC,CAAC;wBAChD,IAAI,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;wBAC3D,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC;wBACxB,KAAK,CAAC,cAAc,GAAG,IAAI,CAAC;wBAC5B,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC;wBACvB,KAAK,CAAC,aAAa,GAAG,IAAI,CAAC;wBACd,qBAAM,IAAI,CAAC,kBAAkB,EAAE;;wBAAtC,IAAI,GAAG,SAA+B;wBAC5C,qBAAM,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;;wBAAtB,SAAsB,CAAC;wBACvB,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;wBAC/B,sBAAO,KAAK,EAAC;;;;KAChB;IAEK,gCAAW,GAAjB,UAAkB,KAAY;;;;;wBAC1B,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC;wBACrB,qBAAM,IAAI,CAAC,kBAAkB,EAAE;;wBAAhC,CAAC,SAA+B,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;wBAC9C,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,CAAC;wBACrD,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;;;;;KAClC;IAEK,4CAAuB,GAA7B,UAA8B,KAAY;;;;4BAC/B,qBAAM,IAAI,CAAC,kBAAkB,EAAE;4BAAtC,qBAAM,CAAC,SAA+B,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC;;wBAAnD,SAAmD,CAAC;wBACpD,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;wBAC/B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,YAAU,CAAC,oBAAoB,CAAC,CAAC;;;;;KAC3D;IAEK,4CAAuB,GAA7B;;;;;4BACiB,qBAAM,IAAI,CAAC,mBAAmB,EAAE;;wBAAzC,MAAM,GAAG,SAAgC;8BACrB,EAAN,iBAAM;;;6BAAN,qBAAM;wBAAf,KAAK;wBACV,qBAAM,IAAI,CAAC,qBAAqB,CAAC,KAAK,EAAE,IAAI,CAAC;;wBAA7C,SAA6C,CAAC;;;wBADhC,IAAM;;;wBAGxB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,YAAU,CAAC,oBAAoB,CAAC,CAAC;;;;;KAC3D;IAEO,uCAAkB,GAA1B,UAA2B,aAAoB;QAC3C,IAAI,IAAI,CAAC,kBAAkB,EAAE;YACzB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACrD,IAAI,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,aAAa,CAAC,EAAE,EAAE;oBACnD,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,GAAG,aAAa,CAAC;oBAC3C,MAAM;iBACT;aACJ;SACJ;QACD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,YAAU,CAAC,oBAAoB,CAAC,CAAC;IAC5D,CAAC;;IA3aa,+BAAoB,GAAG,sBAAsB,CAAC;IAHnD,UAAU;QADtB,iEAAU,EAAE;yCASkB,uEAAa;YACnB,oFAAa;YACJ,8EAAgB;YACxB,gEAAQ;YACT,gEAAO;YACL,uEAAe;YACN,kGAAkB;OAdzC,UAAU,CA+atB;IAAD,iBAAC;CAAA;AA/asB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjDoB;AACY;AACE;AAClB;AACwC;AACtD;AACkB;AAER;AACa;AACgB;AACL;AAG3D;IAWI,uBACY,WAAiB,EACjB,QAAkB,EAClB,QAAsB,EACtB,IAAU,EACV,UAAsB,EACtB,SAAwB,EACxB,MAAc;QANd,gBAAW,GAAX,WAAW,CAAM;QACjB,aAAQ,GAAR,QAAQ,CAAU;QAClB,aAAQ,GAAR,QAAQ,CAAc;QACtB,SAAI,GAAJ,IAAI,CAAM;QACV,eAAU,GAAV,UAAU,CAAY;QACtB,cAAS,GAAT,SAAS,CAAe;QACxB,WAAM,GAAN,MAAM,CAAQ;QAflB,kBAAa,GAAG,KAAK,CAAC;QACtB,kBAAa,GAAQ,IAAI,CAAC;QAC1B,yBAAoB,GAAG,EAAE,CAAC;QAC1B,6BAAwB,GAAG,EAAE,CAAC;QAC9B,0BAAqB,GAAG,EAAE,CAAC;QAY/B,eAAa,CAAC,QAAQ,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC,IAAI,EAAE,CAAC;IAChB,CAAC;sBArBQ,aAAa;IAuBd,iCAAS,GAAjB,UAAkB,WAAmB,EAAE,MAAc,EAAE,WAAiB;QACpE,OAAO,CAAC,GAAG,CAAC,sBAAsB,GAAG,WAAW,CAAC,CAAC;QAClD,yJAAyJ;QACzJ,KAAK,CAAC,MAAM,CAAC;aACR,IAAI,CAAC,aAAG;YACL,GAAG,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,cAAI;gBAChB,WAAW,CAAC,SAAS,CAAC,WAAW,CAAC,aAAa,EAAE,WAAW,EAAE,IAAI,EAAE,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC,CAAC,IAAI,CAAC,aAAG;gBAC7F,CAAC,EAAE,eAAK,IAAI,cAAO,CAAC,KAAK,CAAC,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAtD,CAAsD,CAAC;qBAC9D,KAAK,CAAC,eAAK,IAAI,cAAO,CAAC,KAAK,CAAC,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAtD,CAAsD,CAAC;YAC/E,CAAC,EAAE,eAAK,IAAI,cAAO,CAAC,KAAK,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAArD,CAAqD,CAAC;iBAC7D,KAAK,CAAC,eAAK,IAAI,cAAO,CAAC,KAAK,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAArD,CAAqD,CAAC;QAC9E,CAAC,CAAC;aACD,IAAI,CAAC,cAAI,IAAI,cAAO,CAAC,GAAG,CAAC,IAAI,CAAC,EAAjB,CAAiB,CAAC;IACxC,CAAC;IAEO,qCAAa,GAArB,UAAsB,KAAU,EAAE,WAAmB,EAAE,YAAoB;QACvE,OAAO,IAAI,OAAO,CAAS,UAAC,OAAO,EAAE,MAAM;YACvC,IAAI,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;YACvC,GAAG,CAAC,MAAM,GAAG;gBACT,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC;gBAC7C,IAAI,GAAG,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC;gBACjC,MAAM,CAAC,KAAK,GAAG,WAAW;gBAC1B,MAAM,CAAC,MAAM,GAAG,YAAY;gBAC5B,GAAG,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,WAAW,EAAE,YAAY,CAAC;gBACnD,IAAM,OAAO,GAAG,MAAM,CAAC,SAAS,EAAE;gBAClC,OAAO,CAAC,OAAO,CAAC;YACpB,CAAC,CAAC;YACF,GAAG,CAAC,GAAG,GAAG,KAAK,CAAC;QACpB,CAAC,CAAC;IACN,CAAC;IAED,6CAAqB,GAArB;QACI,OAAO,IAAI,CAAC,mBAAmB,CAAC;IACpC,CAAC;IAEK,4BAAI,GAAV;;;;;;wBACI,IAAI,IAAI,CAAC,aAAa,EAAE;4BACpB,sBAAO,IAAI,CAAC,aAAa,EAAC;yBAC7B;wBACD,qBAAM,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE;;wBAA3B,SAA2B,CAAC;wBAE5B,IAAI,CAAC,mBAAmB,GAAG,qFAAiB,CAAC,gEAAI,CAAC,YAAY,EAAE,EAAE,IAAI,EAAE,gEAAI,CAAC,aAAa,EAAE,CAAC,KAAK,IAAI;6BAClG,IAAI,CAAC,mBAAmB,EAAxB,wBAAwB;wBACxB,SAAI;wBAAiB,qBAAM,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC;;wBAA/F,GAAK,aAAa,GAAG,SAA0E,CAAC;wBAChG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC;;;wBAEtD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;wBAC1B,sBAAO,IAAI,CAAC,aAAa,EAAC;;;;KAC7B;IAED,4CAAoB,GAApB,UAAqB,YAAoB;QACrC,IAAI,SAAS,GAAG,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACxC,IAAI,UAAU,CAAC;QACf,IAAI,SAAS,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;YAC9C,IAAI,UAAU,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAC3D,UAAU,GAAG,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,KAAK,GAAG,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SACnE;aAAM;YACH,UAAU,GAAG,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SACpC;QACD,OAAO,UAAU,CAAC;IACtB,CAAC;IAEK,oCAAY,GAAlB,UAAmB,IAAc,EAAE,YAAqB,EAAE,gBAAiD,EACxF,yBAA0C;QADH,0DAAiD;QACxF,6EAA0C;;;;;;;wBACzD,IAAI,CAAC,IAAI,CAAC,qBAAqB,EAAE,EAAE;4BAC/B,sBAAO;yBACV;wBACG,YAAY,GAAG,IAAI,CAAC;wBAClB,YAAY,GAAuB,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;wBAC5D,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC;wBAC/C,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;wBAC/B,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;wBACnC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;wBAC3B,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC;wBAC5B,iBAAiB,GAAG,CAAC,CAAC;wBACtB,IAAI,GAAG,IAAI,CAAC;wBAChB,IAAI,CAAC,aAAa,GAAG,sDAAK,CAAC,KAAK,CAAC,UAAU,IAAS,EAAE,gBAAqB;4BACvE,SAAS,QAAQ;gCACb,iBAAiB,EAAE,CAAC;gCACpB,OAAO,CAAC,GAAG,CAAC,wBAAsB,iBAAiB,SAAI,aAAa,WAAM,IAAI,CAAC,WAAa,CAAC,CAAC;gCAC9F,IAAI,IAAI,CAAC,QAAQ,EAAE;oCACf,IAAI,CAAC,QAAQ,CAAC,iBAAiB,EAAE,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;iCACrE;gCACD,IAAI,gBAAgB,EAAE;oCAClB,IAAI,gBAAgB,CAAC,iBAAiB,EAAE,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,EAAE;wCACtE,gCAAgC;wCAChC,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;wCAC1B,YAAY,CAAC,wBAAwB,CAAC,CAAC;wCACvC,OAAO;qCACV;iCACJ;gCACD,gBAAgB,EAAE,CAAC;4BACvB,CAAC;4BACD,OAAO,CAAC,GAAG,CAAC,6BAA6B,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;4BAC7D,IAAI,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW;gCAC/D,CAAC,CAAC,+DAAM,CAAC,qBAAqB,GAAG,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;4BAC5F,UAAU,CAAC;gCAAK,YAAY,CAAC,QAAQ,CAAC,GAAG,EAAE,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC;qCACtE,IAAI,CAAC;oCACF,IAAI,CAAC,YAAY,EAAE;wCACf,QAAQ,EAAE,CAAC;wCACX,OAAO;qCACV;oCACD,WAAW,CAAC,aAAa,CAAC,aAAa,EAAE,IAAI,CAAC,UAAU,CAAC;yCACpD,IAAI,CAAC,iBAAO;wCACT,aAAa,CAAC,OAAO,EAAE,GAAG,EAAE,GAAG,CAAC;6CAC3B,IAAI,CAAC,uBAAa;4CACf,SAAS,CAAC,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,aAAa,EAAE,WAAW,CAAC;4CACnF,QAAQ,EAAE;wCACd,CAAC,CAAC;6CACD,KAAK,CAAC,eAAK;4CACR,OAAO,CAAC,KAAK,CAAC,kBAAkB,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;4CACzD,QAAQ,EAAE;wCACd,CAAC,CAAC,CAAC;oCACX,CAAC,EAAE,eAAK;wCACJ,OAAO,CAAC,KAAK,CAAC,uBAAuB,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;wCAC9D,QAAQ,EAAE,CAAC;oCACf,CAAC,CAAC;yCACD,KAAK,CAAC,eAAK;wCACR,OAAO,CAAC,KAAK,CAAC,uBAAuB,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;wCAC9D,QAAQ,EAAE,CAAC;oCACf,CAAC,CAAC;gCACV,CAAC,CAAC;qCACD,KAAK,CAAC,eAAK;oCACR,OAAO,CAAC,KAAK,CAAC,6BAA2B,IAAI,CAAC,WAAa,CAAC;oCAC5D,QAAQ,EAAE,CAAC;gCACf,CAAC,CAAC;4BAAA,CAAC,EAAE,EAAE,CAAC,CAAC;wBACjB,CAAC,EAAE,CAAC,CAAC,CAAC;wBAEF,OAAO,GAAG,IAAI,OAAO,CAAM,UAAC,OAAO,EAAE,KAAK;4BAC1C,YAAY,GAAG,KAAK,CAAC;4BACrB,KAAI,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;wBACtC,CAAC,CAAC,CAAC;;;;;;wCAGK,WAAW,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;wCAC1B,mBAAmB;wCACnB,IAAI,CAAC,WAAW,IAAI,WAAW,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,WAAW,CAAC,WAAW,EAAE,KAAK,MAAM,EAAE;;yCAEtF;wCAGG,UAAU,GAAG,OAAK,gBAAgB,CAAC,WAAW,CAAC,CAAC;wCAChD,IAAI,UAAC;wCACL,MAAC,yBAAyB;iDAA1B,wBAA0B;wCAC1B,SAAI;wCAAa,qBAAM,OAAK,WAAW,CAAC,OAAO,CAAC,OAAK,aAAa,EAAE,UAAU,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC;iDAC7F,IAAI,CAAC,UAAC,GAAG,IAAK,UAAG,EAAH,CAAG,EAAE,UAAC,GAAG,IAAK,WAAI,EAAJ,CAAI,CAAC;;wCADtC,YAAS,CAAC,IAAI,GAAG,SACqB,CAAC;;;wCAF3C,QAE6C;4CACzC,IAAI,CAAC,IAAI,CAAC,cAAI;gDACV,IAAI,IAAI,CAAC,IAAI,IAAI,CAAC,EAAE;oDAChB,6DAA6D;oDAC7D,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC;wDACpB,YAAY,EAAE,YAAY;wDAC1B,WAAW,EAAE,WAAW;wDACxB,UAAU,EAAE,UAAU;wDACtB,QAAQ,EAAE,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,IAAI;qDACvD,EAAE;wDACC,OAAO,CAAC,GAAG,CAAC,0BAAwB,UAAY,CAAC;oDACrD,CAAC,CAAC,CAAC;iDACN;qDAAM;oDACH,iBAAiB,EAAE,CAAC;oDACpB,IAAI,gBAAgB,EAAE;wDAClB,OAAO,CAAC,GAAG,CAAC,yBAAuB,UAAY,CAAC;wDAChD,gBAAgB,CAAC,iBAAiB,EAAE,aAAa,EAAE,WAAW,CAAC,CAAC;qDACnE;iDACJ;4CACL,CAAC,EAAE,eAAK;gDACJ,yBAAyB;gDACzB,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC;oDACpB,YAAY,EAAE,YAAY;oDAC1B,WAAW,EAAE,WAAW;oDACxB,UAAU,EAAE,UAAU;oDACtB,QAAQ,EAAE,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,IAAI;iDACvD,EAAE;oDACC,OAAO,CAAC,GAAG,CAAC,0BAAwB,UAAY,CAAC;gDACrD,CAAC,CAAC,CAAC;4CACP,CAAC,CAAC;yCACL;6CAAM;4CACH,6DAA6D;4CAC7D,OAAO,CAAC,GAAG,CAAC,+BAA6B,UAAY,CAAC,CAAC;4CACvD,OAAK,aAAa,CAAC,IAAI,CAAC;gDACpB,YAAY,EAAE,YAAY;gDAC1B,WAAW,EAAE,WAAW;gDACxB,UAAU,EAAE,UAAU;gDACtB,QAAQ,EAAE,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,IAAI;6CACvD,EAAE;gDACC,OAAO,CAAC,GAAG,CAAC,0BAAwB,UAAY,CAAC;4CACrD,CAAC,CAAC;yCACL;;;;;;wBArDI,CAAC,GAAG,CAAC;;;6BAAE,EAAC,GAAG,IAAI,CAAC,MAAM;;;;;;wBAAE,CAAC,EAAE;;;wBAuDpC,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,KAAK,CAAC,EAAE;4BACnC,sBAAO;yBACV;wBACD,sBAAO,OAAO,EAAC;;;;KAClB;IAED,wCAAgB,GAAhB,UAAiB,OAAe,EAAE,SAA0B;QAA1B,6CAA0B;QACxD,IAAI,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE;YAC/B,iBAAiB;YACjB,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACzD,IAAI,UAAU,GAAG,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YACtC,IAAI,UAAU,GAAG,CAAC,EAAE;gBAChB,cAAc;gBACd,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC;aAC9C;SACJ;QACD,OAAO,SAAS,CAAC,CAAC,CAAC,QAAQ,GAAG,OAAO,CAAC,OAAO,CAAC,oBAAoB,EAAE,EAAE,CAAC,CAAC,CAAC;YACrE,OAAO,CAAC,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;IACxC,CAAC;IAED,6CAAqB,GAArB,UAAsB,OAAe;QACjC,OAAO,QAAQ,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;IACrD,CAAC;IAED,qCAAa,GAAb,UAAc,OAAe,EAAE,WAA4B,EAAE,SAA0B,EAAE,WAA4B;QAAtF,iDAA4B;QAAE,6CAA0B;QAAE,iDAA4B;QACjH,IAAI,WAAW,EAAE;YACb,OAAO,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;gBACzG,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC;oBAC1D,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC;wBAC1E,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;SAC9C;QACD,IAAI,WAAW,EAAE;YACb,OAAO,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC;gBAC1E,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC;oBAChC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,SAAS,CAAC;wBAChF,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC;SAC7C;QACD,OAAO,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;YACjG,CAAC,CAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC;gBACvD,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,SAAS,CAAC;oBAC/E,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IAC/C,CAAC;IAED,oCAAY,GAAZ,UAAa,OAAe;QACxB,OAAO,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,+DAAM,CAAC,qBAAqB,GAAG,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC;IAC5F,CAAC;IAED,wCAAgB,GAAhB,UAAiB,GAAG;QAChB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC;YAAE,OAAO,GAAG,CAAC;QAC7C,IAAI,QAAQ,GAAS,MAAO,CAAC,KAAK,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;QAC/D,8FAA8F;QAC9F,IAAI,QAAQ,CAAC,QAAQ,CAAC,kBAAkB,CAAC,EAAE;YACvC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,sBAAsB,CAAC,QAAQ,CAAC,CAAC;SAC9D;QACD,OAAO,QAAQ,CAAC;IACpB,CAAC;IAEK,4CAAoB,GAA1B,UAA2B,IAAc,EAAE,YAAmB;QAAnB,kDAAmB;;;;gBAC1D,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;oBACrB,sBAAO;iBACV;;oBAEG,IAAI,WAAW,GAAG,IAAI,CAAC,CAAC,CAAC;oBACzB,mBAAmB;oBACnB,IAAI,WAAW,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,WAAW,CAAC,WAAW,EAAE,KAAK,MAAM,EAAE;;qBAEtE;oBAGD,IAAI,UAAU,GAAG,OAAK,gBAAgB,CAAC,WAAW,CAAC,CAAC;oBACpD,OAAK,WAAW,CAAC,OAAO,CAAC,OAAK,aAAa,EAAE,UAAU,EAAE,EAAC,MAAM,EAAE,KAAK,EAAC,CAAC,CAAC,IAAI,CAAC,cAAI;wBAC/E,IAAI,CAAC,MAAM,CAAC,cAAM,cAAO,CAAC,GAAG,CAAC,eAAe,GAAG,UAAU,CAAC,EAAzC,CAAyC,EACvD,cAAM,cAAO,CAAC,GAAG,CAAC,wBAAwB,GAAG,UAAU,CAAC,EAAlD,CAAkD,CAAC;oBACjE,CAAC,EAAE,cAAM,cAAO,CAAC,GAAG,CAAC,wBAAwB,GAAG,UAAU,CAAC,EAAlD,CAAkD,CAAC,CAAC;oBAC7D,IAAI,YAAY,EAAE;wBACd,UAAU,GAAG,OAAK,qBAAqB,CAAC,WAAW,CAAC,CAAC;wBACrD,OAAK,WAAW,CAAC,OAAO,CAAC,OAAK,aAAa,EAAE,UAAU,EAAE,EAAC,MAAM,EAAE,KAAK,EAAC,CAAC,CAAC,IAAI,CAAC,cAAI;4BAC/E,IAAI,CAAC,MAAM,CAAC,cAAM,cAAO,CAAC,GAAG,CAAC,eAAe,GAAG,UAAU,CAAC,EAAzC,CAAyC,EACvD,cAAM,cAAO,CAAC,GAAG,CAAC,wBAAwB,GAAG,UAAU,CAAC,EAAlD,CAAkD,CAAC;wBACjE,CAAC,EAAE,cAAM,cAAO,CAAC,GAAG,CAAC,wBAAwB,GAAG,UAAU,CAAC,EAAlD,CAAkD,CAAC,CAAC;qBAChE;;;gBAnBL,KAAS,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE;;iBAoBnC;;;;KACJ;IAED;;;;;OAKG;IACG,wCAAgB,GAAtB,UAAuB,OAAe,EAAE,SAAiB;;;;;;;wBACrD,IAAI,SAAS,EAAE;4BACP,cAAc,GAAG,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;4BAC9C,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,cAAc,CAAC,GAAG,GAAG,GAAG,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;yBACxG;wBACD,IAAI,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,EAAE;4BACrC,sBAAO,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,EAAC;yBAC9C;6BACG,IAAI,CAAC,aAAa,EAAlB,wBAAkB;wBAClB,wCAAwC;wBACxC,qBAAM,IAAI,OAAO,CAAC,iBAAO;gCACrB,KAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,UAAC,iBAAiB,EAAE,aAAa,EAAE,GAAG;oCACtE,IAAI,GAAG,IAAI,OAAO,EAAE;wCAChB,OAAO,EAAE,CAAC;qCACb;oCACD,OAAO,KAAK,CAAC;gCACjB,CAAC,EAAE,KAAK,CAAC,CAAC;4BACd,CAAC,CAAC;;wBARF,wCAAwC;wBACxC,SAOE,CAAC;;4BAEP,sBAAO,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,EAAC;;;;KAC5E;IAGY,wCAAgB,GAA7B,UAA8B,KAAY,EAAE,gBAAqB,EAAE,YAAiB;;;;;;wBAChF,IAAI,CAAO,MAAO,CAAC,KAAK,EAAE;4BACtB,oFAAoF;4BACpF,sBAAO;yBACV;wBAEG,GAAG,GAAG,+DAAM,CAAC,qBAAqB,GAAG,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC;wBACrE,eAAe,GAAuB,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;wBAC7D,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC;wBAC/C,kBAAkB,GAAI,aAAa,GAAG,KAAK,CAAC,WAAW,CAAC;wBAC5D,qBAAM,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,KAAK;gCAC7B,eAAe,CAAC,UAAU,CAAC,UAAC,QAAQ;oCAChC,IAAI,QAAQ,CAAC,MAAM,IAAI,QAAQ,CAAC,KAAK,IAAI,QAAQ,CAAC,MAAM,GAAG,QAAQ,CAAC,KAAK,EAAE;wCACvE,IAAI,QAAQ,CAAC,KAAK,GAAG,CAAC,EAAE;4CACpB,IAAI,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,QAAQ,CAAC,MAAM,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;gDACxE,KAAK,CAAC,uBAAuB,CAAC,CAAC;gDAC/B,eAAe,CAAC,KAAK,EAAE,CAAC;6CAC3B;yCACJ;qCACJ;gCACL,CAAC,CAAC,CAAC;gCAGH,eAAe,CAAC,QAAQ,CAAC,GAAG,EAAE,kBAAkB,CAAC,CAAC,IAAI,CAAC,UAAC,MAAM;oCACpD,MAAO,CAAC,KAAK,CAAC,KAAK,CAAC,kBAAkB,EAAE,EAAC,MAAM,EAAE,aAAa,GAAG,QAAQ,EAAC,EAAE,UAAU,IAAI;wCAC5F,oEAAoE;wCACpE,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;wCACvB,OAAO,CAAC,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;wCAC/C,OAAO,EAAE,CAAC;oCACd,CAAC,EAAE,UAAU,KAAK;wCACd,uDAAuD;wCACvD,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;wCAC/B,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;oCACtB,CAAC,CAAC;gCACN,CAAC,EAAE,KAAK,CAAC,CAAC,KAAK,CAAC,UAAC,GAAG,IAAM,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,GAAG,CAAC,GAAC,CAAC,CAAC;4BACxE,CAAC,CAAC;;wBAzBF,SAyBE,CAAC;;;;;KACN;IAEK,+CAAuB,GAA7B;;;;;;wBACU,OAAO,GAAkB;4BAC3B,OAAO,EAAE,EAAE;4BACX,YAAY,EAAE,GAAG;4BACjB,WAAW,EAAE,GAAG;4BAChB,eAAe,EAAE,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,QAAQ;4BACrD,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI;4BAC3C,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO;4BACxC,kBAAkB,EAAE,IAAI;4BACxB,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,YAAY;yBACzD,CAAC;;;;wBAEoB,qBAAM,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC;;wBAAjD,SAAS,GAAG,SAAqC;wBACvD,sBAAO,EAAC,SAAS,EAAE,SAAS,EAAE,MAAM,EAAE,yBAAyB,GAAG,SAAS,EAAC,EAAC;;;wBAE7E,MAAM,KAAG,CAAC;;;;;KAEjB;IAEK,0CAAkB,GAAxB;;;;;;wBACU,OAAO,GAAkB;4BAC3B,OAAO,EAAE,EAAE;4BACX,YAAY,EAAE,GAAG;4BACjB,WAAW,EAAE,GAAG;4BAChB,kBAAkB,EAAE,IAAI;4BACxB,eAAe,EAAE,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,QAAQ;4BACrD,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI;4BAC3C,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO;yBAC3C,CAAC;;;;wBAGoB,qBAAM,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC;;wBAAjD,SAAS,GAAG,SAAqC;wBACvD,sBAAO,EAAC,SAAS,EAAE,SAAS,EAAE,MAAM,EAAE,yBAAyB,GAAG,SAAS,EAAC,EAAC;;;wBAE7E,MAAM,KAAG,CAAC;;;;;KAEjB;;IA9YQ,aAAa;QADzB,iEAAU,EAAE;yCAagB,gEAAI;YACP,+DAAQ;YACR,iFAAY;YAChB,2DAAI;YACE,wEAAU;YACV,+EAAY;YAChB,qEAAM;OAlBjB,aAAa,CAgZzB;IAAD,oBAAC;CAAA;AAhZyB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACd1B,oBAAoB;AACuB;AAGa;AACV;AACU;AAEf;AACM;AAK/C;IAAwC,sCAAW;IACjD,4BACE,MAAwB,EACxB,IAAgB;eAEhB,kBAAM,MAAM,EAAE,IAAI,CAAC;IACrB,CAAC;IAGD;;;;;;;;;;;;OAYG;IAEH,mDAAsB,GAAtB,UAAuB,MAA+C;QACpE,IAAI,QAAQ,GAAG,IAAI,wEAAU,EAAE,CAAC;QAChC,IAAI,SAAS,GAAG,IAAI,yEAAW,EAAE,CAAC;QAClC,IAAI,MAAM,GAAQ,IAAI,CAAC;QAKvB,IAAI,GAAG,GAAG,IAAI,yEAAW,CACvB,KAAK,EACL,IAAI,CAAC,OAAO,IAAG,cAAY,MAAM,CAAC,WAAW,cAAS,MAAM,CAAC,SAAS,kBAAa,MAAM,CAAC,QAAQ,SAAI,MAAM,CAAC,SAAW,GACxH,MAAM,EACN;YACE,OAAO,EAAE,SAAS;YAClB,MAAM,EAAE,QAAQ;YAChB,YAAY,EAAE,MAAM;SACrB,CAAC,CAAC;QAEL,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAM,GAAG,CAAC,CAAC,IAAI,CACrC,qEAAM,CAAC,YAAE,IAAI,SAAE,YAAY,0EAAY,EAA1B,CAA0B,CAAC,EACxC,+DAAG,CAAC,YAAE;YACJ,IAAI,KAAK,GAAG,EAAuB,CAAC;YACpC,IAAI,KAAK,GAAQ,IAAI,CAAC;YAEtB,OAAO,KAAK,CAAC,KAAK,CAAC,EAAC,IAAI,EAAE,KAAK,EAAC,CAAsB,CAAC;QACzD,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAGD;;;;;;;;;;;;OAYG;IAEH,2CAAc,GAAd,UAAe,MAA+C;QAC5D,OAAO,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC,CAAC,IAAI,CAC7C,+DAAG,CAAC,YAAE,IAAI,OAAM,EAAG,CAAC,IAAI,EAAd,CAAc,CAAC,CAC1B,CAAC;IACJ,CAAC;IAGD;;;;;;;;OAQG;IAEH,0DAA6B,GAA7B,UAA8B,MAAsD;QAClF,IAAI,QAAQ,GAAG,IAAI,wEAAU,EAAE,CAAC;QAChC,IAAI,SAAS,GAAG,IAAI,yEAAW,EAAE,CAAC;QAClC,IAAI,MAAM,GAAQ,IAAI,CAAC;QAGvB,IAAI,GAAG,GAAG,IAAI,yEAAW,CACvB,KAAK,EACL,IAAI,CAAC,OAAO,IAAG,cAAY,MAAM,CAAC,WAAW,cAAS,MAAM,CAAC,SAAW,GACxE,MAAM,EACN;YACE,OAAO,EAAE,SAAS;YAClB,MAAM,EAAE,QAAQ;YAChB,YAAY,EAAE,MAAM;SACrB,CAAC,CAAC;QAEL,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAM,GAAG,CAAC,CAAC,IAAI,CACrC,qEAAM,CAAC,YAAE,IAAI,SAAE,YAAY,0EAAY,EAA1B,CAA0B,CAAC,EACxC,+DAAG,CAAC,YAAE;YACJ,IAAI,KAAK,GAAG,EAAuB,CAAC;YACpC,IAAI,KAAK,GAAQ,IAAI,CAAC;YAEtB,OAAO,KAAK,CAAC,KAAK,CAAC,EAAC,IAAI,EAAE,KAAK,EAAC,CAAsB,CAAC;QACzD,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAGD;;;;;;;;OAQG;IAEH,kDAAqB,GAArB,UAAsB,MAAsD;QAC1E,OAAO,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,CAAC,IAAI,CACpD,+DAAG,CAAC,YAAE,IAAI,OAAM,EAAG,CAAC,IAAI,EAAd,CAAc,CAAC,CAC1B,CAAC;IACJ,CAAC;IAGD;;;;;;;;OAQG;IAEH,iDAAoB,GAApB,UAAqB,MAA6C;QAChE,IAAI,QAAQ,GAAG,IAAI,wEAAU,EAAE,CAAC;QAChC,IAAI,SAAS,GAAG,IAAI,yEAAW,EAAE,CAAC;QAClC,IAAI,MAAM,GAAQ,IAAI,CAAC;QAGvB,IAAI,GAAG,GAAG,IAAI,yEAAW,CACvB,QAAQ,EACR,IAAI,CAAC,OAAO,IAAG,cAAY,MAAM,CAAC,WAAW,cAAS,MAAM,CAAC,SAAW,GACxE,MAAM,EACN;YACE,OAAO,EAAE,SAAS;YAClB,MAAM,EAAE,QAAQ;YAChB,YAAY,EAAE,MAAM;SACrB,CAAC,CAAC;QAEL,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAM,GAAG,CAAC,CAAC,IAAI,CACrC,qEAAM,CAAC,YAAE,IAAI,SAAE,YAAY,0EAAY,EAA1B,CAA0B,CAAC,EACxC,+DAAG,CAAC,YAAE;YACJ,IAAI,KAAK,GAAG,EAAuB,CAAC;YACpC,IAAI,KAAK,GAAQ,IAAI,CAAC;YAEtB,OAAO,KAAK,CAAC,KAAK,CAAC,EAAC,IAAI,EAAE,KAAK,EAAC,CAAsB,CAAC;QACzD,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAGD;;;;;;;;OAQG;IAEH,yCAAY,GAAZ,UAAa,MAA6C;QACxD,OAAO,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,IAAI,CAC3C,+DAAG,CAAC,YAAE,IAAI,OAAM,EAAG,CAAC,IAAI,EAAd,CAAc,CAAC,CAC1B,CAAC;IACJ,CAAC;IArLU,kBAAkB;QAD9B,iEAAU,EAAE;yCAGD,4EAAgB;YAClB,wEAAU;OAHP,kBAAkB,CAsL9B;IAAD,yBAAC;CAAA,CAtLuC,kEAAW,GAsLlD;AAtL8B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACd/B,oBAAoB;AACuB;AAGa;AACV;AACU;AAEf;AACM;AAQ/C;IAAwC,sCAAW;IACjD,4BACE,MAAwB,EACxB,IAAgB;eAEhB,kBAAM,MAAM,EAAE,IAAI,CAAC;IACrB,CAAC;IAGD;;;;;;;;;;OAUG;IAEH,gDAAmB,GAAnB,UAAoB,MAA4C;QAC9D,IAAI,QAAQ,GAAG,IAAI,wEAAU,EAAE,CAAC;QAChC,IAAI,SAAS,GAAG,IAAI,yEAAW,EAAE,CAAC;QAClC,IAAI,MAAM,GAAQ,IAAI,CAAC;QAIvB,IAAI,GAAG,GAAG,IAAI,yEAAW,CACvB,KAAK,EACL,IAAI,CAAC,OAAO,IAAG,cAAY,MAAM,CAAC,WAAW,cAAS,MAAM,CAAC,WAAW,SAAI,MAAM,CAAC,aAAe,GAClG,MAAM,EACN;YACE,OAAO,EAAE,SAAS;YAClB,MAAM,EAAE,QAAQ;YAChB,YAAY,EAAE,MAAM;SACrB,CAAC,CAAC;QAEL,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAM,GAAG,CAAC,CAAC,IAAI,CACrC,qEAAM,CAAC,YAAE,IAAI,SAAE,YAAY,0EAAY,EAA1B,CAA0B,CAAC,EACxC,+DAAG,CAAC,YAAE;YACJ,IAAI,KAAK,GAAG,EAAuB,CAAC;YACpC,IAAI,KAAK,GAAwB,IAAI,CAAC;YACtC,KAAK,GAAG,KAAK,CAAC,IAA2B;YACzC,OAAO,KAAK,CAAC,KAAK,CAAC,EAAC,IAAI,EAAE,KAAK,EAAC,CAAsC,CAAC;QACzE,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAGD;;;;;;;;;;OAUG;IAEH,wCAAW,GAAX,UAAY,MAA4C;QACtD,OAAO,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC,IAAI,CAC1C,+DAAG,CAAC,YAAE,IAAI,OAAM,EAAG,CAAC,IAAI,EAAd,CAAc,CAAC,CAC1B,CAAC;IACJ,CAAC;IAGD;;;;;;;;;;OAUG;IAEH,mDAAsB,GAAtB,UAAuB,MAA+C;QACpE,IAAI,QAAQ,GAAG,IAAI,wEAAU,EAAE,CAAC;QAChC,IAAI,SAAS,GAAG,IAAI,yEAAW,EAAE,CAAC;QAClC,IAAI,MAAM,GAAQ,IAAI,CAAC;QAIvB,IAAI,GAAG,GAAG,IAAI,yEAAW,CACvB,KAAK,EACL,IAAI,CAAC,OAAO,IAAG,cAAY,MAAM,CAAC,WAAW,cAAS,MAAM,CAAC,WAAW,SAAI,MAAM,CAAC,aAAe,GAClG,MAAM,EACN;YACE,OAAO,EAAE,SAAS;YAClB,MAAM,EAAE,QAAQ;YAChB,YAAY,EAAE,MAAM;SACrB,CAAC,CAAC;QAEL,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAM,GAAG,CAAC,CAAC,IAAI,CACrC,qEAAM,CAAC,YAAE,IAAI,SAAE,YAAY,0EAAY,EAA1B,CAA0B,CAAC,EACxC,+DAAG,CAAC,YAAE;YACJ,IAAI,KAAK,GAAG,EAAuB,CAAC;YACpC,IAAI,KAAK,GAA+B,IAAI,CAAC;YAC7C,KAAK,GAAG,KAAK,CAAC,IAAkC;YAChD,OAAO,KAAK,CAAC,KAAK,CAAC,EAAC,IAAI,EAAE,KAAK,EAAC,CAA6C,CAAC;QAChF,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAGD;;;;;;;;;;OAUG;IAEH,2CAAc,GAAd,UAAe,MAA+C;QAC5D,OAAO,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC,CAAC,IAAI,CAC7C,+DAAG,CAAC,YAAE,IAAI,OAAM,EAAG,CAAC,IAAI,EAAd,CAAc,CAAC,CAC1B,CAAC;IACJ,CAAC;IAGD;;;;;;;;;;;;OAYG;IAEH,sDAAyB,GAAzB,UAA0B,MAAkD;QAC1E,IAAI,QAAQ,GAAG,IAAI,wEAAU,EAAE,CAAC;QAChC,IAAI,SAAS,GAAG,IAAI,yEAAW,EAAE,CAAC;QAClC,IAAI,MAAM,GAAQ,IAAI,CAAC;QAIvB,MAAM,GAAG,MAAM,CAAC,WAAW,CAAC;QAC5B,IAAI,GAAG,GAAG,IAAI,yEAAW,CACvB,MAAM,EACN,IAAI,CAAC,OAAO,IAAG,cAAY,MAAM,CAAC,WAAW,cAAS,MAAM,CAAC,WAAW,SAAI,MAAM,CAAC,aAAe,GAClG,MAAM,EACN;YACE,OAAO,EAAE,SAAS;YAClB,MAAM,EAAE,QAAQ;YAChB,YAAY,EAAE,MAAM;SACrB,CAAC,CAAC;QAEL,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAM,GAAG,CAAC,CAAC,IAAI,CACrC,qEAAM,CAAC,YAAE,IAAI,SAAE,YAAY,0EAAY,EAA1B,CAA0B,CAAC,EACxC,+DAAG,CAAC,YAAE;YACJ,IAAI,KAAK,GAAG,EAAuB,CAAC;YACpC,IAAI,KAAK,GAA+B,IAAI,CAAC;YAC7C,KAAK,GAAG,KAAK,CAAC,IAAkC;YAChD,OAAO,KAAK,CAAC,KAAK,CAAC,EAAC,IAAI,EAAE,KAAK,EAAC,CAA6C,CAAC;QAChF,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAGD;;;;;;;;;;;;OAYG;IAEH,8CAAiB,GAAjB,UAAkB,MAAkD;QAClE,OAAO,IAAI,CAAC,yBAAyB,CAAC,MAAM,CAAC,CAAC,IAAI,CAChD,+DAAG,CAAC,YAAE,IAAI,OAAM,EAAG,CAAC,IAAI,EAAd,CAAc,CAAC,CAC1B,CAAC;IACJ,CAAC;IAGD;;;;;;;;;;OAUG;IAEH,mDAAsB,GAAtB,UAAuB,MAA+C;QACpE,IAAI,QAAQ,GAAG,IAAI,wEAAU,EAAE,CAAC;QAChC,IAAI,SAAS,GAAG,IAAI,yEAAW,EAAE,CAAC;QAClC,IAAI,MAAM,GAAQ,IAAI,CAAC;QAIvB,IAAI,GAAG,GAAG,IAAI,yEAAW,CACvB,KAAK,EACL,IAAI,CAAC,OAAO,IAAG,cAAY,MAAM,CAAC,WAAW,cAAS,MAAM,CAAC,WAAW,SAAI,MAAM,CAAC,aAAa,SAAM,GACtG,MAAM,EACN;YACE,OAAO,EAAE,SAAS;YAClB,MAAM,EAAE,QAAQ;YAChB,YAAY,EAAE,MAAM;SACrB,CAAC,CAAC;QAEL,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAM,GAAG,CAAC,CAAC,IAAI,CACrC,qEAAM,CAAC,YAAE,IAAI,SAAE,YAAY,0EAAY,EAA1B,CAA0B,CAAC,EACxC,+DAAG,CAAC,YAAE;YACJ,IAAI,KAAK,GAAG,EAAuB,CAAC;YACpC,IAAI,KAAK,GAAsC,IAAI,CAAC;YACpD,KAAK,GAAG,KAAK,CAAC,IAAyC;YACvD,OAAO,KAAK,CAAC,KAAK,CAAC,EAAC,IAAI,EAAE,KAAK,EAAC,CAAoD,CAAC;QACvF,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAGD;;;;;;;;;;OAUG;IAEH,2CAAc,GAAd,UAAe,MAA+C;QAC5D,OAAO,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC,CAAC,IAAI,CAC7C,+DAAG,CAAC,YAAE,IAAI,OAAM,EAAG,CAAC,IAAI,EAAd,CAAc,CAAC,CAC1B,CAAC;IACJ,CAAC;IAGD;;;;;;;;;;OAUG;IAEH,uDAA0B,GAA1B,UAA2B,MAAmD;QAC5E,IAAI,QAAQ,GAAG,IAAI,wEAAU,EAAE,CAAC;QAChC,IAAI,SAAS,GAAG,IAAI,yEAAW,EAAE,CAAC;QAClC,IAAI,MAAM,GAAQ,IAAI,CAAC;QAGvB,MAAM,GAAG,MAAM,CAAC,WAAW,CAAC;QAC5B,IAAI,GAAG,GAAG,IAAI,yEAAW,CACvB,MAAM,EACN,IAAI,CAAC,OAAO,IAAG,cAAY,MAAM,CAAC,WAAW,cAAS,MAAM,CAAC,WAAa,GAC1E,MAAM,EACN;YACE,OAAO,EAAE,SAAS;YAClB,MAAM,EAAE,QAAQ;YAChB,YAAY,EAAE,MAAM;SACrB,CAAC,CAAC;QAEL,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAM,GAAG,CAAC,CAAC,IAAI,CACrC,qEAAM,CAAC,YAAE,IAAI,SAAE,YAAY,0EAAY,EAA1B,CAA0B,CAAC,EACxC,+DAAG,CAAC,YAAE;YACJ,IAAI,KAAK,GAAG,EAAuB,CAAC;YACpC,IAAI,KAAK,GAAsC,IAAI,CAAC;YACpD,KAAK,GAAG,KAAK,CAAC,IAAyC;YACvD,OAAO,KAAK,CAAC,KAAK,CAAC,EAAC,IAAI,EAAE,KAAK,EAAC,CAAoD,CAAC;QACvF,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAGC,sCAAS,GAAT,UAAU,IAAc,EAAE,OAAe,EAAE,MAAc;QACrD,IAAI,SAAS,GAAG,IAAI,yEAAW,EAAE,CAAC;QAClC,SAAS,CAAC,MAAM,CAAC,cAAc,EAAE,qBAAqB,CAAC,CAAC;QACxD,SAAS,CAAC,MAAM,CAAC,QAAQ,EAAE,kBAAkB,CAAC,CAAC;QAI/C,IAAI,GAAG,GAAG,IAAI,yEAAW,CACrB,MAAM,EACN,IAAI,CAAC,OAAO,IAAG,cAAY,OAAO,eAAU,MAAQ,GAAE,IAAI,EAC1D;YACI,OAAO,EAAE,SAAS;SACrB,CAAC,CAAC;QAEP,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAM,GAAG,CAAC,CAAC,SAAS,EAAE,CAAC,KAAK,CAAC,aAAG,IAAG,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,GAAG,CAAC,GAAC,CAAC,CAAC;IAClG,CAAC;IAGH;;;;;;;;;;OAUG;IAEH,+CAAkB,GAAlB,UAAmB,MAAmD;QACpE,OAAO,IAAI,CAAC,0BAA0B,CAAC,MAAM,CAAC,CAAC,IAAI,CACjD,+DAAG,CAAC,YAAE,IAAI,OAAM,EAAG,CAAC,IAAI,EAAd,CAAc,CAAC,CAC1B,CAAC;IACJ,CAAC;IAzUU,kBAAkB;QAD9B,iEAAU,EAAE;yCAGD,4EAAgB;YAClB,wEAAU;OAHP,kBAAkB,CA0U9B;IAAD,yBAAC;CAAA,CA1UuC,kEAAW,GA0UlD;AA1U8B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjB/B,oBAAoB;AACuB;AAGa;AACV;AACU;AAEf;AACM;AAO/C;IAAyC,uCAAW;IAClD,6BACE,MAAwB,EACxB,IAAgB;eAEhB,kBAAM,MAAM,EAAE,IAAI,CAAC;IACrB,CAAC;IAGD;;;OAGG;IAEH,+CAAiB,GAAjB,UAAkB,WAAmB;QACnC,IAAI,QAAQ,GAAG,IAAI,wEAAU,EAAE,CAAC;QAChC,IAAI,SAAS,GAAG,IAAI,yEAAW,EAAE,CAAC;QAClC,IAAI,MAAM,GAAQ,IAAI,CAAC;QAEvB,IAAI,GAAG,GAAG,IAAI,yEAAW,CACvB,KAAK,EACL,IAAI,CAAC,OAAO,IAAG,cAAY,WAAW,WAAQ,GAC9C,MAAM,EACN;YACE,OAAO,EAAE,SAAS;YAClB,MAAM,EAAE,QAAQ;YAChB,YAAY,EAAE,MAAM;SACrB,CAAC,CAAC;QAEL,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAM,GAAG,CAAC,CAAC,IAAI,CACrC,qEAAM,CAAC,YAAE,IAAI,SAAE,YAAY,0EAAY,EAA1B,CAA0B,CAAC,EACxC,+DAAG,CAAC,YAAE;YACJ,IAAI,KAAK,GAAG,EAAuB,CAAC;YACpC,IAAI,KAAK,GAA0B,IAAI,CAAC;YACxC,KAAK,GAAG,KAAK,CAAC,IAA6B;YAC3C,OAAO,KAAK,CAAC,KAAK,CAAC,EAAC,IAAI,EAAE,KAAK,EAAC,CAAwC,CAAC;QAC3E,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAGD;;;OAGG;IAEH,uCAAS,GAAT,UAAU,WAAmB;QAC3B,OAAO,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC,IAAI,CAC7C,+DAAG,CAAC,YAAE,IAAI,OAAM,EAAG,CAAC,IAAI,EAAd,CAAc,CAAC,CAC1B,CAAC;IACJ,CAAC;IAGD;;;;;;;;OAQG;IAEH,mDAAqB,GAArB,UAAsB,MAA+C;QACnE,IAAI,QAAQ,GAAG,IAAI,wEAAU,EAAE,CAAC;QAChC,IAAI,SAAS,GAAG,IAAI,yEAAW,EAAE,CAAC;QAClC,IAAI,MAAM,GAAQ,IAAI,CAAC;QAGvB,IAAI,GAAG,GAAG,IAAI,yEAAW,CACvB,KAAK,EACL,IAAI,CAAC,OAAO,IAAG,cAAY,MAAM,CAAC,WAAW,cAAS,MAAM,CAAC,SAAS,YAAS,GAC/E,MAAM,EACN;YACE,OAAO,EAAE,SAAS;YAClB,MAAM,EAAE,QAAQ;YAChB,YAAY,EAAE,MAAM;SACrB,CAAC,CAAC;QAEL,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAM,GAAG,CAAC,CAAC,IAAI,CACrC,qEAAM,CAAC,YAAE,IAAI,SAAE,YAAY,0EAAY,EAA1B,CAA0B,CAAC,EACxC,+DAAG,CAAC,YAAE;YACJ,IAAI,KAAK,GAAG,EAAuB,CAAC;YACpC,IAAI,KAAK,GAA0B,IAAI,CAAC;YACxC,KAAK,GAAG,KAAK,CAAC,IAA6B;YAC3C,OAAO,KAAK,CAAC,KAAK,CAAC,EAAC,IAAI,EAAE,KAAK,EAAC,CAAwC,CAAC;QAC3E,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAGD;;;;;;;;OAQG;IAEH,2CAAa,GAAb,UAAc,MAA+C;QAC3D,OAAO,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,IAAI,CAC5C,+DAAG,CAAC,YAAE,IAAI,OAAM,EAAG,CAAC,IAAI,EAAd,CAAc,CAAC,CAC1B,CAAC;IACJ,CAAC;IAGD;;;;;;;;;;OAUG;IAEH,+CAAiB,GAAjB,UAAkB,MAA2C;QAC3D,IAAI,QAAQ,GAAG,IAAI,wEAAU,EAAE,CAAC;QAChC,IAAI,SAAS,GAAG,IAAI,yEAAW,EAAE,CAAC;QAClC,IAAI,MAAM,GAAQ,IAAI,CAAC;QAGvB,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QACvB,IAAI,GAAG,GAAG,IAAI,yEAAW,CACvB,MAAM,EACN,IAAI,CAAC,OAAO,IAAG,cAAY,MAAM,CAAC,WAAW,cAAS,MAAM,CAAC,SAAS,YAAS,GAC/E,MAAM,EACN;YACE,OAAO,EAAE,SAAS;YAClB,MAAM,EAAE,QAAQ;YAChB,YAAY,EAAE,MAAM;SACrB,CAAC,CAAC;QAEL,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAM,GAAG,CAAC,CAAC,IAAI,CACrC,qEAAM,CAAC,YAAE,IAAI,SAAE,YAAY,0EAAY,EAA1B,CAA0B,CAAC,EACxC,+DAAG,CAAC,YAAE;YACJ,IAAI,KAAK,GAAG,EAAuB,CAAC;YACpC,IAAI,KAAK,GAA0B,IAAI,CAAC;YACxC,KAAK,GAAG,KAAK,CAAC,IAA6B;YAC3C,OAAO,KAAK,CAAC,KAAK,CAAC,EAAC,IAAI,EAAE,KAAK,EAAC,CAAwC,CAAC;QAC3E,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAGD;;;;;;;;;;OAUG;IAEH,uCAAS,GAAT,UAAU,MAA2C;QACnD,OAAO,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,IAAI,CACxC,+DAAG,CAAC,YAAE,IAAI,OAAM,EAAG,CAAC,IAAI,EAAd,CAAc,CAAC,CAC1B,CAAC;IACJ,CAAC;IAGD;;;;;;;;;;OAUG;IAEH,qDAAuB,GAAvB,UAAwB,MAAiD;QACvE,IAAI,QAAQ,GAAG,IAAI,wEAAU,EAAE,CAAC;QAChC,IAAI,SAAS,GAAG,IAAI,yEAAW,EAAE,CAAC;QAClC,IAAI,MAAM,GAAQ,IAAI,CAAC;QAIvB,IAAI,GAAG,GAAG,IAAI,yEAAW,CACvB,KAAK,EACL,IAAI,CAAC,OAAO,IAAG,cAAY,MAAM,CAAC,WAAW,cAAS,MAAM,CAAC,SAAS,sBAAiB,MAAM,CAAC,QAAU,GACxG,MAAM,EACN;YACE,OAAO,EAAE,SAAS;YAClB,MAAM,EAAE,QAAQ;YAChB,YAAY,EAAE,MAAM;SACrB,CAAC,CAAC;QAEL,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAM,GAAG,CAAC,CAAC,IAAI,CACrC,qEAAM,CAAC,YAAE,IAAI,SAAE,YAAY,0EAAY,EAA1B,CAA0B,CAAC,EACxC,+DAAG,CAAC,YAAE;YACJ,IAAI,KAAK,GAAG,EAAuB,CAAC;YACpC,IAAI,KAAK,GAA0B,IAAI,CAAC;YACxC,KAAK,GAAG,KAAK,CAAC,IAA6B;YAC3C,OAAO,KAAK,CAAC,KAAK,CAAC,EAAC,IAAI,EAAE,KAAK,EAAC,CAAwC,CAAC;QAC3E,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAGD;;;;;;;;;;OAUG;IAEH,6CAAe,GAAf,UAAgB,MAAiD;QAC/D,OAAO,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC,CAAC,IAAI,CAC9C,+DAAG,CAAC,YAAE,IAAI,OAAM,EAAG,CAAC,IAAI,EAAd,CAAc,CAAC,CAC1B,CAAC;IACJ,CAAC;IAjOU,mBAAmB;QAD/B,iEAAU,EAAE;yCAGD,4EAAgB;YAClB,wEAAU;OAHP,mBAAmB,CAkO/B;IAAD,0BAAC;CAAA,CAlOwC,kEAAW,GAkOnD;AAlO+B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBhC,oBAAoB;AACuB;AAGa;AACV;AACU;AAEf;AACM;AAM/C;IAAmD,iDAAW;IAC5D,uCACE,MAAwB,EACxB,IAAgB;eAEhB,kBAAM,MAAM,EAAE,IAAI,CAAC;IACrB,CAAC;IAGD;;;;;;;;OAQG;IAEH,8DAAsB,GAAtB,UAAuB,MAA0D;QAC/E,IAAI,QAAQ,GAAG,IAAI,wEAAU,EAAE,CAAC;QAChC,IAAI,SAAS,GAAG,IAAI,yEAAW,EAAE,CAAC;QAClC,IAAI,MAAM,GAAQ,IAAI,CAAC;QAGvB,IAAI,GAAG,GAAG,IAAI,yEAAW,CACvB,KAAK,EACL,IAAI,CAAC,OAAO,IAAG,cAAY,MAAM,CAAC,WAAW,cAAS,MAAM,CAAC,SAAS,iBAAc,GACpF,MAAM,EACN;YACE,OAAO,EAAE,SAAS;YAClB,MAAM,EAAE,QAAQ;YAChB,YAAY,EAAE,MAAM;SACrB,CAAC,CAAC;QAEL,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAM,GAAG,CAAC,CAAC,IAAI,CACrC,qEAAM,CAAC,YAAE,IAAI,SAAE,YAAY,0EAAY,EAA1B,CAA0B,CAAC,EACxC,+DAAG,CAAC,YAAE;YACJ,IAAI,KAAK,GAAG,EAAuB,CAAC;YACpC,IAAI,KAAK,GAAwB,IAAI,CAAC;YACtC,KAAK,GAAG,KAAK,CAAC,IAA2B;YACzC,OAAO,KAAK,CAAC,KAAK,CAAC,EAAC,IAAI,EAAE,KAAK,EAAC,CAAsC,CAAC;QACzE,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAGD;;;;;;;;OAQG;IAEH,sDAAc,GAAd,UAAe,MAA0D;QACvE,OAAO,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC,CAAC,IAAI,CAC7C,+DAAG,CAAC,YAAE,IAAI,OAAM,EAAG,CAAC,IAAI,EAAd,CAAc,CAAC,CAC1B,CAAC;IACJ,CAAC;IA7DU,6BAA6B;QADzC,iEAAU,EAAE;yCAGD,4EAAgB;YAClB,wEAAU;OAHP,6BAA6B,CA8DzC;IAAD,oCAAC;CAAA,CA9DkD,kEAAW,GA8D7D;AA9DyC;;;;;;;;;;;;;;;;;ACf1C,oBAAoB;AACuB;AAE3C;;GAEG;AAEH;IAAA;QACE,wFAAwF;QACxF,uEAAuE;QACvE,YAAO,GAAW,8BAA8B,CAAC;IACnD,CAAC;IAJY,gBAAgB;QAD5B,iEAAU,EAAE;OACA,gBAAgB,CAI5B;IAAD,uBAAC;CAAA;AAJ4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPoD;AACtD;AAC0B;AACE;AA8CvD;IAA2B,gCAAY;IACrC;eACE,kBAAM,YAAY,CAAC,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC;IAC9D,CAAC;IAED,iCAAU,GAAV,UAAW,SAAiB,EAAE,MAAW;QAAzC,iBAWC;QAVC,OAAO,IAAI,OAAO,CAAe,UAAC,OAAO,EAAE,MAAM;YAC/C,KAAI,CAAC,eAAe,CAAC,WAAW,CAAC,UAAU,EAAE;gBAC3C,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;gBACzB,EAAE,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,UAAU,EAAE,EAAE,OAAO;oBACpD,OAAO,CAAC,OAAO,CAAC,CAAC;gBACnB,CAAC,EAAE,UAAU,EAAE,EAAE,KAAK;oBACpB,MAAM,CAAC,KAAK,CAAC,CAAC;gBAChB,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IACH,mBAAC;AAAD,CAAC,CAjB0B,0EAAY,GAiBtC;AAED;IAAqB,0BAAM;IAA3B;;IAMA,CAAC;IALC,uBAAM,GAAN,UAAO,MAA4B;QACjC,OAAO,IAAI,OAAO,CAAe,UAAC,OAAO,EAAE,MAAM;YAC/C,OAAO,CAAC,IAAI,YAAY,EAAE,CAAC,CAAC;QAC9B,CAAC,CAAC,CAAC;IACL,CAAC;IACH,aAAC;AAAD,CAAC,CANoB,oEAAM,GAM1B;AAED;IAgBE;QAdQ,YAAO,GAAW,IAAI;QACtB,QAAG,GAAiB,IAAI;QACxB,WAAM,GAAY,KAAK;QACvB,UAAK,GAAG,EAAE;IAWM,CAAC;IARX,sBAAW,GAAzB;QACE,IAAI,IAAI,CAAC,SAAS,KAAK,IAAI,EAAE;YAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,UAAU,EAAE,CAAC;SACnC;QAED,OAAO,IAAI,CAAC,SAAS;IACvB,CAAC;IAID,0BAAK,GAAL;QAAA,iBAyBC;QAxBC,IAAI,IAAI,CAAC,MAAM,EAAE;YACf,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;SAC1B;QACD,OAAO,IAAI,OAAO,CAAO,UAAC,OAAO,EAAE,MAAM;YACvC,KAAI,CAAC,OAAO,GAAG,qFAAiB,CAAC,oEAAM,CAAC,YAAY,EAAE,EAAE,IAAI,EAAE,oEAAM,CAAC,aAAa,EAAE,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,IAAI,oEAAM,EAAE,CAAC,CAAC,CAAC,IAAI,MAAM,EAAE,CAAC;YAC7H,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC;gBAClB,IAAI,EAAE,gBAAgB;gBACtB,QAAQ,EAAE,SAAS;aACpB,CAAC;iBACC,IAAI,CAAC,UAAC,EAAgB;gBACrB,KAAI,CAAC,GAAG,GAAG,EAAE;gBACb,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBACnB,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC;gBAC9B,2DAA2D;gBAC3D,KAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC;oBACnB,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;oBACnB,OAAO,EAAE;gBACX,CAAC,CAAC;YACJ,CAAC,CAAC;iBACD,KAAK,CAAC,WAAC;gBACN,OAAO,CAAC,KAAK,CAAC,wBAAwB,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBAC1D,MAAM,CAAC,CAAC,CAAC;YACX,CAAC,CAAC,CAAC;QACP,CAAC,CAAC;IACJ,CAAC;IAEO,6BAAQ,GAAhB;QAAA,iBAyBC;QAxBC,gBAAgB;QAChB,IAAI,kBAAkB,GAAW,iDAAG,CAAC,QAAQ,CAAC,kBAAkB,EAAE;QAClE,IAAI,iBAAiB,GAAW,iDAAG,CAAC,OAAO,CAAC,kBAAkB,EAAE;QAChE,IAAI,kBAAkB,GAAW,iDAAG,CAAC,QAAQ,CAAC,kBAAkB,EAAE;QAClE,IAAI,yBAAyB,GAAW,iDAAG,CAAC,eAAe,CAAC,kBAAkB,EAAE;QAChF,IAAI,kBAAkB,GAAW,iDAAG,CAAC,QAAQ,CAAC,kBAAkB,EAAE;QAClE,IAAI,kBAAkB,GAAW,iDAAG,CAAC,QAAQ,CAAC,kBAAkB,EAAE;QAElE,OAAO,IAAI,OAAO,CAAO,UAAC,OAAO,EAAE,MAAM;YACvC,OAAO,CAAC,GAAG,CAAO;gBAChB,KAAI,CAAC,GAAG,CAAC,UAAU,CAAC,kBAAkB,EAAE,IAAI,CAAC;gBAC7C,KAAI,CAAC,GAAG,CAAC,UAAU,CAAC,iBAAiB,EAAE,IAAI,CAAC;gBAC5C,KAAI,CAAC,GAAG,CAAC,UAAU,CAAC,kBAAkB,EAAE,IAAI,CAAC;gBAC7C,KAAI,CAAC,GAAG,CAAC,UAAU,CAAC,yBAAyB,EAAE,IAAI,CAAC;gBACpD,KAAI,CAAC,GAAG,CAAC,UAAU,CAAC,kBAAkB,EAAE,IAAI,CAAC;gBAC7C,KAAI,CAAC,GAAG,CAAC,UAAU,CAAC,kBAAkB,EAAE,IAAI,CAAC;aAC9C,CAAC,CAAC,IAAI,CAAC;gBACN,OAAO,EAAE;YACX,CAAC,CAAC,CAAC,KAAK,CAAC,eAAK;gBACZ,MAAM,CAAC,KAAK,CAAC;YACf,CAAC,CAAC;QACJ,CAAC,CAAC;IAGJ,CAAC;IAES,sCAAiB,GAA3B;QAAA,iBAWC;QAVC,OAAO,IAAI,OAAO,CAAO,UAAC,OAAO,EAAE,MAAM;YACvC,IAAI,GAAG,GAAG,iBAAe,iDAAG,CAAC,oBAAoB,UAAK,iDAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,SAAI,iDAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,mBAAgB;YACtH,OAAO,CAAC,GAAG,CAAC;gBACV,KAAI,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;gBAC/C,KAAI,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC,eAAe,EAAE,GAAG,CAAC,CAAC;gBAChD,KAAI,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC,wBAAwB,EAAE,GAAG,CAAC,CAAC;aAC1D,CAAC,CAAC,IAAI,CAAC;gBACN,OAAO,EAAE;YACX,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC;QAClB,CAAC,CAAC;IACJ,CAAC;IAED,QAAQ;IACR;;OAEG;IACK,sCAAiB,GAAzB,UAA0B,IAAS;QACjC,IAAI,MAAM,GAAG,IAAI,kEAAsB,EAAkB;QACzD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACzC,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAC5B,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC;SACvC;QAED,OAAO,MAAM;IACf,CAAC;IAED,0BAAK,GAAL;QACE,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB,CAAC;IAED,qCAAgB,GAAhB;QAAA,iBA2BC;QA1BC,OAAO,IAAI,OAAO,CAAyC,UAAC,OAAO,EAAE,MAAM;YACzE,IAAI,QAAQ,GAAG,YAAU,iDAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,SAAI,iDAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,cAAS,iDAAG,CAAC,oBAAsB;YAE5G,KAAI,CAAC,GAAG,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC;iBAC9B,IAAI,CAAC,gBAAM;gBACV,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;gBAClD,0DAA0D;gBAC1D,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC1B,OAAO,CAAC,IAAI,CAAC,sCAAsC,CAAC;oBACpD,KAAI,CAAC,iBAAiB,EAAE,CAAC,IAAI,CAAC;wBAC5B,OAAO,CAAC,GAAG,CAAC,iCAAiC,CAAC;wBAC9C,KAAI,CAAC,GAAG,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAM;4BAC3C,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;4BACnD,OAAO,CAAC,KAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;wBACzC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC;oBAClB,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC;iBACjB;qBAAM;oBACL,kBAAkB;oBAClB,OAAO,CAAC,KAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;iBACxC;YACH,CAAC,CAAC;iBACD,KAAK,CAAC,eAAK;gBACV,OAAO,CAAC,KAAK,CAAC,uCAAuC,EAAE,KAAK,CAAC;gBAC7D,MAAM,CAAC,KAAK,CAAC;YACf,CAAC,CAAC;QACN,CAAC,CAAC;IACJ,CAAC;IAED,kGAAkG;IAClG,uCAAuC;IACvC,uCAAkB,GAAlB;QAAA,iBAmBC;QAlBC,OAAO,IAAI,OAAO,CAAa,UAAC,OAAO,EAAE,MAAM;YAC7C,KAAI,CAAC,GAAG,CAAC,UAAU,CAAC,8BAA4B,iDAAG,CAAC,oBAAoB,sBAAmB,EAAE,IAAI,CAAC;iBAC/F,IAAI,CAAC,gBAAM;gBACV,IAAI,IAAI,GAAe,IAAI;gBAC3B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBAC3C,IAAI,IAAI,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;oBAClE,IAAI,IAAI,KAAK,IAAI,EAAE;wBACjB,IAAI,GAAG,CAAC,IAAI,CAAC;qBACd;yBAAM;wBACL,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;qBAChB;iBACF;gBACD,OAAO,CAAC,IAAI,CAAC;YACf,CAAC,CAAC;iBACD,KAAK,CAAC,eAAK;gBACV,MAAM,CAAC,KAAK,CAAC;YACf,CAAC,CAAC;QACN,CAAC,CAAC;IACJ,CAAC;IAxJc,oBAAS,GAAe,IAAI;IA0J7C,iBAAC;CAAA;AA3JsB;;;;;;;;;AC3EvB;AAAA;AAAA;AAAA;AAAqD;AAChB;AAErC;IAAA;IAkVA,CAAC;IAXU,cAAU,GAAjB;QACI,IAAI,GAAG,CAAC,MAAM,KAAK,IAAI,EAAE;YACrB,GAAG,CAAC,MAAM,GAAG,IAAI,kEAAsB,EAAoB;YAC3D,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,6BAA6B,EAAE,GAAG,CAAC,eAAe,CAAC;YAC3E,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,oBAAoB,EAAE,GAAG,CAAC,QAAQ,CAAC;YAC3D,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,oBAAoB,EAAE,GAAG,CAAC,QAAQ,CAAC;YAC3D,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,mBAAmB,EAAE,GAAG,CAAC,OAAO,CAAC;YACzD,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,oBAAoB,EAAE,GAAG,CAAC,QAAQ,CAAC;YAC3D,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,oBAAoB,EAAE,GAAG,CAAC,QAAQ,CAAC;SAC9D;IACL,CAAC;IAhVe,iBAAa,GAAW,SAAS;IACjC,oBAAgB,GAAW,EAAE;IAE7C,yFAAyF;IACzE,wBAAoB,GAAW,WAAW;IAC1C,uBAAmB,GAAW,UAAU;IACxC,2BAAuB,GAAW,eAAe;IACjD,wBAAoB,GAAW,WAAW;IAC1C,4BAAwB,GAAW,gBAAgB;IACnD,iCAA6B,GAAW,oBAAoB;IAC5D,wBAAoB,GAAW,WAAW;IAC1C,wBAAoB,GAAW,WAAW;IAG1D,+BAA+B;IACf,iBAAa,GAAW,kBAAkB;IAC1C,iBAAa,GAAW,eAAe;IACvC,2BAAuB,GAAW,yBAAyB;IAC3D,uBAAmB,GAAW,qBAAqB;IACnD,uBAAmB,GAAW,qBAAqB;IACnD,uBAAmB,GAAW,qBAAqB;IACnD,kBAAc,GAAW,gBAAgB;IACzC,sBAAkB,GAAW,oBAAoB;IACjD,kBAAc,GAAW,aAAa;IACtC,mBAAe,GAAW,cAAc;IAExD,0BAA0B;IAC1B,cAAc;IACE,YAAQ,GAAa,IAAI,2DAAQ,CAC7C,GAAG,CAAC,oBAAoB,EACxB;QACI,KAAK;QACL,QAAQ;QACR,OAAO;QACP,WAAW;KACd,EACD;QACI,SAAS;QACT,SAAS;QACT,SAAS;QACT,WAAW;KACd,EACD;QACI,2BAA2B;QAC3B,eAAe;QACf,gBAAgB;QAChB,oCAAoC;KACvC,CACJ;IAED,YAAY;IACI,WAAO,GAAa,IAAI,2DAAQ,CAC5C,GAAG,CAAC,mBAAmB,EACvB;QACI,KAAK;QACL,SAAS;QACT,QAAQ;QACR,KAAK;QACL,KAAK;QACL,OAAO;QACP,aAAa;QACb,OAAO;QACP,eAAe;QACf,UAAU;QACV,OAAO;QACP,OAAO;QACP,OAAO;QACP,qBAAqB;QACrB,QAAQ;QACR,MAAM;QACN,OAAO;QACP,MAAM;QACN,WAAW;QACX,gBAAgB;QAChB,MAAM;QACN,aAAa;QACb,WAAW;QACX,SAAS;QACT,gBAAgB;QAChB,UAAU;QACV,SAAS;QACT,MAAM;QACN,aAAa;QACb,oBAAoB;KACvB,EACD;QACI,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,MAAM;QACN,MAAM;QACN,MAAM;QACN,MAAM;QACN,MAAM;QACN,MAAM;QACN,MAAM;QACN,MAAM;QACN,MAAM;QACN,MAAM;QACN,MAAM;QACN,SAAS;QACT,MAAM;QACN,WAAW;QACX,MAAM;QACN,MAAM;QACN,WAAW;QACX,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;KACZ,EACD;QACI,2BAA2B;QAC3B,UAAU;QACV,cAAc;QACd,eAAe;QACf,eAAe;QACf,UAAU;QACV,UAAU;QACV,EAAE;QACF,UAAU;QACV,UAAU;QACV,EAAE;QACF,EAAE;QACF,EAAE;QACF,EAAE;QACF,EAAE;QACF,EAAE;QACF,2BAA2B;QAC3B,EAAE;QACF,oCAAoC;QACpC,UAAU;QACV,EAAE;QACF,UAAU;QACV,KAAK;QACL,wBAAwB;QACxB,EAAE;QACF,EAAE;QACF,EAAE;QACF,EAAE;QACF,EAAE;QACF,EAAE;KACL,CACJ;IAED,WAAW;IACK,YAAQ,GAAa,IAAI,2DAAQ,CAC7C,GAAG,CAAC,oBAAoB,EACxB;QACI,KAAK;QACL,SAAS;QACT,QAAQ;QACR,OAAO;QACP,cAAc;QACd,MAAM;QACN,OAAO;QACP,MAAM;QACN,OAAO;QACP,MAAM;QACN,UAAU;QACV,QAAQ;QACR,cAAc;QACd,QAAQ;QACR,WAAW;QACX,aAAa;QACb,aAAa;QACb,MAAM;QACN,WAAW;QACX,aAAa;QACb,cAAc;QACd,UAAU;QACV,cAAc;QACd,WAAW;QACX,UAAU;KACb,EACD;QACI,SAAS;QACT,SAAS;QACT,SAAS;QACT,MAAM;QACN,MAAM;QACN,MAAM;QACN,MAAM;QACN,SAAS;QACT,MAAM;QACN,SAAS;QACT,SAAS;QACT,SAAS;QACT,MAAM;QACN,MAAM;QACN,WAAW;QACX,MAAM;QACN,WAAW;QACX,MAAM;QACN,SAAS;QACT,MAAM;QACN,MAAM;QACN,MAAM;QACN,MAAM;QACN,MAAM;QACN,SAAS;KACZ,EACD;QACI,2BAA2B;QAC3B,UAAU;QACV,cAAc;QACd,UAAU;QACV,UAAU;QACV,UAAU;QACV,EAAE;QACF,MAAM;QACN,MAAM;QACN,EAAE;QACF,MAAM;QACN,MAAM;QACN,EAAE;QACF,EAAE;QACF,oCAAoC;QACpC,EAAE;QACF,UAAU;QACV,EAAE;QACF,KAAK;QACL,EAAE;QACF,EAAE;QACF,EAAE;QACF,EAAE;QACF,EAAE;QACF,EAAE;KACL,CACJ;IAED,qBAAqB;IACL,mBAAe,GAAa,IAAI,2DAAQ,CACpD,GAAG,CAAC,6BAA6B,EACjC;QACI,KAAK;QACL,qBAAqB;QACrB,UAAU;QACV,SAAS;QACT,WAAW;KACd,EACD;QACI,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,WAAW;KACd,EACD;QACI,2BAA2B;QAC3B,KAAK;QACL,eAAe;QACf,eAAe;QACf,oCAAoC;KACvC,CACJ;IAED,cAAc;IACE,YAAQ,GAAa,IAAI,2DAAQ,CAC7C,GAAG,CAAC,oBAAoB,EACxB;QACI,KAAK;QACL,MAAM;QACN,aAAa;KAChB,EACD;QACI,SAAS;QACT,SAAS;QACT,WAAW;KACd,EACD;QACI,2BAA2B;QAC3B,eAAe;QACf,oCAAoC;KACvC,CACJ;IAED,cAAc;IACE,YAAQ,GAAa,IAAI,2DAAQ,CAC7C,GAAG,CAAC,oBAAoB,EACxB;QACI,KAAK;QACL,SAAS;QACT,UAAU;QACV,OAAO;QACP,cAAc;QACd,kBAAkB;QAClB,cAAc;QACd,MAAM;QACN,UAAU;KACb,EACD;QACI,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;QACT,MAAM;QACN,MAAM;QACN,MAAM;QACN,SAAS;QACT,SAAS;KACZ,EACD;QACI,2BAA2B;QAC3B,eAAe;QACf,eAAe;QACf,eAAe;QACf,EAAE;QACF,EAAE;QACF,EAAE;QACF,MAAM;QACN,MAAM;KACT,CACJ;IAED;;OAEG;IACI,UAAM,GAA6C,IAAI;IAalE,UAAC;CAAA;AAlVwB;AAmVzB,GAAG,CAAC,UAAU,EAAE;;;;;;;;;;;;;;;;;;;;;ACvV6C;AACd;AAM/C;IAGI,2CAAoB,QAAwB,EAAU,iBAAoC;QAA1F,iBAQC;QARmB,aAAQ,GAAR,QAAQ,CAAgB;QAAU,sBAAiB,GAAjB,iBAAiB,CAAmB;QAF1F,SAAI,GAAG,IAAI,CAAC;QACJ,aAAQ,GAAG,CAAC,CAAC;QAEjB,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;QAC1B,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG;YACnB,yCAAyC;YACzC,iBAAiB,CAAC,aAAa,EAAE,CAAC;YAClC,KAAI,CAAC,QAAQ,GAAG,KAAI,CAAC,IAAI,CAAC,eAAe,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAChD,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,GAAC,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QACtE,CAAC;IACL,CAAC;IAED,yDAAa,GAAb;QACI,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,EAAE;YACnC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;SACvC;IACL,CAAC;IAjBQ,iCAAiC;QAJ7C,gEAAS,CAAC;YACP,QAAQ,EAAE,6BAA6B;WACmB;SAC7D,CAAC;yCAIgC,CAA4D;OAHjF,iCAAiC,CAkB7C;IAAD,CAAC;AAAA;SAlBY,iCAAiC,uB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPJ;AACiB;AAEH;AACkB;AAEnB;AACiB;AACb;AACmB;AAU9E;IAYI,mBAAmB,SAAoB,EACnB,UAAsB,EACtB,QAAwB,EACzB,SAA0B,EAC1B,OAAsB,EACtB,gBAAkC,EACjC,aAA4B,EAC5B,kBAAsC;QAPvC,cAAS,GAAT,SAAS,CAAW;QACnB,eAAU,GAAV,UAAU,CAAY;QACtB,aAAQ,GAAR,QAAQ,CAAgB;QACzB,cAAS,GAAT,SAAS,CAAiB;QAC1B,YAAO,GAAP,OAAO,CAAe;QACtB,qBAAgB,GAAhB,gBAAgB,CAAkB;QACjC,kBAAa,GAAb,aAAa,CAAe;QAC5B,uBAAkB,GAAlB,kBAAkB,CAAoB;QAdlD,oBAAe,GAAG,CAAC,CAAC;QAIlB,kBAAa,GAAY,KAAK,CAAC;IAWzC,CAAC;IAEK,oCAAgB,GAAtB;;;;;;wBACQ,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;wBAC5C,SAAI;wBAAS,SAAI,CAAC,QAAQ,CAAC,IAAI;wBAAS,qBAAM,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,OAAO,CAAC;;wBAApF,GAAK,KAAK,GAAG,GAAmB,KAAK,GAAG,SAA4C,CAAC;wBACrF,8DAA8D;wBAC9D,qBAAM,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;;wBAD3B,8DAA8D;wBAC9D,SAA2B,CAAC;wBAC5B,SAAI;wBAAc,qBAAM,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE;;wBAAjD,GAAK,UAAU,GAAG,SAA+B,CAAC;wBACtC,eAAI,CAAC,KAAK,EAAC,eAAe;wBAAC,qBAAM,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE;;wBAAxE,KAAK,GAAG,cAA2B,SAAqC,EAAC;wBAC7E,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC,cAAc,EAAE,CAAC,MAAM,GAAG,KAAK,CAAC,iBAAiB,EAAE,CAAC,MAAM,GAAG,KAAK,CAAC,cAAc,EAAE,CAAC,MAAM,CAAC;wBACxH,OAAO,CAAC,OAAO,EAAE,CAAC;wBACa,qBAAM,IAAI,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;;wBAAhG,KAA2B,SAAqE,EAA/F,WAAW,mBAAE,SAAS;wBAC3B,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;wBAC/B,IAAI,CAAC,kBAAkB,GAAG,SAAS,CAAC;;;;;KACvC;IAEK,8BAAU,GAAhB,UAAiB,KAAY;;;;gBAErB,aAAa,GAAkB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC;gBACpE,aAAa,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;;;;KACnC;IAED,6BAAS,GAAT,UAAU,KAAY;QAClB,IAAI,KAAK,CAAC,UAAU,EAAE;YAClB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAC,SAAS,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAC,CAAC,CAAC;SAC1D;IACL,CAAC;IAEK,+BAAW,GAAjB;;;;;wBACI,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;wBAC1B,qBAAM,IAAI,CAAC,UAAU,CAAC,qBAAqB,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC;;wBAA7D,SAA6D,CAAC;wBAC9D,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;;;;;KAC7B;IAED,2CAAuB,GAAvB;QAAA,iBAOC;QANG,IAAM,aAAa,GAAkB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC;QACtE,aAAa,CAAC,UAAU,CAAC,gCAAgC,EAAE,oCAAoC,EAC3F,IAAI,EAAE,cAAO,CAAC,EACd,KAAK,EAAE;;;4BACH,qBAAM,IAAI,CAAC,WAAW,EAAE;;wBAAxB,SAAwB,CAAC;;;;aAC5B,CAAC,CAAC;IACX,CAAC;IAEK,qCAAiB,GAAvB;;;;;;6BACQ,CAAC,IAAI,CAAC,WAAW,EAAjB,wBAAiB;wBACc,qBAAM,IAAI,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC;;wBAAtG,KAA2B,SAA2E,EAArG,WAAW,mBAAE,SAAS;wBAC3B,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;wBAC/B,IAAI,CAAC,kBAAkB,GAAG,SAAS,CAAC;;;wBAExC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC;;;;;KAChE;IAtEQ,SAAS;QAJrB,gEAAS,CAAC;YACP,QAAQ,EAAE,YAAY;WACO;SAChC,CAAC;sFAayC;YACP,gGAAU;YACZ,sEAAc;YACd,+FAAe;YACjB,6EAAa;YACJ,oFAAgB;YAClB,iGAAa;YACR,MAAkB;OAnBjD,SAAS,CAuErB;IAAD,CAAC;AAAA;SAvEY,SAAS,mB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBoB;AACe;AAEiB;AAO1E;;;;;GAKG;AAMH;IAOE,iCAAiC;IACjC,sBACS,OAAsB,EACtB,SAAoB,EACnB,QAAwB;QAFzB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACnB,aAAQ,GAAR,QAAQ,CAAgB;QAN3B,UAAK,GAAW,EAAE,CAAC;IAO1B,CAAC;IAGD,gCAAS,GAAT,UAAU,KAAY,EAAE,YAAkB;QACxC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAC,KAAK,EAAE,KAAK,EAAE,YAAY,EAAE,YAAY,EAAC,CAAC,CAAC;IACpE,CAAC;IAEK,uCAAgB,GAAtB;;;;;;wBACC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;wBACzC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;wBACzC,2CAA2C;wBAC3C,SAAI;wBAAS,qBAAM,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;;wBADxC,2CAA2C;wBAC3C,GAAK,KAAK,GAAG,SAA2B,CAAC;;;;;KAEzC;IAED,6BAAM,GAAN;QACE,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC1B,CAAC;IA7BU,YAAY;QAJxB,gEAAS,CAAC;YACT,QAAQ,EAAE,eAAe;WACO;SACjC,CAAC;6EAU+B;YACX,gGAAS;YACT,SAAc;OAXvB,YAAY,CA8BxB;IAAD,CAAC;AAAA;SA9BY,YAAY,mB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrBoC;AACpB;AACa;AACV;AACG;AAe/C;IAA0C,wCAAW;IAEjD,8BACI,MAAwB,EACxB,IAAgB;eAEhB,kBAAM,MAAM,EAAE,IAAI,CAAC;IACvB,CAAC;IACM,0CAAW,GAAlB,UAAmB,IAAU,EAAE,QAAgB;QAC3C,IAAI,OAAO,GAAG,IAAI,yEAAW,EAAE,CAAC,MAAM,CAAC,eAAe,EAAE,oCAAoC,CAAC,CAAC;QAC9F,mEAAmE;QACnE,4CAA4C;QAE5C,IAAI,IAAI,GAAG,IAAI,QAAQ,EAAE,CAAC;QAC1B,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,EAAK,QAAQ,SAAM,CAAC,CAAC;QAC7C,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;QAC7B,IAAI,CAAC,MAAM,CAAC,UAAU,EAAK,QAAQ,SAAM,CAAC,CAAC;QAC3C,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;QAClC,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;QAEnC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;QAClC,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC;QAEvC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAmB,+DAAM,CAAC,oBAAoB,GAAG,kBAAkB,EAAE,IAAI,EAAE,EAAC,OAAO,EAAE,OAAO,EAAC,CAAC,CAAC,SAAS,EAAE,CAAC;IACpI,CAAC;IAEM,0CAAW,GAAlB,UAAmB,QAAgB,EAAE,WAAmB,EAAE,IAAY,EAAE,QAAgB;QACpF,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,4BAA4B,EAAE,EAAC,QAAQ,YAAE,WAAW,eAAE,IAAI,QAAE,QAAQ,YAAC,CAAC,CAAC,SAAS,EAAE,CAAC;IAC5H,CAAC;IAEM,mDAAoB,GAA3B,UAA4B,OAAO;QAC/B,qDAAqD;QACrD,sFAAsF;QACtF,IAAI,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAE7C,kCAAkC;QAClC,IAAI,UAAU,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAElE,kDAAkD;QAClD,IAAI,EAAE,GAAG,IAAI,WAAW,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QAE5C,gCAAgC;QAChC,IAAI,EAAE,GAAG,IAAI,UAAU,CAAC,EAAE,CAAC,CAAC;QAE5B,oDAAoD;QACpD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACxC,EAAE,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;SACpC;QAED,mDAAmD;QACnD,OAAO,IAAI,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,EAAC,IAAI,EAAE,UAAU,EAAC,CAAC,CAAC;IAC9C,CAAC;IAnDQ,oBAAoB;QADhC,iEAAU,EAAE;yCAIG,4EAAgB;YAClB,wEAAU;OAJX,oBAAoB,CAoDhC;IAAD,2BAAC;CAAA,CApDyC,kEAAW,GAoDpD;AApDgC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBoB;AACqB;AACA;AACO;AAErB;AAO5D;IAQI,oCAAoB,SAAoB,EAAS,SAA0B,EAAU,QAAwB,EACzF,YAA0B;QAD1B,cAAS,GAAT,SAAS,CAAW;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAU,aAAQ,GAAR,QAAQ,CAAgB;QACzF,iBAAY,GAAZ,YAAY,CAAc;QAN9C,gBAAW,GAAY,KAAK,CAAC;QAOzB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC;QAC3C,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC;IAC/C,CAAC;IAED,2CAAM,GAAN;QACI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC5B,CAAC;IAEK,mDAAc,GAApB;;;;gBACQ,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,qGAAmB,EAAE,EAAC,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAC,CAAC,CAAC;gBACvG,IAAI,CAAC,MAAM,EAAE,CAAC;gBACd,KAAK,CAAC,OAAO,EAAE,CAAC;;;;KACnB;IAED,2DAAsB,GAAtB;QACI,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,kDAAkD,EAAE,QAAQ,CAAC,CAAC;IAC3F,CAAC;IAzBmB;QAAnB,gEAAS,CAAC,OAAO,CAAC;;6DAAO;IADjB,0BAA0B;QAJtC,gEAAS,CAAC;YACP,QAAQ,EAAE,gCAAgC;WACK;SAClD,CAAC;gGAS+G;YAC3E,YAAY;OATrC,0BAA0B,CA2BtC;IAAD,CAAC;AAAA;SA3BY,0BAA0B,mB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZc;AACqB;AACnB;AAEC;AACM;AACkB;AAMhF;IAWI,6BAAoB,QAAwB,EAAU,SAAoB,EAAU,UAAsB,EACtF,aAA4B,EAAU,cAAqC;QAD3E,aAAQ,GAAR,QAAQ,CAAgB;QAAU,cAAS,GAAT,SAAS,CAAW;QAAU,eAAU,GAAV,UAAU,CAAY;QACtF,kBAAa,GAAb,aAAa,CAAe;QAAU,mBAAc,GAAd,cAAc,CAAuB;QAP/F,oBAAe,GAAa,EAAE,CAAC;QAE/B,cAAS,GAAY,KAAK,CAAC;QAMvB,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC;QACtC,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC;IAC1C,CAAC;IAED,6CAAe,GAAf;QAAA,iBAIC;QAHG,UAAU,CAAC;YACP,KAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;QAC1B,CAAC,EAAE,GAAG,CAAC,CAAC;IACZ,CAAC;IAED,oCAAM,GAAN;QACI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC5B,CAAC;IAEK,mCAAK,GAAX;;;;;;wBACI,IAAG,IAAI,CAAC,eAAe,IAAI,IAAI,IAAI,IAAI,CAAC,eAAe,IAAI,EAAE,EAAE;4BAC3D,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;4BAChD,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;yBAC7B;wBACW,qBAAM,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;;wBAAlE,KAAK,GAAG,SAA0D;;;;wBAElE,qBAAM,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,eAAe,CAAC;;wBAA7F,SAA6F,CAAC;wBAC9F,IAAI,CAAC,MAAM,EAAE,CAAC;wBACd,qBAAM,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,KAAK,CAAC;;wBAAxC,SAAwC,CAAC;wBACzC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC;;;;wBAGjD,IAAI,CAAC,MAAM,EAAE,CAAC;wBACd,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,6BAA6B,EAAE,kCAAkC,EAC3F,QAAQ,EAAE,cAAO,CAAC,CAAC,CAAC;;;;;;KAE9B;IAEF,6CAAe,GAAf;QACI,IAAG,IAAI,CAAC,QAAQ,IAAI,EAAE,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAC;YAC5C,IAAG,IAAI,CAAC,eAAe,IAAI,EAAE,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,EAAE;gBAC3D,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;aACzB;iBACI,IAAG,IAAI,CAAC,eAAe,CAAC,MAAM,IAAI,CAAC,EAAE;gBACtC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;aACzB;iBACI;gBACD,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;aAC1B;SAEJ;aACI;YACD,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;SAC1B;QACD,OAAO,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;IAID,+CAAiB,GAAjB,UAAkB,IAAY;QAC1B,IAAG,IAAI,CAAC,eAAe,IAAI,EAAE,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,EAAE;YAC3D,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAChC,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;SAC7B;IACL,CAAC;IAED,kDAAoB,GAApB,UAAqB,KAAa;QAC9B,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,KAAK,EAAC,CAAC,CAAC,CAAC;IACzC,CAAC;IA3EmB;QAAnB,gEAAS,CAAC,OAAO,CAAC;;sDAAO;IADjB,mBAAmB;QAJ/B,gEAAS,CAAC;YACP,QAAQ,EAAE,wBAAwB;WACM;SAC3C,CAAC;8LAYgC,EAA4E;YACvE,aAAa,EAA0B,CAAqB;OAZtF,mBAAmB,CA+E/B;IAAD,CAAC;AAAA;SA/EY,mBAAmB,mB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZmB;AACA;AAG5C,SAAS,GAAG;IACjB,OAAO,MAAM,CAAC;AAChB,CAAC;AAEM,SAAS,EAAE;IAChB,OAAO,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC;AACrB,CAAC;AAEM,SAAS,MAAM;IACpB,OAAO,EAAE,EAAE,CAAC,MAAM,CAAC;AACrB,CAAC;AAEM,IAAM,YAAY,GAAG;IAC1B,MAAM,EAAE,GAAG;IACX,KAAK,EAAE,GAAG;CACX,CAAC;AAGF;IAKE,8BAAoB,IAAY;QAAZ,SAAI,GAAJ,IAAI,CAAQ;QAFxB,gBAAW,GAAG,KAAK,CAAC;QAG1B,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IAED,4CAAa,GAAb,UAAc,OAAgC;QAC5C,IAAM,GAAG,GAAG,GAAG,EAAE,CAAC,QAAQ,CAAC;QAC3B,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACrB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAM,eAAe,GAAG,GAAG,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YACpD,eAAe,CAAC,IAAI,GAAG,iBAAiB,CAAC;YACzC,eAAe,CAAC,GAAG,GAAM,OAAO,CAAC,QAAQ,kCAA+B,CAAC;YACzE,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;SACvC;IACH,CAAC;IAED,0CAAW,GAAX,UACE,SAAiB,EAAE,OAAuB,EAAE,KAAkB,EAC9D,OAAY,EAAE,UAAyB;QAFzC,iBASC;QAPC,sCAAY;QACZ,IAAM,YAAY,GAAG;YACnB,IAAI,MAAM,EAAE;gBACV,KAAI,CAAC,YAAY,CAAC,SAAS,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC;aACnE;QACH,CAAC,CAAC;QACF,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;IACnC,CAAC;IAED,mCAAI,GAAJ,UAAK,MAAiB;QACpB,MAAM,CAAC,SAAS,EAAE,CAAC;IACrB,CAAC;IAED,oCAAK,GAAL,UAAM,MAAiB;QACrB,MAAM,CAAC,UAAU,EAAE,CAAC;IACtB,CAAC;IAED,wCAAS,GAAT,UAAU,KAAU,EAAE,MAAiB;QACrC,IAAM,EAAE,GAAG,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC;QAC1D,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;QACzB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACpB,CAAC;IAED,wCAAS,GAAT,UAAU,MAAiB;QACzB,kEAAkE;QAClE,IAAM,aAAa,GAAQ,MAAM,IAAI,MAAM,CAAC,cAAc,CAAC;QAC3D,IAAM,WAAW,GAAG,aAAa,CAAC,CAAC,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;QACjE,IAAM,eAAe,GAAG,aAAa;YACnC,CAAC,CAAC,WAAW,KAAK,EAAE,EAAE,CAAC,WAAW,CAAC,KAAK,IAAI,WAAW,KAAK,EAAE,EAAE,CAAC,WAAW,CAAC,MAAM;YACnF,CAAC,CAAC,KAAK,CAAC;QACV,OAAO,eAAe,CAAC;IACzB,CAAC;IAED,2CAAY,GAAZ,UACE,SAAiB,EAAE,OAAuB,EAAE,KAAkB,EAC9D,OAAY,EAAE,UAA8B;QAF9C,iBAqBC;QAnBC,sCAAY;QAAE,4CAA8B;QAC5C,IAAM,UAAU,GAAG;YACjB,MAAM,EAAE,KAAK,CAAC,MAAM,IAAI,YAAY,CAAC,MAAM;YAC3C,KAAK,EAAE,KAAK,CAAC,KAAK,IAAI,YAAY,CAAC,KAAK;SACzC,CAAC;QACF,IAAM,QAAQ,GAAG,MAAM,EAAE,CAAC;QAC1B,OAAO,IAAI,QAAQ,CAAC,SAAS,wBACxB,UAAU,KACb,MAAM,EAAE;gBACN,OAAO,EAAE,UAAC,EAAkB;oBAC1B,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC,cAAM,cAAO,CAAC,KAAK,IAAI,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,EAA9C,CAA8C,CAAC,CAAC;gBACtE,CAAC;gBACD,aAAa,EAAE,UAAC,EAAkB;oBAChC,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC,cAAM,cAAO,CAAC,MAAM,IAAI,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,EAAzC,CAAyC,CAAC,CAAC;gBACjE,CAAC;aACF,EACD,UAAU;YACV,OAAO,aACP,CAAC;IACL,CAAC;IAED,+CAAgB,GAAhB,UAAiB,MAAiB,EAAE,YAAwC;QACpE,UAAM,GAAY,YAAY,OAAxB,EAAE,KAAK,GAAK,YAAY,MAAjB,CAAkB;QAErC,IAAI,CAAC,YAAY,EAAE;YACjB,MAAM,GAAG,MAAM,CAAC,WAAW,CAAC;YAC5B,KAAK,GAAG,MAAM,CAAC,UAAU,CAAC;SAC3B;QACD,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;IAChC,CAAC;IAED,mBAAmB;IACnB,+CAAgB,GAAhB;QACE,IAAM,GAAG,GAAG,CAAC,CAAC;QACd,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;IACnD,CAAC;IAEO,wCAAS,GAAjB;QAAA,iBAQC;QAPC,IAAI,CAAC,GAAG,GAAG,IAAI,iEAAa,CAAC,CAAC,CAAC,CAAC;QAChC,IAAM,uBAAuB,GAAG;YAC9B,IAAI,GAAG,EAAE,EAAE;gBACT,KAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;aACnB;QACH,CAAC,CAAC;QACF,GAAG,EAAE,CAAC,yBAAyB,CAAC,GAAG,uBAAuB,CAAC;IAC7D,CAAC;IAtGU,oBAAoB;QADhC,iEAAU,EAAE;yCAMe,qDAAM;OALrB,oBAAoB,CAuGhC;IAAD,2BAAC;CAAA;AAvGgC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtBQ;AACkB;AAE3D,IAAI,eAAoB,CAAC;AAGlB,IAAI,OAAO,GAAG;IACjB,OAAO,EAAE,IAAI;IACb,UAAU,EAAE;QACR,IAAI,eAAe,EAAE;YACjB,IAAI,CAAC,OAAO,GAAG,eAAe,CAAC;SAClC;aAAM;YACH,IAAI,CAAC,OAAO,GAAG,eAAe,GAAG,IAAI,+DAAO,CAAC,EAAC,IAAI,EAAE,oBAAoB,EAAC,CAAC,CAAC;SAC9E;QACD,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;IAChC,CAAC;IACD,OAAO,EAAE,UAAU,GAAG;QAClB,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACjC,CAAC;IAED,SAAS,EAAE,UAAU,QAAQ,EAAE,gBAAgB;QAC3C,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,QAAQ,CAAC,GAAG,CAAC,iBAAO,IAAI,eAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,GAAG,EAAnC,CAAmC,CAAC,CAAC;QAC7D,OAAO,+EAAa,CAAC,QAAQ,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,iBAAO,IAAI,cAAO,CAAC,GAAG,EAAX,CAAW,CAAC,EAAE,KAAK,EAAE,UAAC,IAAI,EAAE,KAAK,EAAE,GAAG;YACrG,oCAAoC;YACpC,OAAO,gBAAgB,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QACzC,CAAC,EAAE,IAAI,CAAC,CAAC;IACb,CAAC;IAED,KAAK,EAAE;QACH,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;IAChC,CAAC;IAED,SAAS,EAAE,UAAgB,GAAG;;;;;4BACd,qBAAM,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;;wBAAnC,KAAK,GAAG,SAA2B;wBACvC,IAAI,CAAC,KAAK,EAAE;4BACR,KAAK,GAAG,CAAC,CAAC;yBACb;6BAAM;4BACH,KAAK,EAAE,CAAC;yBACX;wBACD,qBAAM,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC;;wBAAlC,SAAkC,CAAC;;;;;KACtC;IAED,WAAW,EAAE,UAAgB,IAAI;;;;;gBACzB,QAAQ,GAAG,EAAE,CAAC;gBAClB,WAAoB,EAAJ,aAAI,EAAJ,kBAAI,EAAJ,IAAI,EAAE;oBAAb,GAAG;oBACR,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;iBACxC;gBACD,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,gBAAM;oBAC7B,IAAI,YAAY,GAAG,EAAE,CAAC;oBACtB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;wBACpC,IAAI,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;wBACtB,IAAI,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;wBAClB,IAAI,KAAK,GAAG,CAAC,EAAE;4BACX,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC;yBACpC;6BAAM,IAAI,KAAK,KAAK,CAAC,EAAE;4BACpB,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;4BACzB,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;yBAC1B;qBACJ;oBACD,+EAAa,CAAC,QAAQ,CAAC,oBAAoB,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;gBACrE,CAAC,CAAC,CAAC;;;;KACN;CACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/DgF;AACb;AAC6C;AAI1E;AACe;AACL;AACK;AACX;AACe;AACC;AAO5D;IAuCI,kBAAY,SAAoB,EACV,IAAU,EACV,KAAY,EACZ,QAAkB,EACpB,WAAkC,EAClC,MAAc,EACd,cAAiC,EACjC,qBAA4C,EAC5C,WAAwB,EACxB,aAA4B,EAC5B,YAA2B;QAV/C,iBAiCC;QAhCqB,SAAI,GAAJ,IAAI,CAAM;QACV,UAAK,GAAL,KAAK,CAAO;QACZ,aAAQ,GAAR,QAAQ,CAAU;QACpB,gBAAW,GAAX,WAAW,CAAuB;QAClC,WAAM,GAAN,MAAM,CAAQ;QACd,mBAAc,GAAd,cAAc,CAAmB;QACjC,0BAAqB,GAArB,qBAAqB,CAAuB;QAC5C,gBAAW,GAAX,WAAW,CAAa;QACxB,kBAAa,GAAb,aAAa,CAAe;QAC5B,iBAAY,GAAZ,YAAY,CAAe;QA7C/C,YAAO,GAAkB,EAAE,CAAC;QAM5B,cAAS,GAAG,EAAE,CAAC;QACf,cAAS,GAAG,IAAI,CAAC;QACjB,oBAAe,GAAG,KAAK,CAAC;QACxB,uBAAkB,GAAG,IAAI,CAAC;QAIlB,cAAS,GAAW,IAAI,CAAC;QACzB,kBAAa,GAAW,IAAI,CAAC;QAC7B,kBAAa,GAAW,IAAI,CAAC;QAG7B,eAAU,GAAW,IAAI,CAAC;QAC1B,gBAAW,GAAY,IAAI,CAAC;QAC5B,iBAAY,GAAY,IAAI,CAAC;QAC7B,iBAAY,GAAY,KAAK,CAAC;QAC9B,qBAAgB,GAAY,IAAI,CAAC;QACjC,uBAAkB,GAAY,IAAI,CAAC;QACnC,qBAAgB,GAAW,CAAC,CAAC;QAC7B,sBAAiB,GAAW,CAAC,CAAC;QAC9B,kBAAa,GAAW,CAAC,CAAC;QAC1B,oBAAe,GAAW,CAAC,CAAC;QAI5B,qBAAgB,GAAW,CAAC,CAAC;QAE7B,gBAAW,GAAoB,yEAAe,CAAC,IAAI,CAAC;QAcxD,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE;aACzB,IAAI,CAAC,UAAC,GAAG;YACN,KAAI,CAAC,IAAI,GAAG,GAAG,CAAC;QACpB,CAAC,CAAC,CAAC;QAEP,kEAAkE;QAClE,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC,IAAI,CAAC,UAAC,GAAgB;YACtD,KAAI,CAAC,WAAW,GAAG,GAAG,CAAC,WAAW,CAAC;YACnC,KAAI,CAAC,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC;YAC3B,KAAI,CAAC,WAAW,GAAG,GAAG,CAAC;YACvB,2EAA2E;YAC3E,uEAAuE;YACvE,mEAAmE;YACnE,sEAAsE;YACtE,IAAI,eAAe,GAAwB,KAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC;YAC9E,KAAI,CAAC,MAAM,GAAG;gBACV,EAAE,EAAE,eAAe,CAAC,EAAE;gBACtB,IAAI,EAAE,eAAe,CAAC,SAAS;gBAC/B,KAAK,EAAE,eAAe,CAAC,KAAK;aAC/B,CAAC;QACN,CAAC,CAAC,CAAC;IACP,CAAC;IAEK,mCAAgB,GAAtB;;;;gBACI,cAAc;gBACd,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;gBACzC,IAAI,IAAI,CAAC,qBAAqB,EAAE;oBAC5B,IAAI,CAAC,qBAAqB,CAAC,WAAW,EAAE,CAAC;oBACzC,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;iBACrC;gBACD,IAAI,CAAC,WAAW,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC;gBAE/C,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,EAAE;oBACtB,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;oBACjC,IAAI,CAAC,qBAAqB,CAAC,YAAY,CAAC,wBAAwB,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC;iBACnF;;;;KACJ;IAED,kCAAe,GAAf;QAAA,iBAuBC;QAtBG,IAAI,cAAc,GAAG,IAAI,IAAI,EAAE,CAAC,iBAAiB,EAAE,CAAC;QACpD,IAAI,CAAC,gBAAgB,GAAG,CAAC,cAAc,GAAG,KAAK,CAAC;QAChD,kBAAkB;QAClB,IAAI,CAAC,MAAM,EAAE,CAAC;QAEd,4CAA4C;QAC5C,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,eAAe,EAAE,aAAG;YACtC,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,SAAS,CAAC,eAAK;YAClE,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,aAAa;gBAAE,OAAO;YAC3C,IAAI,MAAM,GAAG,KAAK,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC;YAC1D,IAAI,gBAAgB,GAAG,MAAM,GAAG,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC;YAEzE,IAAI,KAAI,CAAC,kBAAkB,IAAI,gBAAgB,EAAE;gBAC7C,OAAO,CAAC,KAAK,CAAC,yBAAuB,gBAAkB,CAAC,CAAC;gBACzD,KAAI,CAAC,WAAW,CAAC,sBAAsB,CAAC,gBAAgB,CAAC,CAAC;aAC7D;YACD,KAAI,CAAC,kBAAkB,GAAG,gBAAgB,CAAC;QAC/C,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC;QAC9C,IAAI,CAAC,qBAAqB,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;IAClD,CAAC;IAED,0BAAO,GAAP;QACI,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;IAC1B,CAAC;IAED,oCAAiB,GAAjB;QACI,IAAI,CAAC,eAAe,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC;QAC7C,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;YACvB,IAAI,CAAC,KAAK,EAAE,CAAC;SAChB;aAAM;YACH,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC5B;QACD,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;QACtB,IAAI,CAAC,cAAc,EAAE,CAAC;IAC1B,CAAC;IAED;;;OAGG;IACH,yBAAM,GAAN;QAAA,iBAcC;QAbG,IAAI,QAAQ,GAAe,EAAE,CAAC;QAC9B,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC,OAAO,CAAC,kBAAQ;YAC5C,QAAQ,CAAC,IAAI,CAAC,KAAI,CAAC,WAAW;iBACzB,UAAU,CAAC,KAAI,CAAC,WAAW,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC,SAAS,EAAE;iBACxD,IAAI,CAAC,aAAG;gBACL,KAAI,CAAC,OAAO,GAAG,GAAG,CAAC;gBACnB,KAAI,CAAC,cAAc,EAAE,CAAC;YAC1B,CAAC,CAAC,CAAC,CAAC;QACZ,CAAC,CAAC,CAAC;QAEH,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC;YACvB,OAAO,CAAC,KAAK,CAAC,wBAAwB,CAAC,CAAC;QAC5C,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;OAEG;IACG,0BAAO,GAAb;;;;;;;wBACI,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;wBAE/B,uCAAuC;wBACvC,IAAG,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,WAAW,IAAI,yEAAe,CAAC,IAAI;4BAAE,sBAAO;wBAEtG,8DAA8D;wBAC9D,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC;4BAClC,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,WAAW,IAAI,yEAAe,CAAC,IAAI,CAAC;4BAC5D,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,WAAW,IAAI,yEAAe,CAAC,IAAI,CAAC;4BAC5D,sBAAO;wBAEP,cAAc,GAAG,IAAI,IAAI,EAAE,CAAC,iBAAiB,EAAE,CAAC;wBAEhD,MAAM,GAAgB;4BACtB,SAAS,EAAE,IAAI;4BACf,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK;4BACvB,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI;4BACxB,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM;4BAC5B,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK;4BAC3B,IAAI,EAAE,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,cAAc,GAAG,KAAK,CAAC;4BAC3C,OAAO,EAAE,IAAI,CAAC,SAAS;4BACvB,KAAK,EAAE,EAAE;4BACT,MAAM,EAAE,SAAS;yBACpB,CAAC;wBACF,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;6BAGhB,IAAI,CAAC,SAAS,EAAd,wBAAc;wBACd,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;wBAClB,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,EAAC,IAAI,EAAE,YAAY,EAAC,CAAC,CAAC;wBACxD,UAAU,GAAG,IAAI,QAAQ,EAAE,CAAC;wBAChC,UAAU,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,EAAE,YAAY,CAAC,CAAC;wBAC9B,qBAAM,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC;;wBAArF,UAAU,GAAG,SAAwE;wBACzF,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;wBACtB,IAAI,UAAU,EAAE;4BACZ,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;4BAE1B,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,EAAC,SAAS,EAAE,UAAU,EAAC,CAAC,CAAC;4BACtD,IAAI,CAAC,qBAAqB,CAAC,YAAY,CAAC,2BAA2B,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC;yBACtF;6BAAM;4BACH,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;4BAC3C,sBAAO;yBACV;;;6BAII,KAAI,CAAC,WAAW,IAAI,yEAAe,CAAC,IAAI,GAAxC,wBAAwC;wBAC7C,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;4BACnB,IAAI,CAAC,UAAU,EAAE,CAAC;yBACrB;wBACD,IAAI,CAAC,WAAW,GAAG,yEAAe,CAAC,IAAI,CAAC;wBACpC,cAAY,KAAK,CAAC;wBACtB,qBAAM,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,aAAa,EAAE,eAAe,CAAC,CAAC,IAAI,CAAC,UAAO,IAAI;;;;;4CAC7E,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,EAAC,IAAI,EAAE,QAAQ,GAAG,WAAS,EAAC,CAAC,CAAC;4CACxD,UAAU,GAAG,IAAI,QAAQ,EAAE,CAAC;4CAChC,UAAU,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,EAAE,QAAQ,GAAG,WAAS,CAAC,CAAC;4CACvD,UAAU,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC,CAAC;4CAClE,MAAM,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;4CAC1C,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;4CACN,qBAAM,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC;;4CAArF,UAAU,GAAG,SAAwE;4CACzF,wBAAwB;4CACxB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;4CAClB,IAAI,UAAU,EAAE;gDACZ,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gDAE1B,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,EAAC,SAAS,EAAE,UAAU,EAAC,CAAC,CAAC;gDACtD,IAAI,CAAC,qBAAqB,CAAC,YAAY,CAAC,2BAA2B,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC;6CACtF;iDAAM;gDACH,OAAO,CAAC,GAAG,CAAC,8BAA8B,CAAC,CAAC;gDAC5C,sBAAO;6CACV;;;;iCACJ,CAAC,CAAC,KAAK,CAAC,aAAG;gCACR,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,GAAG,CAAC;4BAC/B,CAAC,CAAC;;wBArBF,SAqBE,CAAC;;;wBAIH,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,EAAE;4BACtB,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,EAAC,SAAS,EAAE,MAAM,CAAC,OAAO,EAAC,CAAC,CAAC;4BAC1D,IAAI,CAAC,qBAAqB,CAAC,YAAY,CAAC,2BAA2B,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC;yBACtF;;;wBAGL,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;4BACvB,IAAI,CAAC,KAAK,EAAE,CAAC;yBAChB;wBAED,qBAAM,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,IAAI,CAAC,WAAW,CAAC;;wBAA5D,SAA4D,CAAC;wBAC7D,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC;6BAC7C,IAAI,CAAC,UAAC,IAAmB;4BACtB,IAAI,CAAC,OAAO,CAAC,UAAC,GAAgB;gCAC1B,IAAI,KAAK,GAAG,KAAI,CAAC,eAAe,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;gCAChD,IAAI,GAAG,CAAC,SAAS,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;oCAC/B,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,SAAS,CAAC;iCAC1C;qCAAM;oCACH,GAAG,CAAC,MAAM,GAAG,SAAS,CAAC;oCACvB,KAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;oCAC/B,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;iCACxB;4BACL,CAAC,CAAC,CAAC;wBACP,CAAC,CAAC;;;;;KACT;IAGD;;OAEG;IACG,2BAAQ,GAAd;;;;gBACI,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;gBAEhC,IAAI,CAAC,YAAY,CAAC,uBAAuB,EAAE,CAAC,IAAI,CAAC,aAAG;oBAChD,KAAI,CAAC,SAAS,GAAG,GAAG,CAAC,SAAS,CAAC;oBAC/B,KAAI,CAAC,SAAS,GAAG,GAAG,CAAC,MAAM,CAAC;gBAChC,CAAC,CAAC,CAAC,KAAK,CAAC,aAAG;oBACR,eAAe;oBACf,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;oBACjC,KAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;gBACnC,CAAC,CAAC,CAAC;;;;KACN;IAED,6BAAU,GAAV;QAAA,iBAWC;QAVG,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;QAEhC,IAAI,CAAC,YAAY,CAAC,kBAAkB,EAAE,CAAC,IAAI,CAAC,aAAG;YAC3C,KAAI,CAAC,SAAS,GAAG,GAAG,CAAC,SAAS,CAAC;YAC/B,KAAI,CAAC,SAAS,GAAG,GAAG,CAAC,MAAM,CAAC;QAChC,CAAC,CAAC,CAAC,KAAK,CAAC,aAAG;YACR,eAAe;YACf,OAAO,CAAC,GAAG,CAAC,eAAe,GAAG,GAAG,CAAC,CAAC;YACnC,KAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,8BAAW,GAAX;QACI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;IACnC,CAAC;IAED;;;OAGG;IACH,6BAAU,GAAV,UAAW,GAAgB;QACvB,IAAI,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;QAE7B,iCAAiC;QAEjC,IAAI,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;YAC1C,OAAO;SACV;QAED,4BAA4B;QAC5B,IAAI,CAAC,CAAC,GAAG,CAAC,MAAM,KAAK,MAAM,IAAI,GAAG,CAAC,QAAQ,KAAK,MAAM,CAAC,EAAE;YACrD,OAAO;SACV;QACD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACvB,IAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC;QAEpC,IAAI,IAAI,CAAC,kBAAkB,EAAE;YACzB,IAAI,CAAC,cAAc,EAAE,CAAC;SACzB;IACL,CAAC;IAED,kCAAe,GAAf,UAAgB,EAAU;QACtB,OAAO,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,WAAC,IAAI,QAAC,CAAC,SAAS,KAAK,EAAE,EAAlB,CAAkB,CAAC;IAC1D,CAAC;IAED,iCAAc,GAAd;QAAA,iBAMC;QALG,UAAU,CAAC;YACP,IAAI,KAAI,CAAC,OAAO,IAAI,KAAI,CAAC,OAAO,CAAC,cAAc,EAAE;gBAC7C,KAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC;aACjC;QACL,CAAC,EAAE,GAAG,CAAC;IACX,CAAC;IAEO,wBAAK,GAAb;QACI,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE;YACtD,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;SAC3C;IACL,CAAC;IAEO,oCAAiB,GAAzB;QACI,IAAM,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC;QACjD,QAAQ,CAAC,SAAS,GAAG,QAAQ,CAAC,YAAY,CAAC;IAC/C,CAAC;IAED,iCAAc,GAAd;QACI,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;QAEhC,QAAQ,IAAI,CAAC,WAAW,EAAE;YACtB,KAAK,yEAAe,CAAC,MAAM;gBACvB,IAAI,CAAC,WAAW,GAAG,yEAAe,CAAC,IAAI,CAAC;gBACxC,IAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,MAAM;YACV,KAAK,yEAAe,CAAC,IAAI;gBACrB,IAAI,CAAC,WAAW,GAAG,yEAAe,CAAC,IAAI,CAAC;gBACxC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;gBACzB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;gBAC/B,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,MAAM;YACV;gBACI,IAAI,CAAC,WAAW,GAAG,yEAAe,CAAC,MAAM,CAAC;gBAC1C,IAAI,CAAC,cAAc,EAAE,CAAC;gBACtB,MAAM;SACb;IACL,CAAC;IAED,sCAAmB,GAAnB;QACI,IAAI,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;QAC/B,IAAI,CAAC,aAAa,GAAG,GAAG,GAAG,IAAI,CAAC,gBAAgB,CAAC;IACrD,CAAC;IAED,sCAAmB,GAAnB,UAAoB,OAAQ;QAA5B,iBAqBC;QApBG,IAAI,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;QAC/B,IAAG,OAAO,EAAC;YACP,IAAG,CAAC,GAAG,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,OAAO,CAAC,aAAa,EAAC;gBACtD,OAAO,CAAC,eAAe,GAAI,GAAG,GAAG,IAAI,CAAC,iBAAiB,CAAC;aAC3D;iBAAI;gBACD,OAAO,CAAC,eAAe,GAAG,OAAO,CAAC,aAAa,CAAC;gBAChD,UAAU,CAAC;oBACP,KAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;gBACxC,CAAC,EAAE,IAAI,CAAC,CAAC;aACZ;SACJ;aAAK;YACF,IAAG,CAAC,GAAG,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,aAAa,EAAC;gBACnD,IAAI,CAAC,eAAe,GAAG,GAAG,GAAG,IAAI,CAAC,iBAAiB,CAAC;aACvD;iBAAI;gBACD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,aAAa,CAAC;gBAC1C,UAAU,CAAC;oBACP,KAAI,CAAC,qBAAqB,EAAE,CAAC;gBACjC,CAAC,EAAE,IAAI,CAAC,CAAC;aACZ;SACJ;IACL,CAAC;IAED,iCAAc,GAAd;QAAA,iBAgCC;QA/BG,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAC/B,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,UAAU,EAAE,CAAC;QAElB,IAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,EAAC;YAC3B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC;YAC7C,QAAQ,GAAI,eAAe,CAAC;SAC/B;aAAM,IAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,EAAC;YAC9B,QAAQ,GAAG,eAAe,CAAC;YAC3B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC;SACrD;QACD,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,kBAAQ;YAClE,KAAI,CAAC,KAAK,GAAG,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,GAAG,QAAQ,CAAC,CAAC;YACxF,uBAAuB;YACvB,KAAI,CAAC,gBAAgB,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;YAC7C,KAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;YACzB,KAAI,CAAC,mBAAmB,EAAE,CAAC;YAC3B,KAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC,WAAW,CAAC;gBACvC,KAAI,CAAC,mBAAmB,EAAE,CAAC;YAC/B,CAAC,EAAE,IAAI,CAAC,CAAC;YACT,KAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,aAAa,EAAE,CAAC;QAElD,CAAC,CAAC,CAAC,KAAK,CAAC,aAAG,IAAK,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,GAAG,CAAC,GAAC,CAAC,CAAC;QAE5D,gCAAgC;QAChC,UAAU,CAAC;YACP,IAAI,KAAI,CAAC,WAAW,IAAI,yEAAe,CAAC,IAAI,EAAE;gBAC1C,KAAI,CAAC,WAAW,GAAG,yEAAe,CAAC,IAAI,CAAC;gBACxC,KAAI,CAAC,aAAa,EAAE,CAAC;aACxB;QACL,CAAC,EAAE,KAAK,CAAC,CAAC;IACd,CAAC;IAEK,gCAAa,GAAnB;;;;;;wBACI,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;wBACxB,IAAI,IAAI,CAAC,gBAAgB,EAAE;4BACvB,aAAa,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;4BACrC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;yBAChC;wBACD,gCAAgC;wBAC5B,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;wBACxB,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;wBAClB,SAAI;wBAAiB,qBAAM,IAAI,CAAC,gBAAgB,EAAE;;wBAAlD,GAAK,aAAa,GAAG,SAA6B,CAAC;wBACnD,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;wBACnB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;wBACxB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;wBACzB,UAAU;wBACV,yDAAyD;wBACzD,GAAG;wBACH,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;wBAC1B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;;;;;KAC3B;IAEK,mCAAgB,GAAtB;;;;gBACI,sBAAO,IAAI,OAAO,CAAS,UAAC,OAAO;wBAC/B,KAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC,WAAW,CAAC;4BACvC,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;4BACzC,IAAI,CAAC,KAAI,CAAC,KAAK,EAAE;gCACb,KAAI,CAAC,0BAA0B,EAAE,CAAC;gCAClC,OAAO,CAAC,CAAC,CAAC,CAAC;6BACd;4BACD,IAAI,KAAI,CAAC,KAAK,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC,EAAE;gCAChC,wCAAwC;gCACxC,KAAI,CAAC,0BAA0B,EAAE,CAAC;gCAClC,OAAO,CAAC,KAAI,CAAC,KAAK,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC,CAAC;6BAC5C;wBACL,CAAC,EAAE,IAAI,CAAC,CAAC;oBACb,CAAC,CAAC,EAAC;;;KACN;IAEO,6CAA0B,GAAlC;QACI,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACvB,aAAa,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;YACrC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;SAChC;IACL,CAAC;IAED,4BAAS,GAAT,UAAU,OAAQ,EAAE,KAAM;QAA1B,iBAqCC;QApCG,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,UAAU,EAAE,CAAC;SACrB;QACD,IAAI,QAAQ,GAAG,IAAI,CAAC;QACpB,IAAI,OAAO;YAAE,QAAQ,GAAI,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC1C,IAAI,QAAQ;YAAE,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;aACjC;YACD,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC;SACjC;QAED,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QAEzC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;QAClB,IAAI,CAAC,iBAAiB,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;QAC9C,IAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC,WAAW,CAAC;YACvC,KAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC;QACtC,CAAC,EAAE,EAAE,CAAC,CAAC;QACP,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QAE1B,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,SAAS,CAAC,gBAAM;YACtC,QAAQ,MAAM,EAAE;gBACZ,KAAK,CAAC,EAAE,UAAU;oBACd,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;oBACzB,MAAM;gBACV,KAAK,CAAC,CAAC,CAAC,SAAS;gBACjB,KAAK,CAAC,EAAE,mBAAmB;oBACvB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;wBAAE,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;;wBACrC,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;oBAE7B,KAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;oBACrB,KAAI,CAAC,YAAY,GAAG,KAAK,CAAC;oBAC1B,KAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;oBACpC,MAAM;aACb;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAED,wCAAqB,GAArB,UAAsB,OAAQ;QAC1B,IAAG,IAAI,CAAC,gBAAgB,EAAC;YACrB,IAAG,OAAO,EAAC;gBACP,OAAO,CAAC,eAAe,GAAG,CAAC,CAAC;aAC/B;iBAAI;gBACD,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC;aAC5B;YACD,aAAa,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;YACrC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;SAChC;IACL,CAAC;IAED,6BAAU,GAAV,UAAW,OAAQ;QACf,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;QACpC,IAAI,IAAI,CAAC,KAAK,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;YACnB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;SACzB;IACL,CAAC;IAED,0BAAO,GAAP,UAAQ,IAAY;QAChB,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC;IAC7D,CAAC;IAED,sCAAmB,GAAnB;QACI,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,IAAI,CAAC,EAAE;YAC5B,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;SAClC;aAAM;YACH,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;YAC9B,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;SACnC;IACL,CAAC;IAED,sCAAmB,GAAnB,UAAoB,QAAiB;QACjC,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC;QAC7B,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC;QACjC,IAAI,CAAC,kBAAkB,GAAG,QAAQ,CAAC;IACvC,CAAC;IAED,oCAAiB,GAAjB,UAAkB,KAAK;QAAvB,iBAYC;QAXG,IAAI,+DAAM,CAAC,iBAAiB,CAAC,+EAAW,CAAC,EAAE;YACvC,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;YAC1B,UAAU,CAAC;gBACP,iDAAiD;gBACjD,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC7B,UAAU,CAAC;oBACP,sFAAsF;oBACtF,KAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;gBAC9B,CAAC,EAAE,IAAI,CAAC,CAAC;YACb,CAAC,EAAE,GAAG,CAAC;SACV;IACL,CAAC;IA7iBmB;QAAnB,gEAAS,CAAC,8DAAO,CAAC;kCAAU,8DAAO;6CAAC;IACZ;QAAxB,gEAAS,CAAC,YAAY,CAAC;kCAAe,yDAAU;kDAAC;IAHzC,QAAQ;QAJpB,gEAAS,CAAC;YACP,QAAQ,EAAE,WAAW;WACG;SAC3B,CAAC;6EAwCkC;YACJ,kEAAI;YACH,+DAAK;YACF,iGAAQ;YACP,8DAAqB;YAC1B,gEAAM;YACE,iGAAiB;YACV,gFAAqB;YAC/B,mFAAW;YACT,+EAAa;YACd,KAAa;OAjDtC,QAAQ,CAgjBpB;IAAD,CAAC;AAAA;SAhjBY,QAAQ,e;;;;;;;;;;;;;;;;;ACnB6B;AACN;AAK5C;IAAA;IAQA,CAAC;IAPU,8BAAS,GAAhB,UAAiB,KAAK,EAAE,IAAY,EAAE,IAAY;QAC9C,IAAI,CAAC,IAAI;YAAE,OAAO,KAAK,CAAC;QACxB,IAAI,MAAM,GAAG,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,aAAG,IAAI,WAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,IAAI,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAlE,CAAkE,CAAC,EAA/F,CAA+F,CAAC,CAAC;QAC3I,+DAAM,CAAC,aAAa,GAAG,MAAM,CAAC,MAAM,CAAC;QACrC,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,+DAAM,CAAC,aAAa,CAAC,CAAC;QACnD,OAAO,MAAM,CAAC;IAClB,CAAC;IAPQ,UAAU;QAHtB,2DAAI,CAAC;YACF,IAAI,EAAE,QAAQ;SACjB,CAAC;OACW,UAAU,CAQtB;IAAD,iBAAC;CAAA;AARsB;;;;;;;;;;;;;;;;;ACN6B;AAQpD;IAHA;;MAEE;IACF;IAKA,CAAC;IAJG,iCAAS,GAAT,UAAU,GAAW;QACjB,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,SAAS,EAAC,UAAU,CAAC,CAAC;QACxC,OAAO,GAAG,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,UAAU,GAAG,GAAG,CAAC;IAC/D,CAAC;IAJQ,aAAa;QANzB,2DAAI,CAAC;YACF,IAAI,EAAE,WAAW;SACpB,CAAC;QACF;;UAEE;OACW,aAAa,CAKzB;IAAD,oBAAC;CAAA;AALyB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRgB;AACqB;AACC;AACpB;AACH;AACa;AACd;AAC4B;AACf;AACyB;AACxB;AACM;AAO5D;IAKI,uBAAmB,OAAsB,EACtB,SAAoB,EACnB,MAAc,EACd,OAAgB,EAChB,UAAsB,EACtB,qBAA4C,EAC5C,UAAsB,EACtB,SAA0B,EAC1B,aAA4B;QAR7B,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACnB,WAAM,GAAN,MAAM,CAAQ;QACd,YAAO,GAAP,OAAO,CAAS;QAChB,eAAU,GAAV,UAAU,CAAY;QACtB,0BAAqB,GAArB,qBAAqB,CAAuB;QAC5C,eAAU,GAAV,UAAU,CAAY;QACtB,cAAS,GAAT,SAAS,CAAiB;QAC1B,kBAAa,GAAb,aAAa,CAAe;QACpC,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;IACnE,CAAC;IAEK,gCAAQ,GAAd;;;;;;wBACI;;;;2BAIG;wBACH,SAAI;wBAAY,qBAAM,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC;;wBALjD;;;;2BAIG;wBACH,GAAK,OAAO,GAAG,CAAC,UAAiC,MAAK,MAAM,CAAC;6BAEzD,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE,EAAlC,wBAAkC;;;;wBAG9B,qBAAM,gEAAO,CAAC,IAAI,CAAC,UAAU,CAAC,kBAAkB,EAAE,CAAC,KAAK,CAAC,aAAG;gCACxD,OAAO,CAAC,KAAK,CAAC,wBAAwB,EAAE,GAAG,CAAC;4BAChD,CAAC,CAAC,EAAE,IAAI,CAAC;;wBAFT,SAES,CAAC;;;;wBAEV,OAAO,CAAC,GAAG,CAAC,6BAA6B,GAAG,GAAC,CAAC,OAAO,CAAC,CAAC;wBACvD,4BAA4B;wBAC5B,IAAI,CAAC,UAAU,CAAC,kBAAkB,EAAE,CAAC,IAAI,CAAC,UAAC,QAAQ;4BAC/C,IAAI,QAAQ,IAAI,QAAQ,CAAC,MAAM,EAAE;6BAChC;wBACL,CAAC,EAAE,aAAG;4BACF,OAAO,CAAC,KAAK,CAAC,wBAAwB,EAAE,GAAG,CAAC;wBAChD,CAAC,CAAC,CAAC;;;wBAGX,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;wBACpB,qBAAM,IAAI,CAAC,qBAAqB,CAAC,gBAAgB,EAAE;;wBAAnE,aAAa,GAAG,SAAmD;6BACnE,cAAa,IAAI,IAAI,GAArB,wBAAqB;wBACrB,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;wBAChC,SAAO,IAAI,CAAC;wBACJ,qBAAM,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,aAAa,CAAC,OAAO,CAAC,QAAQ,CAAC;;wBAA3E,UAAQ,SAAmE;wBAC3E,UAAQ,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,uFAAY,EAAE;4BAC5C,KAAK,EAAE,wBAAwB;4BAC/B,OAAO,EAAE,uBAAuB;4BAChC,IAAI,EAAE,MAAM;4BACZ,SAAS,EAAE,wEAAY,CAAC,IAAI;4BAC5B,gBAAgB,EAAE,OAAK,CAAC,kBAAkB,EAAE;4BAC5C,SAAS,EAAE,OAAK,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC,OAAK,CAAC,aAAa,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE;4BAChF,OAAO,EAAE;gCACL;oCACI,KAAK,EAAE,uBAAuB;oCAC9B,QAAQ,EAAE;wCACN,OAAK,CAAC,OAAO,EAAE,CAAC;wCAChB,MAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAK,EAAE,MAAI,CAAC,OAAO,CAAC,CAAC;oCACtD,CAAC;iCACJ;gCACD;oCACI,KAAK,EAAE,wBAAwB;oCAC/B,QAAQ,EAAE;wCACN,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,EAAE;4CAC1B,IAAI,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;4CACjC,MAAI,CAAC,qBAAqB,CAAC,YAAY,CAAC,qBAAqB,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC;yCAChF;wCACD,MAAI,CAAC,qBAAqB,CAAC,iBAAiB,EAAE,CAAC;wCAC/C,OAAK,CAAC,OAAO,EAAE,CAAC;wCAChB,aAAa,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;oCAC1C,CAAC;iCACJ;6BACJ;yBACJ,EAAE,EAAC,YAAY,EAAE,IAAI,EAAE,qBAAqB,EAAE,IAAI,EAAC,CAAC,CAAC;wBAEtD,OAAK,CAAC,OAAO,EAAE,CAAC;;;;;;KAGvB;IAED,wCAAgB,GAAhB;QACI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IACtC,CAAC;IACD,oCAAY,GAAZ;QACI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAClC,CAAC;IAED,iCAAS,GAAT,UAAU,KAAa,EAAE,QAAgB;QAAhB,2CAAgB;QACtC,IAAG,QAAQ,EAAC;YACR,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;SACzC;QACD,IAAG,KAAK,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAC;YAC3B,OAAO;SACV;QACD,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IACrC,CAAC;IAED,wCAAgB,GAAhB;QACI,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC;QACxC,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,EAAE;YAC5B,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;SAC7C;IACL,CAAC;IACD,uCAAe,GAAf;QACI,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;IAC9C,CAAC;IA5GQ,aAAa;QAJzB,gEAAS,CAAC;YACP,QAAQ,EAAE,gBAAgB;WACG;SAChC,CAAC;mGAM2C;YACX,gEAAS;YACX,+DAAM;YACL,yEAAO;YACJ,iGAAU;YACC,2EAAqB;YAChC,sEAAU;YACX,kFAAe;YACX,UAAa;OAbvC,aAAa,CA6GzB;IAAD,CAAC;AAAA;SA7GY,aAAa,e;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBgD;AACjB;AACjB;AAGT;AAC/B,2BAA2B;AAC0B;AAEK;AACR;AAGU;AAGM;AACP;AACN;AAGO;AAC1B;AAGoC;AAEpB;AAEY;AACN;AAExD,2DAA2D;AAC3D,mDAAmD;AAOnD;IAmBI,uBACY,OAAmB,EACnB,UAAsB,EACvB,aAA4B,EAC5B,OAAsB,EACrB,OAAsB,EACtB,gBAAkC,EAClC,UAAsB,EACvB,MAAc,EACb,SAAoB,EACpB,eAAgC,EAChC,IAAiB;QAX7B,iBAoBC;QAnBW,YAAO,GAAP,OAAO,CAAY;QACnB,eAAU,GAAV,UAAU,CAAY;QACvB,kBAAa,GAAb,aAAa,CAAe;QAC5B,YAAO,GAAP,OAAO,CAAe;QACrB,YAAO,GAAP,OAAO,CAAe;QACtB,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,eAAU,GAAV,UAAU,CAAY;QACvB,WAAM,GAAN,MAAM,CAAQ;QACb,cAAS,GAAT,SAAS,CAAW;QACpB,oBAAe,GAAf,eAAe,CAAiB;QAChC,SAAI,GAAJ,IAAI,CAAa;QAqD7B,gBAAW,GAAQ,IAAI,CAAC;QACxB,sBAAiB,GAAQ,IAAI,CAAC;QArD1B,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,SAAS,CAAC,UAAO,KAAK;;;;;6BACpE,KAAI,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,mBAAmB,CAAC,GAAlD,wBAAkD;6BAC9C,CAAC,IAAI,CAAC,aAAa,EAAnB,wBAAmB;wBAAE,SAAI;wBAAU,qBAAM,IAAI,CAAC,UAAU,CAAC,mBAAmB,EAAE;;wBAAzD,GAAK,MAAM,GAAG,SAA2C,CAAC;;;wBACnF,IAAI,CAAC,kBAAkB,EAAE;wBACzB,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC;wBACvB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;;;;;aAEhC,CAAC,CAAC;IACP,CAAC;IAGK,wCAAgB,GAAtB;;;;;;wBACI,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;wBACjC,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;wBAE3B,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC;6BAE3B,KAAI,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,mBAAmB,CAAC,GAAlD,wBAAkD;6BAC9C,IAAI,CAAC,aAAa,EAAlB,wBAAkB;wBAAE,SAAI;wBAAU,qBAAM,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE;;wBAAtD,GAAK,MAAM,GAAG,SAAwC,CAAC;;;wBAC1E,SAAI;wBAAU,qBAAM,IAAI,CAAC,UAAU,CAAC,mBAAmB,EAAE;;wBAAzD,GAAK,MAAM,GAAG,SAA2C,CAAC;;;wBAC/D,IAAI,CAAC,kBAAkB,EAAE;;;;;;KAEhC;IAEK,gCAAQ,GAAd;;;;gBACI,IAAI,CAAC,qBAAqB,GAAG,qFAAiB,CAAC,gEAAI,CAAC,YAAY,EAAE,EAAE,IAAI,EAAE,gEAAI,CAAC,aAAa,EAAE,CAAC,KAAK,IAAI,CAAC;gBAEzG,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,EAAE;oBAClE,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa;wBAAE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;;wBAC5D,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;iBACnC;gBACD,IAAI,CAAC,eAAe,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC;;;;gCACnC,iBAAiB;gCACjB,IAAI,CAAC,UAAU,EAAE,CAAC;gCAClB,qBAAM,IAAI,CAAC,aAAa,EAAE;;gCAA1B,SAA0B,CAAC;;;;qBAC9B,CAAC,CAAC;;;;KAEN;IAED,mCAAW,GAAX;QACI,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;QAC1B,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,gBAAgB,EAAE,EAAC,aAAa,EAAE,IAAI,CAAC,aAAa,EAAC,CAAC,CAAC;QAAQ,IAAI,IAAI,CAAC,iBAAiB,EAAE;YAC5G,IAAI,CAAC,iBAAiB,CAAC,WAAW,EAAE,CAAC;YACrC,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;SACjC;QACD,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACxB,IAAI,CAAC,iBAAiB,CAAC,WAAW,EAAE,CAAC;YACrC,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;SACjC;IACL,CAAC;IAMK,qCAAa,GAAnB;;;;;;4BACqB,qBAAM,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE;;wBAAlD,UAAU,GAAG,SAAqC;6BAClD,CAAC,UAAU,EAAX,wBAAW;wBACE,qBAAM,IAAI,CAAC,aAAa,CAAC,4BAA4B,EAAE;;wBAAhE,MAAM,GAAG,SAAuD;6BAChE,MAAM,EAAN,wBAAM;wBACN,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,sBAAsB,CAAC,EAAE,IAAI,CAAC,CAAC;;;;wBAEjF,qBAAM,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE;;wBAApC,SAAoC,CAAC;;;;wBAErC,OAAO,CAAC,KAAK,CAAC,0CAA0C,CAAC,CAAC;wBAC1D,OAAO,CAAC,KAAK,CAAC,GAAC,CAAC,CAAC;;;6BAIzB,IAAI,CAAC,aAAa,EAAlB,wBAAkB;wBAAE,SAAI;wBAAU,qBAAM,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE;;wBAAtD,GAAK,MAAM,GAAG,SAAwC,CAAC;;;wBAC1E,SAAI;wBAAU,qBAAM,IAAI,CAAC,UAAU,CAAC,mBAAmB,EAAE;;wBAAzD,GAAK,MAAM,GAAG,SAA2C,CAAC;;;wBAC/D,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,MAAM,EAAE;4BAChB,IAAM,OAAO,GAAG;gCACZ,IAAI,CAAC,KAAI,CAAC,GAAG,CAAC,aAAa,EAAE,EAAE;oCAC3B,UAAU,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;iCAC5B;qCAAM;oCACH,KAAI,CAAC,kBAAkB,EAAE,CAAC;iCAC7B;4BACL,CAAC,CAAC;4BACF,OAAO,EAAE,CAAC;wBACd,CAAC,CAAC,CAAC;wBACH,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;;;;;KACvB;IAED,0CAAkB,GAAlB;QACI,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;QACrB,4BAA4B;QAC5B,IAAI,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,mBAAmB,CAAC,EAAE;YACxC,OAAO,CAAC,GAAG,CAAC,sCAAsC,CAAC,CAAC;YACpD,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,mBAAmB,CAAC,CAAC;YAC1C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;SAC3B;QAED,IAAI,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;YAC/B,OAAO,CAAC,GAAG,CAAC,sCAAsC,CAAC,CAAC;YACpD,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;YACjC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;SAC3B;QACD,IAAI,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE;YACpC,OAAO,CAAC,GAAG,CAAC,sCAAsC,CAAC,CAAC;YACpD,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;YACtC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;SAC3B;QAED,IAAI,OAAO,GACP;YACI,MAAM,EAAE,mBAAmB;YAC3B,UAAU,EAAE,EAAE;SACjB,CAAC;QAEN,KAAK,IAAI,KAAK,IAAI,IAAI,CAAC,MAAM,EAAE;YAE3B,IAAI,IAAI,UAAC;YAET,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,UAAU,EAAE;gBAC/B,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,SAAS,EAAE;oBAC9B,IAAI,GAAG,iBAAiB,CAAC;iBAC5B;qBAAM;oBACH,IAAI,GAAG,kBAAkB,CAAC;iBAC7B;aACJ;iBAAM,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,IAAI,GAAG,EAAE;gBACzC,IAAI,GAAG,cAAc,CAAC;aACzB;iBAAM;gBACH,IAAI,GAAG,eAAe,CAAC;aAC1B;YAED,IAAI,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,eAAe,EAAE,CAAC;YACvD,IAAI,IAAI,GAAG;gBACP,MAAM,EAAE,SAAS;gBACjB,YAAY,EAAE;oBACV,YAAY,EAAE,KAAK;oBACnB,MAAM,EAAE,IAAI;iBACf;gBACD,UAAU,EAAE;oBACR,MAAM,EAAE,OAAO;oBACf,aAAa,EAAE;wBACX,WAAW,CAAC,GAAG;wBACf,WAAW,CAAC,GAAG;qBAClB;iBACJ;aACJ,CAAC;YACF,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC/B;QAED,IAAI,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC;YAAE,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;aAC3E;YACD,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,EAAE;gBACzB,IAAI,EAAE,SAAS;gBACf,IAAI,EAAE,OAAO;gBACb,OAAO,EAAE,IAAI;gBACb,aAAa,EAAE,EAAE;aACpB,CAAC,CAAC;SACN;QAED,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC;YACd,EAAE,EAAE,UAAU;YACd,IAAI,EAAE,QAAQ;YACd,MAAM,EAAE,QAAQ;YAChB,MAAM,EAAE,CAAC,KAAK,EAAE,aAAa,CAAC;YAC9B,KAAK,EAAE;gBACH,cAAc,EAAE,SAAS;gBACzB,eAAe,EAAE,EAAE;aACtB;SACJ,CAAC,CAAC;QAEH,GAAG,CAAC,QAAQ,CAAC;YACT,EAAE,EAAE,eAAe;YACnB,IAAI,EAAE,QAAQ;YACd,MAAM,EAAE,QAAQ;YAChB,MAAM,EAAE,CAAC,KAAK,EAAE,aAAa,CAAC;YAC9B,MAAM,EAAE;gBACJ,YAAY,EAAE,2BAA2B;gBACzC,WAAW,EAAE,CAAC,qBAAqB,EAAE,uBAAuB,CAAC;gBAC7D,WAAW,EAAE,EAAE;aAClB;SACJ,CAAC,CAAC;QAEH,GAAG,CAAC,QAAQ,CAAC;YACT,EAAE,EAAE,mBAAmB;YACvB,IAAI,EAAE,QAAQ;YACd,MAAM,EAAE,QAAQ;YAChB,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC,KAAK,EAAE,aAAa,CAAC,CAAC;YACrC,MAAM,EAAE;gBACJ,WAAW,EAAE,IAAI;gBACjB,YAAY,EAAE,CAAC,KAAK,EAAE,MAAM,CAAC;gBAC7B,oBAAoB,EAAE,IAAI;aAC7B;SACJ,CAAC,CAAC;IAEP,CAAC;IAED,kCAAU,GAAV;QAAA,iBAwKC;QAtKG,IAAI,eAAe,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC;QAChE,IAAI,2BAA2B,GAAG,KAAK,CAAC;QAExC,oEAAQ,CAAC,WAAW,GAAG,sEAAmB,CAAC;QAE3C,iEAAiE;QACjE,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,IAAI,CAAC,GAAG,GAAG,IAAI,oEAAQ,CAAC,GAAG,CAAC;gBACxB,KAAK,EAAE,kDAAkD;gBACzD,MAAM,EAAE,CAAC,UAAU,EAAE,UAAU,CAAC;gBAChC,IAAI,EAAE,EAAE;gBACR,SAAS,EAAE,KAAK;gBAChB,WAAW,EAAE,KAAK;aACrB,CAAC,CAAC;SACN;aAAM;YACH,IAAI,CAAC,GAAG,GAAG,IAAI,oEAAQ,CAAC,GAAG,CAAC;gBACxB,KAAK,EAAE,kDAAkD;gBACzD,MAAM,EAAE,CAAC,UAAU,EAAE,UAAU,CAAC;gBAChC,IAAI,EAAE,EAAE;gBACR,SAAS,EAAE,eAAe;gBAC1B,WAAW,EAAE,KAAK;aACrB,CAAC,CAAC;SACN;QACD,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,eAAe,EAAE,CAAC;QAC3C,uCAAuC;QACvC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,MAAM,EAAE;YAChB,KAAI,CAAC,GAAG,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,eAAK;gBAC1C,IAAI,KAAK,CAAC,EAAE,KAAK,WAAW,EAAE;oBAC1B,KAAI,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;iBAClC;YACL,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;QAEH,IAAI,eAAe,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE;YAC1F,2BAA2B,GAAG,IAAI,CAAC;YACnC,IAAI,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YAC5D,IAAI,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;iBACxE,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC;iBACxB,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;iBACpB,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;YACxB,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC;YAClC,IAAI,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACnD,IAAM,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAChE,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;YAChC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;SAC9B;QAGD,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,EAAE,WAAC;YAClB,qEAAqE;YACrE,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC;QAEH,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,eAAe;QACf,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,EAAE,UAAU,EAAE,UAAU,CAAC;YACxC,IAAI,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,CAAC,KAAK,EAAE;gBACnD,MAAM,EAAE,CAAC,UAAU,CAAC;aACvB,CAAC,CAAC;YACH,IAAI,SAAS,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,UAAU,CAAC;YAClD,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,uBAAuB,CAChD,SAAS,EACT,UAAU,GAAG,EAAE,IAAI;gBACf,IAAI,GAAG;oBAAE,OAAO;gBAEhB,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;oBACZ,MAAM,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,WAAW;oBACxC,IAAI,EAAE,IAAI;iBACb,CAAC,CAAC;YACP,CAAC,CACJ,CAAC;QACN,CAAC,CAAC,CAAC;QAGH,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,EAAE,mBAAmB,EAAE,UAAgB,CAAC;;;;;;4BACnD,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,CAAC,KAAK,EAAE;gCACnD,MAAM,EAAE,CAAC,mBAAmB,CAAC;6BAChC,CAAC,CAAC;4BACC,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,UAAU,CAAC;4BAC1C,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;iCAE3B,KAAI,CAAC,YAAY,IAAI,KAAK,GAA1B,wBAA0B;4BAC1B,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;4BAC1B,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC;gCACnD,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;4BAC/B,CAAC,CAAC,CAAC;;;iCAEC,KAAK,CAAC,UAAU,EAAhB,wBAAgB;4BAChB,IAAI,CAAC,iBAAiB,GAAG,YAAY,CAAC;4BACtC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;4BACnC,SAAI;4BAAgB,qBAAM,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,CAAC;;4BAArE,GAAK,YAAY,GAAG,SAAiD,CAAC;;;4BAGtE,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;4BAC1B,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;;;4BAElC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;;;;;;SAExD,CAAC,CAAC;QAGH,IAAI,eAAe,EAAE;YACjB,qEAAqE;YACrE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,SAAS,EAAE,eAAK;gBACxB,IAAI,MAAM,GAA0B,KAAI,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC;gBACzD,IAAI,YAAY,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;gBACrC,YAAY,GAAG,YAAY,CAAC,SAAS,CAAC,EAAE,EAAE,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gBACnE,MAAM,CAAC,OAAO,CAAC,YAAY,CACvB,EAAE,EACF,EAAE,EACC,MAAM,CAAC,QAAQ,CAAC,MAAM,aAAQ,YAAY,SAAI,MAAM,CAAC,QAAQ,CAAC,IAAM,CAC1E,CAAC;YACN,CAAC,CAAC,CAAC;SACN;QAED,IAAI,CAAC,UAAU,CAAC,kBAAkB,EAAE;aAC/B,IAAI,CAAC,cAAI;YACN,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;gBACrB,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAC1B,sCAAsC;gBAEtC,IAAI,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBACvC,EAAE,CAAC,SAAS,GAAG,QAAQ,CAAC;gBACxB,EAAE,CAAC,KAAK,CAAC,eAAe,GAAG,mCAAmC,CAAC;gBAC/D,EAAE,CAAC,KAAK,CAAC,cAAc,GAAG,OAAO,CAAC;gBAClC,EAAE,CAAC,KAAK,CAAC,KAAK,GAAG,GAAG,GAAG,IAAI,CAAC;gBAC5B,EAAE,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC;gBAC7B,EAAE,CAAC,gBAAgB,CAAC,OAAO,EAAE;oBACzB,0CAA0C;oBAC1C,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;gBAC/B,CAAC,CAAC,CAAC;gBAGH,KAAI,CAAC,gBAAgB,GAAG,IAAI,oEAAQ,CAAC,MAAM,CAAC,EAAE,CAAC;qBAC1C,SAAS,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;qBACxD,KAAK,CAAC,KAAI,CAAC,GAAG,CAAC,CAAC;gBAErB,IAAI,CAAC,2BAA2B,EAAE;oBAC9B,KAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;iBACjE;gBAED,IAAI,KAAI,CAAC,iBAAiB,EAAE;oBACxB,KAAI,CAAC,iBAAiB,CAAC,WAAW,EAAE,CAAC;iBACxC;gBACD,KAAI,CAAC,iBAAiB,GAAG,KAAI,CAAC,UAAU,CAAC,aAAa,EAAE,CAAC,SAAS,CAAC,cAAI;oBACnE,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;wBACrB,IAAM,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;wBAC7D,KAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;wBAGxC,wBAAwB;wBACxB,IAAI,KAAI,CAAC,OAAO,IAAI,IAAI,EAAE;4BACtB,IAAI,KAAK,GAAG,+DAAM,CAAC,QAAQ,CAAC,KAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;4BACvD,KAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;yBAC5C;wBACD,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC;qBAC9B;gBACL,CAAC,CAAC,CAAC;aACN;QACL,CAAC,CAAC;aACD,KAAK,CAAC,eAAK;YACR,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;YAC9B,OAAO,CAAC,KAAK,CAAC,qBAAmB,IAAI,CAAC,SAAS,CAAC,KAAK,CAAG,CAAC,CAAC;QAC9D,CAAC,CAAC;IACV,CAAC;IAEK,kCAAU,GAAhB;;;;4BACI,qBAAM,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC;;wBAAtD,SAAsD,CAAC;wBACvD,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;wBAC5B,IAAI,CAAC,kBAAkB,EAAE;;;;;KAC5B;IAEK,6CAAqB,GAA3B;;;;;;wBACI,SAAI;wBAAgB,qBAAM,IAAI,CAAC,aAAa,CAAC,qBAAqB,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,OAAO,CAAC;;wBAAnG,GAAK,YAAY,GAAG,SAA+E,CAAC;wBACpG,IAAI,CAAC,kBAAkB,EAAE;;;;;KAC5B;IAED,uCAAe,GAAf,UAAgB,IAAS;QAAzB,iBAOC;QANG,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;QACnC,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;QAC1B,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC;;;;wBAClD,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;wBAC3B,qBAAM,IAAI,CAAC,mBAAmB,EAAE;;wBAAhC,SAAgC,CAAC;;;;aACpC,CAAC;IACN,CAAC;IAEK,oCAAY,GAAlB;;;gBACI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,gBAAgB,EAAE,EAAC,aAAa,EAAE,IAAI,CAAC,aAAa,EAAC,CAAC,CAAC;;;;KAC/E;IAEK,2CAAmB,GAAzB;;;;;;6BACQ,IAAI,CAAC,aAAa,EAAlB,wBAAkB;wBAAE,SAAI;wBAAU,qBAAM,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE;;wBAAtD,GAAK,MAAM,GAAG,SAAwC,CAAC;;;wBAC1E,SAAI;wBAAU,qBAAM,IAAI,CAAC,UAAU,CAAC,mBAAmB,EAAE;;wBAAzD,GAAK,MAAM,GAAG,SAA2C,CAAC;;;wBAC/D,IAAI,CAAC,kBAAkB,EAAE;;;;;KAC5B;IAED,uCAAe,GAAf;QACI,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;QACnB,GAAG,CAAC,SAAS,CAAC,uCAAuC,EAAE,UAAU,KAAK,EAAE,KAAK;YACzE,GAAG,CAAC,QAAQ,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC;QAEH,GAAG,CAAC,SAAS,CAAC,sCAAsC,EAAE,UAAU,KAAK,EAAE,KAAK;YACxE,GAAG,CAAC,QAAQ,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;QACxC,CAAC,CAAC,CAAC;QAEH,GAAG,CAAC,SAAS,CAAC,0CAA0C,EAAE,UAAU,KAAK,EAAE,KAAK;YAC5E,GAAG,CAAC,QAAQ,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC;QAC5C,CAAC,CAAC,CAAC;QAEH,GAAG,CAAC,SAAS,CAAC,oCAAoC,EAAE,UAAU,KAAK,EAAE,KAAK;YACtE,GAAG,CAAC,QAAQ,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;IAGP,CAAC;IAvbiB;QAAjB,gEAAS,CAAC,KAAK,CAAC;kCAAe,yDAAU;uDAAC;IAFlC,aAAa;QAJzB,gEAAS,CAAC;YACP,QAAQ,EAAE,YAAY;WACO;SAChC,CAAC;sFAqBiC;YACP,+EAAU;YACR,oEAAa;YACnB,mFAAa;YACZ,8EAAa;YACJ,2EAAgB;YACtB,gEAAU;YACf,gEAAM;YACF,oFAAS;YACH,8EAAe;YAC1B,UAAW;OA9BpB,aAAa,CA4bzB;IAAD,CAAC;AAAA;SA5bY,aAAa,e;;;;;;;;;;;;;;;;;;;;;;;;;ACxCc;AACiB;AACC;AACL;AACmB;AAC5B;AACY;AAExD;;;;;GAKG;AAOH;IAkBI,oBAAmB,OAAsB,EAAS,SAAoB,EACnD,GAAiB,EAAU,gBAAkC,EAC5D,SAAuB,EAAU,IAAiB;QAFnD,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QACnD,QAAG,GAAH,GAAG,CAAc;QAAU,qBAAgB,GAAhB,gBAAgB,CAAkB;QAC5D,cAAS,GAAT,SAAS,CAAc;QAAU,SAAI,GAAJ,IAAI,CAAa;QAlBtE,gBAAW,GAAG;YACV,EAAE,EAAE,QAAQ;YACZ,EAAE,EAAE,WAAW;YACf,EAAE,EAAE,WAAW;YACf,EAAE,EAAE,WAAW;YACf,EAAE,EAAE,SAAS;YACb,EAAE,EAAE,SAAS;YACb,EAAE,EAAE,WAAW;YACf,EAAE,EAAE,WAAW;YACf,EAAE,EAAE,WAAW;YACf,EAAE,EAAE,MAAM;YACV,EAAE,EAAE,IAAI;SACX,CAAC;QAOE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC;QAC7H,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,8BAA8B,CAAC,+DAAM,CAAC,aAAa,GAAG,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;IACzI,CAAC;IAED,qCAAgB,GAAhB;QACI,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;IAC/B,CAAC;IAED,qCAAgB,GAAhB;QACI,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;IAC9B,CAAC;IA/BQ,UAAU;QAJtB,gEAAS,CAAC;YACP,QAAQ,EAAE,aAAa;WACG;SAC7B,CAAC;6KAmB8B,CAA0C;YAC9C,+EAAY,EAA4B,6EAAgB;YACjD,OAAuC;OApB7D,UAAU,CAgCtB;IAAD,CAAC;AAAA;SAhCY,UAAU,e;;;;;;;;;;;;;;;;;;;;ACpBmB;AACsB;AAMhE;IAQI,uBAAY,MAAiB;QAEzB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;QACnC,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;QACvC,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QAC/B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;QACnC,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU;IAG5C,CAAC;IAjBQ,aAAa;QAJzB,gEAAS,CAAC;YACP,QAAQ,EAAE,iBAAiB;WACQ;SACtC,CAAC;sBAS+B;OARpB,aAAa,CAmBzB;IAAD,CAAC;AAAA;SAnBY,aAAa,mB;;;;;;;;;;;;;;;;;;;;;;ACP2B;AACqB;AACjB;AACV;AACX;AASpC;IAWI,iCAAoB,QAAwB,EACxB,OAAsB,EACtB,OAAY,EACZ,SAAoB;QAHxC,iBA4BC;QA5BmB,aAAQ,GAAR,QAAQ,CAAgB;QACxB,YAAO,GAAP,OAAO,CAAe;QACtB,YAAO,GAAP,OAAO,CAAK;QACZ,cAAS,GAAT,SAAS,CAAW;QACpC,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC;QACtC,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC;QAClC,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC;QAClC,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;QAC7B,IAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC;QAC9C,IAAI,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,iBAAiB,EAAE,CAAC;QACpD,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;QAC5C,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,cAAI;YAChB,IAAI,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;gBAC/G,KAAI,CAAC,mBAAmB,EAAE,CAAC;aAC9B;QACJ,CAAC,CAAC,CAAC;QACH,IAAG,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE;YACzB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC;YAC1C,QAAQ,IAAI,CAAC,SAAS,EAAE;gBACpB,KAAK,SAAS;oBACV,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC;oBAC3B,MAAM;gBACV;oBACI,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;aAC1B;SACJ;aAAM;YACH,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;SACtB;IACL,CAAC;IAED,sBAAsB;IACtB,yBAAyB;IACzB,iCAAiC;IACjC,eAAe;IACf,IAAI;IAEH,wCAAM,GAAN;QACG,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC5B,CAAC;IAEA,6CAAW,GAAX;QACG,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC,kEAAQ,CAAC,CAAC;QAC9C,IAAI,CAAC,MAAM,EAAE,CAAC;IAClB,CAAC;IArDmB;QAAnB,gEAAS,CAAC,OAAO,CAAC;;0DAAO;IADjB,uBAAuB;QAJnC,gEAAS,CAAC;YACP,QAAQ,EAAE,4BAA4B;WACM;SAC/C,CAAC;iFAY8C;YACf,2DAAa;YACb,gEAAG;YACD,SAAS;OAd/B,uBAAuB,CAwDnC;IAAD,CAAC;AAAA;SAxDY,uBAAuB,mB;;;;;;;;;;;;;;;;;;;;;;ACbiB;AACqB;AACjB;AACV;AACX;AASpC;IAWI,+BAAoB,QAAwB,EACxB,OAAsB,EACtB,OAAY,EACZ,SAAoB;QAHxC,iBA4BC;QA5BmB,aAAQ,GAAR,QAAQ,CAAgB;QACxB,YAAO,GAAP,OAAO,CAAe;QACtB,YAAO,GAAP,OAAO,CAAK;QACZ,cAAS,GAAT,SAAS,CAAW;QACpC,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC;QAClC,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC;QAClC,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC;QACxC,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;QAC7B,IAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC;QAC9C,IAAI,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,iBAAiB,EAAE,CAAC;QACpD,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;QAC5C,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,cAAI;YAChB,IAAI,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;gBAC/G,KAAI,CAAC,mBAAmB,EAAE,CAAC;aAC9B;QACJ,CAAC,CAAC,CAAC;QACH,IAAG,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE;YACzB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC;YAC1C,QAAQ,IAAI,CAAC,SAAS,EAAE;gBACpB,KAAK,SAAS;oBACV,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC;oBAC3B,MAAM;gBACV;oBACI,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;aAC1B;SACJ;aAAM;YACH,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;SACtB;IACL,CAAC;IAED,sBAAsB;IACtB,yBAAyB;IACzB,iCAAiC;IACjC,eAAe;IACf,IAAI;IAEH,sCAAM,GAAN;QACG,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC5B,CAAC;IAEA,2CAAW,GAAX;QACG,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC,kEAAQ,CAAC,CAAC;QAC9C,IAAI,CAAC,MAAM,EAAE,CAAC;IAClB,CAAC;IArDmB;QAAnB,gEAAS,CAAC,OAAO,CAAC;;wDAAO;IADjB,qBAAqB;QAJjC,gEAAS,CAAC;YACP,QAAQ,EAAE,0BAA0B;WACM;SAC7C,CAAC;iFAY8C;YACf,2DAAa;YACb,gEAAG;YACD,SAAS;OAd/B,qBAAqB,CAwDjC;IAAD,CAAC;AAAA;SAxDY,qBAAqB,mB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACbmB;AACqB;AAC4B;AAC9B;AAChB;AACgB;AAWxE;IAQI,6BAAoB,UAAsB,EAAS,SAA0B,EAAU,QAAwB,EAC3F,cAA8B,EAAU,SAAoB;QAD5D,eAAU,GAAV,UAAU,CAAY;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAU,aAAQ,GAAR,QAAQ,CAAgB;QAC3F,mBAAc,GAAd,cAAc,CAAgB;QAAU,cAAS,GAAT,SAAS,CAAW;QANhF,SAAI,GAAW,EAAE,CAAC;QAClB,cAAS,GAAY,KAAK,CAAC;QAMvB,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC;IAC1C,CAAC;4BAXQ,mBAAmB;IAa5B,6CAAe,GAAf;QAAA,iBAIC;QAHG,UAAU,CAAC;YACP,KAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;QAC1B,CAAC,EAAE,GAAG,CAAC,CAAC;IACZ,CAAC;IAED,oCAAM,GAAN;QACI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC5B,CAAC;IAED,6CAAe,GAAf;QACI,IAAG,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE;YACtB,OAAO,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;SAChC;aAAM;YACH,OAAO,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;SACjC;IACL,CAAC;IAEK,qDAAuB,GAA7B;;;;;4BACgB,qBAAM,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC;;wBAAxD,KAAK,GAAG,SAAgD;6BACxD,CAAC,KAAK,EAAN,wBAAM;wBACF,OAAO,UAAC;;;;wBAEE,qBAAM,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE;;wBAA3E,OAAO,GAAG,SAAiE,CAAC;;;;;;wBAGhF,IAAI,OAAO,EAAE;4BACL,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,0HAA0B,EAAE;gCAC1D,OAAO,EAAE,OAAO;gCAChB,OAAO,EAAE,IAAI,CAAC,OAAO;6BACxB,CAAC,CAAC;4BACH,IAAI,CAAC,MAAM,EAAE,CAAC;4BACd,KAAK,CAAC,OAAO,EAAE,CAAC;yBACnB;6BAAM;4BACH,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;yBACzB;;4BAED,qBAAM,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,KAAK,CAAC;;wBAAxC,SAAwC,CAAC;wBACzC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;;;;;;KAEpC;IAEmB,wBAAI,GAAxB,UAAyB,OAAsB,EAAE,SAA0B,EACrC,gBAAkC,EAAE,aAA4B;;;gBAClG,sBAAO,IAAI,OAAO,CAAQ,UAAC,OAAO;wBAC9B,IAAI,KAAK,GAAG,SAAS,CAAC,MAAM,CAAC,qBAAmB,EAAE,EAAC,OAAO,EAAE,OAAO,EAAC,CAAC,CAAC;wBACtE,KAAK,CAAC,YAAY,CAAC,UAAU,KAAY;4BACrC,IAAI,KAAK,EAAE;gCACP,aAAa,CAAC,UAAU,CAAC,IAAI,EAAE,gBAAgB,CAAC,OAAO,CAAC,uBAAuB,EAAE,EAAC,GAAG,EAAE,KAAK,CAAC,KAAK,EAAC,CAAC,EAChG,gBAAgB,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;oCAChC,aAAa,CAAC,qBAAqB,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;gCACpD,CAAC,CACJ,CAAC;6BACT;4BACD,OAAO,CAAC,KAAK,CAAC,CAAC;wBACnB,CAAC,CAAC,CAAC;wBACH,KAAK,CAAC,OAAO,EAAE,CAAC;oBACpB,CAAC,CAAC,EAAC;;;KACN;;IAtEmB;QAAnB,gEAAS,CAAC,OAAO,CAAC;;sDAAO;IADjB,mBAAmB;QAJ/B,gEAAS,CAAC;YACP,QAAQ,EAAE,yBAAyB;WACK;SAC3C,CAAC;yKASiH;YAC3E,cAAc,EAA8B;OATvE,mBAAmB,CAyE/B;IAAD,CAAC;AAAA;SAzEY,mBAAmB,mB;;;;;;;;AChBhC;AAAA;AAAA;AAAA;AAAA;AAA2E;AAClD;AACgB;AAEzC,yGAAsB,EAAE,CAAC,eAAe,CAAC,8DAAS,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJgD;AAC/C;AACkB;AACpB;AACL;AACQ;AACV;AACM;AACD;AACR;AACD;AACiB;AACE;AACP;AACK;AACI;AACH;AACkB;AAChC;AAEN;AAEtC,iBAAiB;AACiD;AACE;AACC;AAElB;AACM;AACD;AACd;AAG+C;AAC1B;AACE;AACG;AACkB;AACqB;AACrB;AACY;AACjC;AACd;AACc;AACsC;AACtC;AACxB;AACW;AACT;AACgC;AAClB;AACY;AACX;AACL;AACX;AACa;AACY;AACyB;AAC3B;AAC2B;AACvC;AAgGrD;IAAA;IACA,CAAC;IADY,SAAS;QA7FrB,+DAAQ,CAAC;YACN,YAAY,EAAE;gBACV,8DAAK;gBACL,+EAAS;gBACT,yJAAiC;gBACjC,wFAAY,EAAE,6GAAmB,EAAE,kIAA0B,EAAE,6GAAmB,EAAE,yHAAuB,EAAE,2FAAa,EAAE,mHAAqB;gBACjJ,mHAAqB;gBACrB,wFAAY;gBACZ,2EAAU;gBACV,mGAAc;aACjB;YACD,OAAO,EAAE;gBACL,iEAAU;gBACV,+EAAgB;gBAChB,gFAAa;gBACb,kEAAW,CAAC,OAAO,CAAC,8DAAK,EAAE;oBACvB,kBAAkB,EAAE,IAAI;oBACxB,gBAAgB,EAAE,KAAK;iBAC1B,EACT;oBACE,KAAK,EAAE;wBACL,EAAE,YAAY,EAAE,0CAA0C,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBACpI,EAAE,YAAY,EAAE,yDAAyD,EAAE,IAAI,EAAE,eAAe,EAAE,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBAC7J,EAAE,YAAY,EAAE,0CAA0C,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBACpI,EAAE,YAAY,EAAE,0CAA0C,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBACpI,EAAE,YAAY,EAAE,4DAA4D,EAAE,IAAI,EAAE,gBAAgB,EAAE,OAAO,EAAE,YAAY,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBAClK,EAAE,YAAY,EAAE,sDAAsD,EAAE,IAAI,EAAE,cAAc,EAAE,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBACxJ,EAAE,YAAY,EAAE,gDAAgD,EAAE,IAAI,EAAE,YAAY,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBAC9I,EAAE,YAAY,EAAE,0EAA0E,EAAE,IAAI,EAAE,iBAAiB,EAAE,OAAO,EAAE,mCAAmC,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBACxM,EAAE,YAAY,EAAE,gEAAgE,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,mBAAmB,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBACvK,EAAE,YAAY,EAAE,mEAAmE,EAAE,IAAI,EAAE,eAAe,EAAE,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBACvK,EAAE,YAAY,EAAE,8DAA8D,EAAE,IAAI,EAAE,YAAY,EAAE,OAAO,EAAE,8BAA8B,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;wBAClL,EAAE,YAAY,EAAE,sEAAsE,EAAE,IAAI,EAAE,gBAAgB,EAAE,OAAO,EAAE,YAAY,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;qBAC7K;iBACF,CAAC;gBACM,0EAAkB,CAAC,OAAO,EAAE;gBAC5B,6EAAe,CAAC,OAAO,CAAC;oBACpB,MAAM,EAAE;wBACJ,OAAO,EAAE,6EAAe;wBACxB,UAAU,EAAE,CAAC,2FAAqB,CAAC;wBACnC,IAAI,EAAE,CAAC,yEAAU,CAAC;qBAErB,EAAE,cAAc,EAAE,IAAI;iBAC1B,CAAC;gBACF,wFAAgB;gBAChB,2DAAW;gBACX,8HAAmB;gBACnB,mEAAS;gBACT,wEAAc;gBACd,gFAAiB;gBACjB,wFAAgB;aACnB;YACD,SAAS,EAAE,CAAC,+DAAQ,CAAC;YACrB,eAAe,EAAE;gBACb,8DAAK;gBACL,+EAAS;gBACT,yJAAiC;gBACjC,wFAAY,EAAE,6GAAmB,EAAE,kIAA0B,EAAE,6GAAmB,EAAE,yHAAuB,EAAE,2FAAa,EAAE,mHAAqB;gBACjJ,mHAAqB;gBACrB,wFAAY;gBACZ,mGAAc;aACjB;YACD,SAAS,EAAE;gBACP,2EAAS;gBACT,sEAAO;gBACP,8EAAW;gBACX,6EAAU;gBACV,0FAAgB;gBAChB,oEAAM;gBACN,iEAAI;gBACJ,kFAAY;gBACZ,uEAAU;gBACV,oFAAa;gBACb,0EAAU;gBACV,gFAAa;gBACb,sFAAgB;gBAChB,4EAAW;gBACX,gFAAa;gBACb,0EAAU;gBACV,oFAAe;gBACf,gEAAM;gBACN,kGAAqB;gBACrB,8FAAkB;gBAClB,mFAAY;gBACZ,8EAAU;gBACV,mFAAa;gBACb,qEAAM;gBACN,mEAAK;gBACL,4FAAiB;gBACjB,EAAC,OAAO,EAAE,2DAAY,EAAE,QAAQ,EAAE,wEAAiB,EAAC;gBACpD,EAAC,OAAO,EAAE,wFAAqB,EAAE,QAAQ,EAAE,sFAAmB,EAAC;aAClE;SACJ,CAAC;OACW,SAAS,CACrB;IAAD,gBAAC;CAAA;AADqB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5JuC;AACpB;AACuB;AAGkE;AAC1E;AACf;AAGwB;AACnB;AACO;AAEM;AACC;AACX;AAIjD;IAEI,uBAAmB,SAA0B,EAC1B,UAAsB,EACtB,SAA0B,EAC1B,UAAsB,EACtB,gBAAkC,EACjC,OAAsB,EACtB,SAAqB,EACrB,MAAc;QAPf,cAAS,GAAT,SAAS,CAAiB;QAC1B,eAAU,GAAV,UAAU,CAAY;QACtB,cAAS,GAAT,SAAS,CAAiB;QAC1B,eAAU,GAAV,UAAU,CAAY;QACtB,qBAAgB,GAAhB,gBAAgB,CAAkB;QACjC,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAY;QACrB,WAAM,GAAN,MAAM,CAAQ;IAClC,CAAC;IAEK,kCAAU,GAAhB,UAAiB,KAAY;;;;;4BACpB,qBAAM,IAAI,CAAC,4BAA4B,EAAE;;wBAA9C,IAAI,CAAC,UAAyC,GAAE;4BAC5C,sBAAO;yBACV;wBACD,OAAO,CAAC,GAAG,CAAC,gBAAc,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,CAAG,CAAC,CAAC;wBAElD,oBAAoB,GAAG,KAAK,CAAC;wBAC7B,IAAI,GAAQ;4BACZ,KAAK,EAAE,CAAC;4BACR,eAAe,EAAE,CAAC;4BAClB,cAAc,EAAE;gCACZ,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;gCACvC,oBAAoB,GAAG,IAAI,CAAC;4BAChC,CAAC;4BACD,QAAQ,EAAE,iBAAiB;yBAC9B,CAAC;wBACE,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,wJAAiC,EAAE,IAAI,EAAE;4BAC/E,YAAY,EAAE,IAAI;4BAClB,qBAAqB,EAAE,KAAK;yBAC/B,CAAC,CAAC;wBACH,aAAa,CAAC,OAAO,EAAE,CAAC;wBACxB,qBAAM,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,EAAE,UAAU,YAAY,EAAE,aAAa,EAAE,QAAQ;gCACtF,IAAI,CAAC,KAAK,GAAG,aAAa,CAAC;gCAC3B,IAAI,CAAC,eAAe,GAAG,YAAY,CAAC;gCACpC,IAAI,QAAQ,EAAE;oCACV,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;iCAC5B;gCAED,IAAI,IAAI,CAAC,UAAU,EAAE;oCACjB,IAAI,CAAC,UAAU,EAAE,CAAC;iCACrB;gCACD,iDAAiD;gCACjD,OAAO,oBAAoB,CAAC;4BAChC,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC;;wBAZlB,SAYkB,CAAC;wBACnB,aAAa,CAAC,OAAO,EAAE,CAAC;wBACxB,sBAAO,CAAC,oBAAoB,EAAC;;;;KAChC;IAEK,iCAAS,GAAf,UAAgB,KAAY,EAAE,OAAsB,EAAE,UAA2B,EAAE,YAAyB;QAAtD,+CAA2B;QAAE,kDAAyB;;;;;6BACpG,KAAK,CAAC,UAAU,EAAhB,wBAAgB;wBAChB,6EAA6E;wBAC7E,qBAAM,IAAI,CAAC,SAAS,CAAC,oBAAoB,CAAC,KAAK,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;;wBADlG,6EAA6E;wBAC7E,SAAkG;wBAClG,IAAG,UAAU,EAAC;4BACV,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;4BAC3C,sBAAO;yBACV;;4BAGL,qBAAM,IAAI,CAAC,qBAAqB,CAAC,KAAK,EAAE,OAAO,CAAC;;wBAAhD,SAAgD,CAAC;;;;;KACpD;IAEK,kCAAU,GAAhB,UAAiB,QAAgB,EAAE,UAAkB,EACpC,UAAmB,EAAE,cAA2B,EAChD,UAAmB,EAAE,cAA2B,EAChD,SAA6B;QAA7B,iDAA6B;;;;gBAC1C,UAAU,GAAG,UAAU,IAAI,QAAQ,CAAC;gBAChC,OAAO,GAAG,CAAC;wBACX,IAAI,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,UAAU,CAAC;wBAC/C,OAAO,EAAE,cAAc;qBAC1B,CAAC,CAAC;gBACH,IAAI,UAAU,IAAI,cAAc,EAAE;oBAC9B,OAAO,CAAC,IAAI,CAAC;wBACT,IAAI,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,UAAU,CAAC;wBAC/C,OAAO,EAAE,cAAc;qBAC1B,CAAC;iBACL;gBACG,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oBAChC,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI;oBAChE,OAAO,EAAE,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI;oBACtE,OAAO,EAAE,OAAO;oBAChB,QAAQ,EAAE,SAAS;iBACtB,CAAC,CAAC;gBACH,OAAO,CAAC,OAAO,EAAE,CAAC;gBAClB,sBAAO,OAAO,EAAC;;;KAClB;IAED,uCAAe,GAAf,UAAgB,QAAgB,EAAE,UAAkB,EACpC,MAAe,EACf,KAAc;QAF9B,iBAQC;QALG,MAAM,GAAG,MAAM,IAAI,KAAK,CAAC;QACzB,KAAK,GAAG,KAAK,IAAI,IAAI,CAAC;QACtB,OAAO,IAAI,OAAO,CAAU,UAAC,OAAO,EAAE,MAAM;YACxC,KAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,UAAU,EAAE,MAAM,EAAE,cAAM,cAAO,CAAC,IAAI,CAAC,EAAb,CAAa,EAAE,KAAK,EAAE,cAAM,cAAO,CAAC,KAAK,CAAC,EAAd,CAAc,CAAC,CAAC;QACpG,CAAC,CAAC,CAAC;IACP,CAAC;IAEO,uCAAe,GAAvB,UAAwB,KAAY,EAAE,OAAsB,EAAE,YAAyB;QAAvF,iBAuBC;QAvB6D,kDAAyB;QACnF,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;QACrC,UAAU,CAAC;YACP,IAAI,OAAO,CAAC,MAAM,IAAI,OAAO,CAAC,MAAM,CAAC,MAAM,EAAE;gBACzC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE;oBACnC,OAAO,EAAE,KAAK,CAAC,EAAE;oBACjB,WAAW,EAAE,KAAK,CAAC,KAAK;oBACxB,YAAY,EAAE,YAAY;iBAC7B,EAAE,EAAE,EAAE;oBACH,qDAAqD;oBACrD,KAAI,CAAC,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;gBACzC,CAAC,CAAC,CAAC;aACN;iBAAM,IAAI,OAAO,CAAC,MAAM,IAAI,IAAI,EAAE;gBAC/B,OAAO,CAAC,IAAI,CAAC,UAAU,EAAE;oBACrB,OAAO,EAAE,KAAK,CAAC,EAAE;oBACjB,WAAW,EAAE,KAAK,CAAC,KAAK;oBACxB,YAAY,EAAE,YAAY;iBAC7B,EAAE,EAAE,EAAE;oBACH,qDAAqD;oBACrD,KAAI,CAAC,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;gBACzC,CAAC,CAAC,CAAC;aACN;QACL,CAAC,EAAE,EAAE,CAAC,CAAC;IACX,CAAC;IAED,6CAAqB,GAArB,UAAsB,KAAY,EAAE,OAAsB;QAA1D,iBAqBC;QApBG,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,OAAO,IAAI,OAAO,CAAC,iBAAO;YACtB,sGAAsG;YACtG,IAAI,IAAI,GAAG;gBACP,OAAO,EAAE,KAAK,CAAC,EAAE;gBACjB,aAAa,EAAE,KAAI;gBACnB,KAAK,EAAE,IAAI;aACd,CAAC;YACF,IAAI,cAAc,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC,8EAAS,EAAE,IAAI,CAAC,CAAC;YAC5D,cAAc,CAAC,YAAY,CAAC,gBAAM;gBAC9B,IAAI,MAAM,IAAI,MAAM,CAAC,SAAS,EAAE;oBAC5B,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;oBAC5C,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;iBACzB;qBAAM;oBACH,4BAA4B;oBAC5B,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBACvB;YACL,CAAC,CAAC,CAAC;YACH,cAAc,CAAC,OAAO,EAAE,CAAC;QAC7B,CAAC,CAAC,CAAC;IACP,CAAC;IAEK,4CAAoB,GAA1B,UAA2B,KAAY,EAAE,KAAY,EAAE,KAAmB,EAAE,SAA6B,EAAE,OAAsB,EAAE,QAAa;QAApE,iDAA6B;;;;;;;wBACrF,eAAI,CAAC,SAAS,EAAC,MAAM;8BAAC,uFAAY;;4BAC9C,KAAK,EAAE,KAAK;4BACZ,KAAK,EAAE,KAAK;4BACZ,KAAK,EAAE,KAAK;;wBACL,qBAAM,KAAK,CAAC,QAAQ,EAAE;;wBAJ7B,SAAS,GAAG,yBAIZ,QAAK,GAAE,SAAsB;gCAC7B,gBAAa,GAAE,IAAI;qCACpB,EAAC,QAAQ,EAAE,SAAS,EAAC,GAAC;wBACzB,SAAS,CAAC,YAAY,CAAC,cAAI;4BACvB,+BAA+B;4BAC/B,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,IAAI,OAAO,IAAI,IAAI,IAAI,CAAC,QAAQ;gCAAE,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,EAAE,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;4BAC7H,wBAAwB;iCACnB,IAAI,IAAI,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,IAAI,OAAO,IAAI,IAAI,IAAI,QAAQ;gCAAE,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;4BACvG,kIAAkI;wBACtI,CAAC,CAAC,CAAC;wBACH,SAAS,CAAC,OAAO,EAAE,CAAC;wBACpB,sBAAO,SAAS,EAAC;;;;KACpB;IAEK,oDAA4B,GAAlC;;;;;;6BACQ,IAAI,CAAC,MAAM,CAAC,QAAQ,EAApB,wBAAoB;wBACN,qBAAM,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE;;wBAA7C,OAAO,GAAG,SAAmC;6BAC7C,QAAO,IAAI,0EAAiB,CAAC,IAAI,GAAjC,wBAAiC;wBACjC,sBAAO,IAAI,EAAC;4BAEL,qBAAM,IAAI,CAAC,eAAe,CAAC,yBAAyB,EACvD,mBAAmB,EAAE,kBAAkB,EAAE,gBAAgB,CAAC;4BAD9D,sBAAO,SACuD,EAAC;;4BAGnE,qBAAM,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,kCAAkC,CAAC;;wBAA/D,SAA+D,CAAC;wBAChE,sBAAO,KAAK,EAAC;;;;;KAEpB;IAlLQ,aAAa;QADzB,iEAAU,EAAE;yCAGqB,sEAAe;YACd,gEAAU;YACX,sEAAe;YACd,wFAAU;YACJ,6EAAgB;YACxB,mFAAa;YACX,wEAAU;YACb,+DAAM;OATzB,aAAa,CAoLzB;IAAD,oBAAC;CAAA;AApLyB;;;;;;;;;AChB1B;AAAA;;GAEG;AACH;IACE,qBACY,MAAwB,EACxB,IAAgB;QADhB,WAAM,GAAN,MAAM,CAAkB;QACxB,SAAI,GAAJ,IAAI,CAAY;IAE5B,CAAC;IAQD,sBAAI,gCAAO;QAJX;;;WAGG;aACH;YACE,OAAO,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;QAC9C,CAAC;QAED;;WAEG;aACH,UAAY,OAAe;YACzB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QAC1B,CAAC;;;OAPA;IAQH,kBAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9B0C;AACW;AACb;AAC0B;AACZ;AAGP;AAEG;AAGsC;AAGzF;IAGI,oBAAoB,UAAsB,EACtB,SAA0B,EAC3B,QAAkB,EACjB,WAA6B,EAC7B,WAAwB;QAJ5C,iBAcC;QAdmB,eAAU,GAAV,UAAU,CAAY;QACtB,cAAS,GAAT,SAAS,CAAiB;QAC3B,aAAQ,GAAR,QAAQ,CAAU;QACjB,gBAAW,GAAX,WAAW,CAAkB;QAC7B,gBAAW,GAAX,WAAW,CAAa;QAYpC,YAAO,GAAG,IAAI,mBAAmB,CAAc,CAAC,CAAC,CAAC;QAXtD,YAAU,CAAC,QAAQ,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG;YACzB,IAAI,KAAI,CAAC,uBAAuB,EAAE;gBAC9B,wCAAwC;gBACxC,KAAI,CAAC,uBAAuB,CAAC,WAAW,EAAE,CAAC;gBAC3C,KAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;gBACpC,OAAO,CAAC,GAAG,CAAC,gDAAgD,CAAC,CAAC;aACjE;QACL,CAAC;IACL,CAAC;mBAjBQ,UAAU;IAwBN,iCAAY,GAAzB;;;;;4BACI,qBAAM,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE;;wBAA3B,SAA2B,CAAC;wBAC5B,OAAO,CAAC,GAAG,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC,CAAC;wBAEtD,gCAAgC;wBAChC,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC;4BAC3B,qFAAiB,CAAC,yFAAgB,CAAC,YAAY,EAAE,EAAE,IAAI,EAAE,yFAAgB,CAAC,aAAa,EAAE,CAAC,KAAK,IAAI;4BACnG,IAAI,CAAC,UAAU,CAAC,iBAAiB,EAAE,CAAC,IAAI,CAAC,UAAO,OAAO;;;;4CACnD,wBAAwB;4CACxB,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;iDACjC,CAAC,OAAO,EAAR,wBAAQ;4CAAE,qBAAM,IAAI,CAAC,cAAc,EAAE;;4CAA3B,SAA2B,CAAC;;;;;iCAC7C,CAAC;;;;;KACT;IAGK,kCAAa,GAAnB;;;;;gBACQ,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oBAChC,KAAK,EAAE,cAAc;oBACrB,OAAO,EAAE,8CAA8C;oBACvD,OAAO,EAAE;wBACL;4BACI,IAAI,EAAE,IAAI;4BACV,OAAO,EAAE;gCACL,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;4BACpC,CAAC;yBACJ;wBACD;4BACI,IAAI,EAAE,KAAK;4BACX,OAAO,EAAE;gCACL,KAAI,CAAC,cAAc,EAAE,CAAC;4BAC1B,CAAC;yBACJ;qBACJ;iBACJ,CAAC,CAAC;gBACH,OAAO,CAAC,OAAO,EAAE,CAAC;;;;KACrB;IAGK,mCAAc,GAApB;;;;gBACI,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,UAAC,GAAG;oBACnC,IAAI,GAAG;wBAAE,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,KAAI,CAAC,WAAW,CAAC,8BAA8B,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG;4BACjG,OAAO,CAAC,GAAG,CAAC,kCAAkC,CAAC,CAAC;wBACpD,CAAC,EAAE,UAAU,GAAG;4BACZ,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;wBACjD,CAAC,CAAC;gBAEN,CAAC,CAAC;;;;KAEL;IAED;;;;;;;;;;;;;;;;;OAiBG;IACH,kCAAa,GAAb,UAAc,OAA4B;QAA1C,iBAiBC;QAhBG,IAAI,CAAC,IAAI,CAAC,uBAAuB,EAAE;YAC/B,OAAO,CAAC,GAAG,CAAC,4CAA4C,CAAC,CAAC;YAC1D,IAAI,CAAC,OAAO,EAAE;gBACV,OAAO,GAAG;oBACN,kBAAkB,EAAE,IAAI;iBAC3B;aACJ;YACD,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,cAAI;gBACjF,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACxB,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;oBACrB,OAAO,CAAC,KAAK,CAAC,oBAAkB,IAAI,CAAC,MAAM,CAAC,QAAQ,UAAK,IAAI,CAAC,MAAM,CAAC,SAAW,CAAC,CAAC;oBAClF,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;iBAC5B;YACL,CAAC,CAAC,CAAC;SACN;QACD,OAAO,IAAI,CAAC,OAAO,CAAC;IACxB,CAAC;IAED;;;;;OAKG;IACG,uCAAkB,GAAxB,UAAyB,OAA4B;;;;;;wBACjD,IAAI,CAAC,OAAO,EAAE;4BACV,OAAO,GAAG;gCACN,kBAAkB,EAAE,IAAI;6BAC3B;yBACJ;;;;wBAEkB,qBAAM,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,OAAO,CAAC;;wBAA7D,QAAQ,GAAG,SAAkD;wBACjE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;wBAC5B,IAAI,QAAQ,IAAI,QAAQ,CAAC,MAAM,EAAE;4BAC7B,OAAO,CAAC,KAAK,CAAC,yBAAuB,QAAQ,CAAC,MAAM,CAAC,QAAQ,UAAK,QAAQ,CAAC,MAAM,CAAC,SAAW,CAAC,CAAC;4BAC/F,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC;yBAChC;wBACD,sBAAQ,QAAQ,EAAC;;;wBAEjB,OAAO,CAAC,GAAG,CAAC,uDAAuD,EAAE,GAAC,CAAC,CAAC;wBACxE,sBAAO,IAAI,EAAC;;;;;KAEnB;IAED,oCAAe,GAAf;QACI,OAAO,IAAI,CAAC,YAAY,CAAC;IAC7B,CAAC;;IA3IQ,UAAU;QADtB,iEAAU,EAAE;yCAIuB,4EAAU;YACX,sEAAe;YACjB,+DAAQ;YACJ,yFAAgB;YAChB,8EAAW;OAPnC,UAAU,CA4ItB;IAAD,iBAAC;CAAA;AA5IsB;AA8IvB;IAAqC,uCAAgB;IAArD;;IAkBA,CAAC;IAfU,wCAAU,GAAjB,UAAkB,UAAyB;QAA3C,iBAUC;QATG,IAAI,MAAM,GAAG,iBAAM,UAAU,YAAC,UAAU,CAAC,CAAC;QAC1C,IAAI,mBAAmB,GAAG,MAAM,CAAC,WAAW,CAAC;QAC7C,MAAM,CAAC,WAAW,GAAG;YACjB,mBAAmB,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YAClC,IAAI,CAAC,KAAI,CAAC,YAAY,EAAE,IAAI,KAAI,CAAC,aAAa,EAAE;gBAC5C,KAAI,CAAC,aAAa,EAAE,CAAC;aACxB;QACL,CAAC,CAAC;QACF,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,0CAAY,GAAZ;QACI,OAAO,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC;IACrC,CAAC;IACL,0BAAC;AAAD,CAAC,CAlBoC,iEAAa,GAkBjD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/KyE;AAClC;AACC;AACI;AACf;AACU;AAGW;AACA;AACJ;AAG/C;IAAA;QACA,oOAAoO;QACpO,qOAAqO;QAmFjO,qBAAgB,GAAG,EAAE,CAAC;QACtB,oBAAe,GAAG;YACd,iBAAiB,EAAE,SAAS;YAC5B,qBAAqB,EAAG,gBAAgB;YACxC,sBAAsB,EAAG,QAAQ;YACjC,gBAAgB,EAAG,aAAa;YAChC,4BAA4B,EAAG,UAAU;YACzC,gCAAgC,EAAG,YAAY;YAC/C,wBAAwB,EAAG,SAAS;YACpC,4BAA4B,EAAG,aAAa;YAC5C,wBAAwB,EAAG,UAAU;YACrC,wBAAwB,EAAG,UAAU;YACrC,oBAAoB,EAAG,UAAU;YACjC,kBAAkB,EAAG,iBAAiB;YACtC,qBAAqB,EAAG,UAAU;SACrC,CAAC;QA4FM,sBAAiB,GAAiB,IAAI,CAAC;QACvC,0BAAqB,GAAiB,IAAI,CAAC;QAC3C,iBAAY,GAAW,IAAI,CAAC;QAC5B,aAAQ,GAAW,IAAI,CAAC;IAgQpC,CAAC;IA7VS,wBAAQ,GAAd;;;;;;;wBACI,IAAI,IAAI,CAAC,KAAK,EAAE;4BACZ,sBAAO,IAAI,CAAC,KAAK,EAAC;yBACrB;6BACG,IAAI,CAAC,WAAW,EAAhB,wBAAgB;wBAChB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,QAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,EAAX,CAAW,CAAC,CAAC;wBAC7C,SAAI;wBAAS,qBAAM,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,UAAO,KAAK,EAAE,KAAK;;;;gDACpD,qBAAM,KAAK,CAAC,mBAAmB,EAAE;;4CAAxC,IAAI,GAAG,SAAiC;4CAC5C,IAAI,CAAC,IAAI,EAAE;gDACP,sBAAO,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,EAAC;6CACrC;4CACD,IAAI,CAAC,QAAQ,GAAG,KAAK,GAAG,CAAC,CAAC;4CAC1B,sBAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAC;;;iCAChC,CAAC,CACL;;wBARD,GAAK,KAAK,GAAG,SAQZ,CAAC;wBACF,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,cAAI;4BAC/B,OAAO,CAAC,CAAC,IAAI;wBACjB,CAAC,CAAC,CAAC;;;wBAEH,2DAA2D;wBAC3D,SAAI;wBAAgB,qBAAM,yEAAU,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC;4BAAvD,qBAAM,CAAC,SAAgD,CAAC,CAAC,QAAQ,EAAE;;wBADhF,2DAA2D;wBAC3D,GAAK,KAAK,GAAG,SAAmE,CAAC;;4BAErF,sBAAO,IAAI,CAAC,KAAK,EAAC;;;;KACrB;IA0BK,4BAAY,GAAlB;;;;;;wBAEI,IAAG,IAAI,CAAC,KAAK,EAAE;4BACX,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC;yBACzB;wBACD,IAAI,IAAI,CAAC,WAAW,EAAE;4BAClB,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,aAAG;gCAC/B,OAAO,GAAG,CAAC,IAAI,CAAC;4BACpB,CAAC,CAAC,CAAC,MAAM,CAAC,cAAI,IAAK,OAAO,CAAC,CAAC,IAAI,GAAC,CAAC,CAAC;yBACtC;6BACG,QAAQ,EAAR,wBAAQ;wBACJ,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC,cAAI,IAAK,OAAO,IAAI,CAAC,UAAU,KAAK,yDAAU,CAAC,KAAK,GAAC,CAAC,CAAC;wBAC/E,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC,cAAI,IAAK,OAAO,IAAI,CAAC,UAAU,KAAK,yDAAU,CAAC,KAAK,GAAC,CAAC,CAAC;wBAChF,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC;8BACD,EAAN,iBAAM;;;6BAAN,qBAAM;wBAAf,KAAK;6BACN,CAAC,KAAK,CAAC,gBAAgB,EAAE,EAAzB,wBAAyB;wBACzB,2DAA2D;wBAC3D,UAAK;wBAAK,qBAAM,yEAAU,CAAC,QAAQ,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE,CAAC;;wBAD1D,2DAA2D;wBAC3D,KAAK,GAAL,KAAS,CAAC,SAAgD,CAAC,CAAC,gBAAgB,EAAE,CAAC,MAAM,CAAC;;;wBAEtF,KAAK,IAAI,KAAK,CAAC,gBAAgB,EAAE,CAAC,MAAM,CAAC;;;wBAL/B,IAAM;;4BAQxB,sBAAO,KAAK,EAAC;4BAGN,qBAAM,yEAAU,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC;;oBADvD,2DAA2D;oBAC3D,qBAAM,CAAC,SAAgD,CAAC,CAAC,YAAY,EAAE;;wBADvE,2DAA2D;wBAC3D,SAAuE,CAAC;;;;;;KAE/E;IAED,+BAAe,GAAf,UAAgB,IAAU;QACtB,IAAI,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,eAAK,IAAI,YAAK,CAAC,MAAM,IAAI,IAAI,CAAC,EAAE,EAAvB,CAAuB,CAAC,CAAC;QACrE,IAAI,KAAK,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,qDAAK,EAAE,CAAC;QAC9D,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,EAAE,CAAC;QACvB,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC;QACnB,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,2BAAW,GAAX;QACI,OAAO,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IAOO,wCAAwB,GAAhC;QACI,IAAM,OAAO,GAAW,MAAM,CAAC;QAC/B,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACnB,OAAO;SACV;QACD,IAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC5C,IAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC3C,IAAI,CAAC,MAAM,EAAE;YACT,OAAO;SACV;QACD,IAAM,SAAS,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QAC5B,IAAM,SAAS,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QAC5B,IAAM,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;QACrC,IAAM,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;QACrC,IAAM,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;QACpC,IAAM,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;QACpC,IAAI,CAAC,qBAAqB,GAAG,IAAI,qDAAY,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1G,IAAI,CAAC,iBAAiB,GAAG,IAAI,qDAAY,CAAC,CAAC,CAAC,KAAK,EAAE,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;QAC1E,IAAI,CAAC,YAAY,GAAG,IAAI,+CAAM,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;IACjE,CAAC;IAED,qCAAqB,GAArB,UAAsB,gBAAkC;QACpD,IAAI,SAAS,GAAG,EAAE,CAAC;QACnB,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACxC,IAAI,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,qBAAqB,EAAE,CAAC;gBAC3D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBAC5C,IAAI,WAAW,GAAG,gBAAgB,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC9D,IAAI,SAAS,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,EAAE;wBACtC,IAAI,SAAS,IAAI,EAAE,EAAE;4BACjB,SAAS,GAAG,SAAS,GAAG,IAAI,CAAC;yBAChC;wBACD,SAAS,GAAG,SAAS,GAAG,WAAW,CAAC;qBACvC;iBACJ;aACJ;SACJ;QAED,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,+BAAe,GAAf,UAAgB,GAAW;QACvB,IAAG,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,EAAC;YAC5B,IAAI,IAAI,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YAChC,OAAO,IAAI,CAAC,GAAG,CAAC,KAAK,MAAM,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC;SACpD;;YACI,OAAO,IAAI,CAAC;IACrB,CAAC;IAED,qCAAqB,GAArB,UAAsB,GAAW,EAAE,gBAAkC;QACjE,IAAI,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;QACtC,IAAG,KAAK,KAAK,IAAI,EAAC;YACd,OAAO,KAAK,CAAC,CAAC,CAAC,gBAAgB,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAAC;SAClH;aACG;YACA,OAAO,EAAE,CAAC;SACb;IACL,CAAC;IAED;;;;OAIG;IACH,kCAAkB,GAAlB,UAAmB,GAAW;QAC1B,IAAI,IAAI,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QAChC,qBAAqB;QACrB,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;YACtB,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC;SAChC;QACD,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACb,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC;SACvB;QACD,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE;YACxB,IAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC;SAClC;QACD,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;YACtB,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC;SAChC;QACD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACjC,OAAO,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;IACpC,CAAC;IAED,oCAAoB,GAApB;QACI,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;YACzB,IAAI,CAAC,wBAAwB,EAAE,CAAC;SACnC;QACD,OAAO,IAAI,CAAC,iBAAiB,CAAC;IAClC,CAAC;IAED,wCAAwB,GAAxB;QACI,IAAI,CAAC,IAAI,CAAC,qBAAqB,EAAE;YAC7B,IAAI,CAAC,wBAAwB,EAAE,CAAC;SACnC;QACD,OAAO,IAAI,CAAC,qBAAqB,CAAC;IACtC,CAAC;IAED,+BAAe,GAAf;QACI,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACpB,IAAI,CAAC,wBAAwB,EAAE,CAAC;SACnC;QACD,OAAO,IAAI,CAAC,YAAY,CAAC;IAC7B,CAAC;IAED,2BAAW,GAAX;QACI,IAAI,yEAAU,CAAC,QAAQ,CAAC,eAAe,EAAE,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;YAChE,IAAI,CAAC,QAAQ,GAAG,+DAAM,CAAC,QAAQ,CAAC,2BAA2B,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC;SACvF;QACD,OAAO,IAAI,CAAC,QAAQ,CAAC;IACzB,CAAC;IAED,6BAAa,GAAb;QACI,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;YACZ,OAAO,EAAE,CAAC;SACb;QACD,OAAO,+DAAM,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC5C,CAAC;IAED,gCAAgB,GAAhB;QACI,uHAAuH;QACvH,mBAAmB;QACnB,IAAI,IAAI,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC,aAAa,CAAC;QAC9C,IAAI,IAAI,EAAE;YACN,OAAO,IAAI,CAAC,WAAW,EAAE,CAAC;SAC7B;aAAM;YACH,OAAO,EAAE,CAAC;SACb;IACL,CAAC;IAED,2BAAW,GAAX,UAAY,SAAS;QACjB,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC,QAAQ,EAAE;YAC/B,OAAO,IAAI,CAAC,aAAa,EAAE,CAAC,QAAQ,CAAC;SACxC;aAAM;YACH,QAAQ,SAAS,EAAE;gBACf,KAAK,SAAS;oBACV,gEAAgE;oBAChE,OAAO,6GAA6G,GAAC,qEAAmB;gBAC5I;oBACI,gDAAgD;oBAChD,OAAO,+DAAM,CAAC,WAAW;aAEhC;SACJ;IACL,CAAC;IAED,wCAAwB,GAAxB,UAAyB,SAAS;QAC9B,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC,eAAe,EAAE;YACtC,OAAO,IAAI,CAAC,aAAa,EAAE,CAAC,eAAe,CAAC;SAC/C;aAAM;YACH,QAAQ,SAAS,EAAE;gBACf,KAAK,SAAS;oBACV,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;gBACtB;oBACI,OAAO,+DAAM,CAAC,UAAU,CAAC;aAChC;SACJ;IACL,CAAC;IAED,sCAAsB,GAAtB;QACI,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC,YAAY,EAAE;YACnC,OAAO,IAAI,CAAC,aAAa,EAAE,CAAC,YAAY,KAAK,OAAO,CAAC;SACxD;aAAM;YACH,OAAO,KAAK,CAAC;SAChB;IACL,CAAC;IAED,uCAAuB,GAAvB;QACI,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC,cAAc,EAAE;YACrC,OAAO,IAAI,CAAC,aAAa,EAAE,CAAC,cAAc,KAAK,MAAM,CAAC;SACzD;aAAM;YACH,OAAO,IAAI,CAAC;SACf;IACL,CAAC;IAED,8BAAc,GAAd;QACI,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC,KAAK,EAAE;YAC5B,OAAO,IAAI,CAAC,aAAa,EAAE,CAAC,KAAK,KAAK,MAAM,CAAC;SAChD;aAAM;YACH,OAAO,IAAI,CAAC;SACf;IACL,CAAC;IAED,yCAAyB,GAAzB;QACI,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC,gBAAgB,EAAE;YACvC,OAAO,IAAI,CAAC,aAAa,EAAE,CAAC,gBAAgB,KAAK,MAAM,CAAC;SAC3D;aAAM;YACH,OAAO,IAAI,CAAC;SACf;IACL,CAAC;IAED,uCAAuB,GAAvB;QACI,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC,cAAc,EAAE;YACrC,OAAO,IAAI,CAAC,aAAa,EAAE,CAAC,cAAc,KAAK,MAAM,CAAC;SACzD;aAAM;YACH,OAAO,IAAI,CAAC;SACf;IACL,CAAC;IAED,kCAAkB,GAAlB;QACI,gEAAgE;QAChE,aAAa;QACb,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,aAAa,CAAC,CAAC;IAClD,CAAC;IAED,mCAAmB,GAAnB;QACI,IAAI,OAAO,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC,gBAAgB,CAAC;QACpD,IAAI,OAAO,IAAI,IAAI,EAAE;YACjB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;SAC/C;IACL,CAAC;IAED,kCAAkB,GAAlB,UAAmB,OAAO;QACtB,IAAG,IAAI,CAAC,gBAAgB,IAAI,IAAI,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,IAAI,CAAC,EAAE;YACnE,IAAI,CAAC,mBAAmB,EAAE,CAAC;SAC9B;QACD,IAAI,GAAG,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QACxC,IAAI,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;QAE3C,OAAO,SAAS,EAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;IACnC,CAAC;IAED,kCAAkB,GAAlB,UAAmB,OAAO;QACtB,IAAG,IAAI,CAAC,gBAAgB,IAAI,IAAI,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,IAAI,CAAC,EAAE;YACnE,IAAI,CAAC,mBAAmB,EAAE,CAAC;SAC9B;QACD,IAAI,GAAG,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QACxC,IAAI,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;QAC3C,IAAG,SAAS,IAAI,OAAO,KAAK,qBAAqB,EAAC;YAC9C,SAAS,GAAG,SAAS,CAAC,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;SAC5D;QACD,OAAO,SAAS,EAAC,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC;IAC1C,CAAC;IAED,iCAAiB,GAAjB,UAAkB,MAAM;QACpB,IAAM,UAAU,GAAI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,oBAAU;YAChD,OAAO,UAAU,CAAC,IAAI,CAAC,EAAE,IAAI,MAAM,CAAC;QACxC,CAAC,CAAC,CAAC;QACH,OAAO,UAAU,CAAC,CAAC,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC,CAAC,KAAK,CAAC;IAC5D,CAAC;IAED,8BAAc,GAAd;QACI,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,QAAQ,KAAK,WAAW,EAAE;YACnD,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SACvC;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,2BAAW,GAAX;QACI,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,KAAK,WAAW,EAAE;YAChD,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SACpC;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IA5bD;QADC,+EAAsB,CAAC,EAAC,IAAI,EAAE,KAAK,EAAC,CAAC;;qCAC3B;IAGX;QADC,+DAAM,CAAC,EAAC,IAAI,EAAE,SAAS,EAAC,CAAC;;yCACX;IAGf;QADC,+DAAM,CAAC,EAAC,MAAM,EAAE,CAAC,EAAC,CAAC;;yCACL;IAGf;QADC,+DAAM,EAAE;;wCACK;IAGd;QADC,+DAAM,CAAC,EAAC,IAAI,EAAE,cAAc,EAAC,CAAC;;8CACX;IAGpB;QADC,+DAAM,EAAE;;uCACI;IAGb;QADC,+DAAM,EAAE;;wCACK;IAGd;QADC,+DAAM,CAAC,EAAC,MAAM,EAAE,EAAE,EAAC,CAAC;;uCACR;IAGb;QADC,+DAAM,CAAC,EAAC,MAAM,EAAE,EAAE,EAAC,CAAC;;wCACP;IAGd;QADC,+DAAM,EAAE;;uCACI;IAGb;QADC,+DAAM,EAAE;;yCACM;IAGf;QADC,+DAAM,CAAC,EAAC,MAAM,EAAE,EAAE,EAAC,CAAC;;2CACJ;IAGjB;QADC,+DAAM,CAAC,EAAC,IAAI,EAAE,cAAc,EAAC,CAAC;;8CACX;IAGpB;QADC,+DAAM,EAAE;;yCACM;IAGf;QADC,+DAAM,EAAE;;8CACW;IAGpB;QADC,+DAAM,CAAC,EAAC,IAAI,EAAE,aAAa,EAAC,CAAC;;6CACX;IAGnB;QADC,+DAAM,EAAE;;4CACS;IAGlB;QADC,+DAAM,EAAE;;uCACI;IAGb;QADC,+DAAM,CAAC,EAAC,IAAI,EAAE,aAAa,EAAC,CAAC;;6CACX;IAGnB;QADC,+DAAM,CAAC,EAAC,IAAI,EAAE,cAAc,EAAC,CAAC;;8CACX;IAGpB;QADC,+DAAM,CAAC,EAAC,IAAI,EAAE,UAAU,EAAC,CAAC;;0CACX;IAGhB;QADC,+DAAM,CAAC,EAAC,IAAI,EAAE,cAAc,EAAC,CAAC;;8CACX;IAGpB;QADC,+DAAM,CAAC,EAAC,IAAI,EAAE,WAAW,EAAC,CAAC;;2CACX;IAUjB;QADC,+DAAM,CAAC,EAAC,IAAI,EAAE,WAAW,EAAC,CAAC;;2CACX;IA+CjB;QADC,kEAAS,CAAC,cAAI,IAAI,sEAAU,EAAV,CAAU,EAAE,oBAAU,IAAI,iBAAU,CAAC,KAAK,EAAhB,CAAgB,EAAE,EAAC,KAAK,EAAE,IAAI,EAAC,CAAC;;8CACnD;IAG1B;QADC,+DAAM,CAAC,EAAC,IAAI,EAAE,YAAY,EAAC,CAAC;;6CACT;IAGpB;QADC,+DAAM,CAAC,EAAC,IAAI,EAAE,gBAAgB,EAAC,CAAC;;iDACV;IAGvB;QADC,+DAAM,CAAC,EAAC,IAAI,EAAE,eAAe,EAAC,CAAC;;gDACV;IAGtB;QADC,+DAAM,CAAC,EAAC,IAAI,EAAE,UAAU,EAAC,CAAC;;2CACT;IAGlB;QADC,+DAAM,CAAC,EAAC,IAAI,EAAE,WAAW,EAAC,CAAC;;4CACT;IAGnB;QADC,kEAAS,CAAC,cAAI,IAAI,4DAAK,EAAL,CAAK,EAAE,eAAK,IAAI,YAAK,CAAC,KAAK,EAAX,CAAW,EAAE,EAAC,KAAK,EAAE,IAAI,EAAC,CAAC;;yCAC9C;IAGhB;QADC,+DAAM,CAAC,EAAC,IAAI,EAAE,UAAU,EAAC,CAAC;;2CACX;IArJP,KAAK;QADjB,+DAAM,CAAC,WAAW,CAAC;OACP,KAAK,CAmcjB;IAAD,YAAC;CAAA;AAnciB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACbuB;AACuB;AACf;AAEV;AAC4B;AAElB;AAER;AAEmC;AAEA;AAKjC;AACU;AACA;AACyB;AACR;AACF;AAC+B;AAElE;AAG8B;AAG/D;IAAA;IAYA,CAAC;IAAD,kBAAC;AAAD,CAAC;;AAED;IAAA;IACA,CAAC;IAAD,6BAAC;AAAD,CAAC;;AAED;IAAA;IAKA,CAAC;IAAD,eAAC;AAAD,CAAC;;AAED,mEAAmE;AACnE;IAAA;IAKA,CAAC;IAAD,kBAAC;AAAD,CAAC;;AAED,IAAY,iBAMX;AAND,WAAY,iBAAiB;IACzB,gEAA2C;IAC3C,0EAAqD;IACrD,oEAA+C;IAC/C,gEAA2C;IAC3C,+DAA0C;AAC9C,CAAC,EANW,iBAAiB,KAAjB,iBAAiB,QAM5B;AAGD;IAqCI,+BAAoB,MAAc,EACd,OAAgB,EAChB,cAA8B,EAC9B,kBAAsC,EACtC,kBAAsC,EACtC,mBAAwC,EACxC,UAAsB,EACtB,kBAAsC,EACtC,SAA2B,EAC3B,KAAsB,EACtB,kBAAiD,EACjD,QAAkB;QAXlB,WAAM,GAAN,MAAM,CAAQ;QACd,YAAO,GAAP,OAAO,CAAS;QAChB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,eAAU,GAAV,UAAU,CAAY;QACtB,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,cAAS,GAAT,SAAS,CAAkB;QAC3B,UAAK,GAAL,KAAK,CAAiB;QACtB,uBAAkB,GAAlB,kBAAkB,CAA+B;QACjD,aAAQ,GAAR,QAAQ,CAAU;QAtC9B,YAAO,GAAG,IAAI,iEAAa,CAAc,CAAC,CAAC,CAAC;QAC5C,oBAAe,GAAG,mDAAU,CAAC,QAAQ,CAAC,uBAAqB,CAAC,0BAA0B,GAAG,IAAI,CAAC,CAAC,YAAY,EAAE,CAAC;QAC9G,0BAAqB,GAAG,mDAAU,CAAC,QAAQ,CAAC,uBAAqB,CAAC,6CAA6C,GAAG,IAAI,CAAC,CAAC,YAAY,EAAE,CAAC;QACvI,oBAAe,GAAG,mDAAU,CAAC,QAAQ,CAAC,uBAAqB,CAAC,4BAA4B,GAAG,IAAI,CAAC,CAAC;QACjG,wBAAmB,GAAG,mDAAU,CAAC,QAAQ,CAAC,uBAAqB,CAAC,4BAA4B,GAAG,IAAI,CAAC,CAAC;QACrG,yBAAoB,GAAG,mDAAU,CAAC,QAAQ,CAAC,uBAAqB,CAAC,0BAA0B,GAAG,IAAI,CAAC,CAAC;QACpG,sBAAiB,GAAG,mDAAU,CAAC,QAAQ,CAAC,uBAAqB,CAAC,8BAA8B,GAAG,IAAI,CAAC,CAAC;QAMrG,qBAAgB,GAAW,CAAC,CAAC;QAE7B,oBAAe,GAAkB,EAAE,CAAC;QAG5C,6CAA6C;QAC7C,wEAAwE;QAChE,cAAS,GAA0B,EAAE,CAAC;QAEtC,wBAAmB,GAAG,EAAE,CAAC;QACzB,2BAAsB,GAAyB,EAAE,CAAC;QAElD,gBAAW,GAAwB,EAAC,WAAW,EAAE,EAAE,EAAC,CAAC;QACrD,iBAAY,GAAW,CAAC,CAAC;IAcjC,CAAC;8BAjDQ,qBAAqB;IAmDjB,6CAAa,GAA1B,UAA2B,WAAW;;;;4BAClC,qBAAM,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,uBAAqB,CAAC,mBAAmB,EAAE,WAAW,CAAC;;wBAA9E,SAA8E,CAAC;;;;;KAClF;IAEY,oCAAI,GAAjB;;;;;wBACI,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;wBAChC,qBAAM,IAAI,CAAC,gBAAgB,EAAE;;wBAA7B,SAA6B,CAAC;wBAC9B,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;wBAC5D,IAAI,sFAAiB,CAAC,6FAAkB,CAAC,SAAS,EAAE,IAAI,EAAE,6FAAkB,CAAC,UAAU,CAAC,KAAK,IAAI,EAAE;4BAC/F,IAAI,CAAC,kBAAkB,CAAC,EAAE,CAAC,OAAO,CAAC;iCAC9B,SAAS,CAAC,UAAC,IAAI;gCACZ,OAAO,CAAC,GAAG,CAAC,qCAAqC,CAAC,CAAC;gCACnD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;4BACtB,CAAC,CAAC,CAAC;yBACV;;;;;KACJ;IAEK,oCAAI,GAAV;;;gBACI,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,CAAC;;;;KACxC;IAED;;;;OAIG;IACK,8CAAc,GAAtB,UAAuB,GAA+B,EAAE,WAAwB;QAC5E,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACrC,IAAI,cAAc,GAAG,IAAI,IAAI,EAAE,CAAC,iBAAiB,EAAE,CAAC;QACpD,IAAI,WAAW,GAAgB;YAC3B,SAAS,EAAE,GAAG,CAAC,SAAS;YACxB,MAAM,EAAE,GAAG,CAAC,QAAQ;YACpB,QAAQ,EAAE,GAAG,CAAC,QAAQ;YACtB,UAAU,EAAE,sBAAsB;YAClC,QAAQ,EAAE,GAAG,CAAC,UAAU;YACxB,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,cAAc,GAAG,KAAK,CAAC;YACrD,OAAO,EAAE,GAAG,CAAC,OAAO;YACpB,MAAM,EAAE,GAAG,CAAC,MAAM;YAClB,KAAK,EAAE,GAAG,CAAC,KAAK;SACnB,CAAC;QACF,IAAG,WAAW,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,IAAI,MAAM,EAAC;YAC/G,WAAW,CAAC,aAAa,GAAG,GAAG,CAAC,aAAa,CAAC;SACjD;QACD,OAAO,WAAW,CAAC;IACvB,CAAC;IAED;;;OAGG;IACK,0CAAU,GAAlB,UAAmB,IAAY;QAC3B,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE;YACzB,IAAI,YAAY,GAAG,IAAI,CAAC;YACxB,IAAI,SAAS,GAAG,YAAY,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACzD,IAAI,QAAQ,GAAG,YAAY,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YACvC,OAAO,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,QAAQ,CAAC;SAClF;;YAAM,OAAO,IAAI,CAAC;IACvB,CAAC;IAED;;;;OAIG;IACH,0CAAU,GAAV,UAAW,WAAwB,EAAE,aAAqB;QAA1D,iBAeC;QAdG,IAAI,MAAM,GAAyC;YAC/C,WAAW,EAAE,WAAW,CAAC,OAAO,CAAC,IAAI;YACrC,WAAW,EAAE,WAAW,CAAC,WAAW,CAAC,KAAK;YAC1C,aAAa,EAAE,aAAa;SAC/B,CAAC;QACF,OAAO,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,GAAG,CAClD,UAAC,YAAiC;YAC9B,IAAI,YAAY,GAAkB,EAAE,CAAC;YACrC,YAAY,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAC,GAA+B;gBAC1D,YAAY,CAAC,IAAI,CAAC,KAAI,CAAC,cAAc,CAAC,GAAG,EAAE,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC;YACzE,CAAC,CAAC,CAAC;YACH,OAAO,YAAY,CAAC;QACxB,CAAC,CACJ,CAAC;IACN,CAAC;IAED,0CAAU,GAAV,UAAW,WAAwB,EAAE,aAAqB;QAA1D,iBAgBC;QAfG,IAAI,MAAM,GAA4C;YAClD,WAAW,EAAE,WAAW,CAAC,OAAO,CAAC,IAAI;YACrC,WAAW,EAAE,WAAW,CAAC,WAAW,CAAC,KAAK;YAC1C,aAAa,EAAE,aAAa;SAC/B,CAAC;QACF,OAAO,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,GAAG,CACrD,UAAC,WAAyC;YACtC,KAAI,CAAC,YAAY,IAAI,WAAW,CAAC,MAAM,CAAC;YACxC,IAAI,YAAY,GAAkB,EAAE,CAAC;YACrC,WAAW,CAAC,OAAO,CAAC,UAAC,GAA+B;gBAChD,YAAY,CAAC,IAAI,CAAC,KAAI,CAAC,cAAc,CAAC,GAAG,EAAE,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC;YACzE,CAAC,CAAC,CAAC;YACH,OAAO,YAAY,CAAC;QACxB,CAAC,CACJ,CAAC;IACN,CAAC;IAED;;;;;;;OAOG;IACH,uCAAO,GAAP,UAAQ,GAAgB,EAAE,WAAwB;QAAlD,iBAkBC;QAjBG,IAAI,QAAQ,GAAe,EAAE,CAAC;QAC9B,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE,GAAG,CAAC,CAAC;QAC3C,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,kBAAQ;YAC3B,QAAQ,CAAC,IAAI,CAAC,KAAI,CAAC,kBAAkB,CAAC,iBAAiB,CAAC;gBACpD,aAAa,EAAE,QAAQ,CAAC,KAAK;gBAC7B,WAAW,EAAE,WAAW,CAAC,WAAW,CAAC,KAAK;gBAC1C,WAAW,EAAE,WAAW,CAAC,OAAO,CAAC,IAAI;gBACrC,WAAW,EAAE,GAAG,CAAC,wEAAwE;aAC5F,CAAC,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,UAAC,GAA+B;gBAChD,OAAO,KAAI,CAAC,cAAc,CAAC,GAAG,EAAE,WAAW,CAAC,WAAW,CAAC,CAAC;YAC7D,CAAC,CAAC,CAAC,CAAC;QACR,CAAC,CAAC,CAAC;QAEH,OAAO,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,IAAmB;YAClD,OAAO,CAAC,IAAI,CAAC,gCAAgC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;YACnF,OAAO,IAAI,CAAC;QAChB,CAAC,CAAC,CAAC;IACP,CAAC;IAEK,yCAAS,GAAf,UAAgB,IAAc,EAAE,WAAwB;;;;;;;wBAExC,qBAAM,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,IAAI,EAAE,WAAW,CAAC,OAAO,CAAC,IAAI,EAAE,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC;;wBAA1G,CAAC,GAAG,SAAsG;wBAC9G,sBAAO,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,EAAC;;;wBAGrE,OAAO,CAAC,GAAG,CAAC,+BAA+B,EAAE,GAAC,CAAC,CAAC;wBAChD,sBAAO,IAAI,EAAC;;;;;KAEnB;IAEK,2CAAW,GAAjB;;;;;4BACsB,qBAAM,IAAI,CAAC,gBAAgB,EAAE;;wBAA3C,WAAW,GAAG,SAA6B;wBAC/C,IAAI,WAAW,IAAI,IAAI,EAAE;4BACf,aAAqB;gCACvB,EAAE,EAAE,WAAW,CAAC,WAAW,CAAC,EAAE;gCAC9B,IAAI,EAAE,WAAW,CAAC,WAAW,CAAC,SAAS;gCACvC,KAAK,EAAE,WAAW,CAAC,WAAW,CAAC,KAAK;gCACpC,MAAM,EAAE,mBAAmB,CAAC,oBAAoB;6BACnD,CAAC;4BACF,sBAAO,IAAI,OAAO,CAAW,iBAAO,IAAI,cAAO,CAAC,UAAQ,CAAC,EAAjB,CAAiB,CAAC,EAAC;yBAC9D;;;;;KACJ;IAEK,gDAAgB,GAAtB,UAAuB,OAAgB,EAAE,QAAgB,EAAE,WAAqB;;;;;;wBAC5E,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;wBACd,qBAAM,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC;gCACpD,WAAW,EAAE,OAAO,CAAC,IAAI;gCACzB,OAAO,EAAE,EAAC,QAAQ,EAAE,QAAQ,EAAE,WAAW,EAAE,WAAW,EAAC;6BAC1D,CAAC,CAAC,SAAS,EAAE;;wBAHV,WAAW,GAAG,SAGJ;6BACV,WAAW,EAAX,wBAAW;wBACX,OAAO,CAAC,GAAG,CAAC,6CAA6C,CAAC,CAAC;wBACvD,WAAW,GAAG;4BACd,OAAO,EAAE,OAAO;4BAChB,WAAW,EAAE,WAAW;4BACxB,OAAO,EAAE,KAAK;4BACd,qBAAqB,EAAE,qCAAM,EAAE,CAAC,IAAI,EAAE;yBACzC,CAAC;wBACF,qBAAM,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,uBAAqB,CAAC,mBAAmB,EAAE,WAAW,CAAC;;wBAA9E,SAA8E,CAAC;wBAC/E,IAAI,CAAC,sBAAsB,GAAG,WAAW,CAAC;wBAC1C,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;;;wBAE9B,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;;;;;;KAE7C;IAEK,gDAAgB,GAAtB;;;;;;wBACI,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;wBACvC,SAAI;wBAA0B,qBAAM,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,uBAAqB,CAAC,mBAAmB,CAAC;;wBAA/F,GAAK,sBAAsB,GAAG,SAAiE,CAAC;wBAChG,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;wBACzC,IAAI,IAAI,CAAC,sBAAsB,EAAE;4BAC7B,OAAO,CAAC,GAAG,CAAC,iDAAiD,CAAC,CAAC;4BAE3D,eAAe,GAAG,qCAAM,EAAE,CAAC,IAAI,EAAE,CAAC;4BACtC,OAAO,CAAC,GAAG,CAAC,gBAAgB,GAAG,eAAe,CAAC,CAAC;4BAC5C,aAAa,GAAG,qCAAM,CAAC,IAAI,CAAC,sBAAsB,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC;4BAC/E,OAAO,CAAC,GAAG,CAAC,YAAY,GAAG,aAAa,CAAC,CAAC;4BAC1C,IAAI,eAAe,GAAG,aAAa,EAAE;gCACjC,OAAO,CAAC,GAAG,CAAC,8BAA8B,CAAC;gCAC3C,IAAI,CAAC,iBAAiB,EAAE,CAAC;6BAC5B;iCAAM;gCACH,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;6BACnC;yBACJ;wBACD,sBAAO,IAAI,CAAC,sBAAsB,EAAC;;;;KACtC;IAEM,8CAAc,GAArB;QACI,OAAO,IAAI,CAAC,sBAAsB,CAAC;IACvC,CAAC;IAEK,iDAAiB,GAAvB;;;;4BACI,qBAAM,IAAI,CAAC,cAAc,EAAE;;wBAA3B,SAA2B,CAAC;wBAC5B,qBAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,uBAAqB,CAAC,mBAAmB,CAAC;;wBAApE,SAAoE,CAAC;wBACrE,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,CAAC;6BACjC,KAAI,CAAC,sBAAsB,IAAI,IAAI,GAAnC,wBAAmC;wBACnC,qBAAM,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC;gCACvC,SAAS,EAAE,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC,KAAK;gCACxD,WAAW,EAAE,IAAI,CAAC,sBAAsB,CAAC,OAAO,CAAC,IAAI;6BACxD,CAAC,CAAC,SAAS,EAAE;;wBAHd,SAGc,CAAC;;;wBAEnB,yBAAyB;wBACzB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;wBACpB,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;wBAC9B,IAAI,CAAC,sBAAsB,GAAG,EAAE,CAAC;wBACjC,IAAI,CAAC,WAAW,GAAG,EAAC,WAAW,EAAE,EAAE,EAAC,CAAC;wBACrC,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;wBACtB,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;;;;;KACtC;IAED,0CAAU,GAAV;QACI,OAAO,IAAI,CAAC,OAAO,CAAC;IACxB,CAAC;IAEa,yDAAyB,GAAvC,UAAwC,WAAwB;;;;;;wBAC5D,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;6BAC3B,WAAW,EAAX,wBAAW;wBACX,IAAI,IAAI,CAAC,oBAAoB,EAAE;4BAC3B,IAAI,CAAC,oBAAoB,CAAC,WAAW,EAAE,CAAC;yBAC3C;wBAED,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,UAAM,IAAI;;;;;wCAC/D,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE,CAAC;wCACjD,IAAG,QAAQ,IAAI,QAAQ,CAAC,MAAM,EAAC;4CAC3B,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;yCAC9C;6CAAI;4CACD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC;gDACtB,QAAQ,EAAE,CAAC;gDACX,QAAQ,EAAE,IAAI;gDACd,gBAAgB,EAAE,IAAI;gDACtB,OAAO,EAAE,IAAI;gDACb,QAAQ,EAAE,uBAAqB,CAAC,WAAW;gDAC3C,SAAS,EAAE,uBAAqB,CAAC,WAAW;gDAC5C,KAAK,EAAG,IAAI;6CACf,CAAC,CAAC;yCACN;6CACG,KAAI,CAAC,eAAe,CAAC,MAAM,IAAI,EAAE,GAAjC,wBAAiC;wCACjC,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;wCAC1B,QAAM,CAAC,CAAC;wCACR,QAAM,CAAC,CAAC;wCACZ,wFAAO,CAAC,IAAI,CAAC,eAAe,EAAE,UAAU,MAAM;4CAC1C,KAAG,IAAI,MAAM,CAAC,QAAQ,CAAC;4CACvB,KAAG,IAAI,MAAM,CAAC,SAAS,CAAC;wCAC5B,CAAC,CAAC,CAAC;wCACH,KAAG,GAAG,KAAG,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;wCACxC,KAAG,GAAG,KAAG,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;wCACxC,OAAO,CAAC,GAAG,CAAC,KAAG,GAAG,IAAI,GAAG,KAAG,CAAC,CAAC;wCAC9B,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;;;;wCAEtB,qBAAM,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC;gDACzC,WAAW,EAAE,WAAW,CAAC,OAAO,CAAC,IAAI;gDACrC,SAAS,EAAE,WAAW,CAAC,WAAW,CAAC,KAAK;gDACxC,QAAQ,EAAE,KAAG;gDACb,SAAS,EAAE,KAAG;6CACjB,CAAC,CAAC,SAAS,EAAE;;wCALd,SAKc,CAAC;;;;wCAEf,OAAO,CAAC,KAAK,CAAC,gDAAgD,EAAE,GAAC,CAAC,CAAC;;;;;6BAG9E,CAAC,CAAC;wBAEH,IAAI,IAAI,CAAC,sBAAsB,EAAE;4BAC7B,IAAI,CAAC,sBAAsB,CAAC,WAAW,EAAE;yBAC5C;wBAED,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,cAAI;4BAC7D,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;4BACzB,KAAI,CAAC,cAAc,EAAE;wBACzB,CAAC,CAAC,CAAC;wBAEH,IAAI,IAAI,CAAC,0BAA0B,EAAE;4BACjC,IAAI,CAAC,0BAA0B,CAAC,WAAW,EAAE;yBAChD;wBAED,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,cAAI;4BACrE,KAAI,CAAC,gBAAgB,EAAE,CAAC;wBAC5B,CAAC,CAAC,CAAC;wBAEH,IAAI,IAAI,CAAC,2BAA2B,EAAE;4BAClC,IAAI,CAAC,2BAA2B,CAAC,WAAW,EAAE;yBACjD;wBAED,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,cAAI;4BACvE,KAAI,CAAC,iBAAiB,EAAE,CAAC;wBAC7B,CAAC,CAAC,CAAC;wBAEH,IAAI,CAAC,yBAAyB,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,mBAAS;4BACtD,KAAI,CAAC,SAAS,GAAG,SAAS,CAAC;wBAC/B,CAAC,CAAC,CAAC;wBAEH,IAAI,CAAC,uBAAuB,CAAC,WAAW,CAAC,CAAC;wBACrC,qBAAM,IAAI,CAAC,kBAAkB,CAAC,aAAa,EAAE;;6BAA9C,CAAC,UAA6C,GAA9C,wBAA8C;wBAC9C,qBAAM,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,EAAE;;wBAAjD,SAAiD,CAAC;;;;wBAGtD,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;wBACpB,IAAI,IAAI,CAAC,oBAAoB,EAAE;4BAC3B,IAAI,CAAC,oBAAoB,CAAC,WAAW,EAAE,CAAC;4BACxC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;yBACpC;wBAED,uGAAuG;wBACvG,IAAI,IAAI,CAAC,gBAAgB,EAAE;4BACvB,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,CAAC;4BACpC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;yBAChC;wBACD,IAAI,IAAI,CAAC,sBAAsB,EAAE;4BAC7B,IAAI,CAAC,sBAAsB,CAAC,WAAW,EAAE,CAAC;4BAC1C,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;yBACtC;wBACD,IAAI,IAAI,CAAC,0BAA0B,EAAE;4BACjC,IAAI,CAAC,0BAA0B,CAAC,WAAW,EAAE,CAAC;4BAC9C,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC;yBAC1C;wBACD,IAAI,IAAI,CAAC,2BAA2B,EAAE;4BAClC,IAAI,CAAC,2BAA2B,CAAC,WAAW,EAAE,CAAC;4BAC/C,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC;yBAC3C;;;;;;KAER;IAEO,uDAAuB,GAA/B,UAAgC,WAAwB;QAAxD,iBASC;QARG,OAAO,CAAC,KAAK,CAAC,2BAA2B,CAAC,CAAC;QAC3C,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACvB,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,CAAC;SACvC;QAED,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC,SAAS,CAAC,cAAI;YAC1D,KAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,CAAC;QAC1C,CAAC,CAAC,CAAC;IACP,CAAC;IAEO,gDAAgB,GAAxB;QACI,IAAI,IAAI,CAAC,mBAAmB,EAAE;YAC1B,OAAO,IAAI,CAAC,qBAAqB,CAAC;SACrC;aAAM;YACH,OAAO,IAAI,CAAC,eAAe,CAAC;SAC/B;IACL,CAAC;IAEY,mDAAmB,GAAhC,UAAiC,WAAwB;;;;gBACrD,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;gBACtC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAM,QAAQ;;;;;oCAClB,qBAAM,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC,SAAS,EAAE;;gCAAzE,QAAQ,GAAG,SAA8D;gCAC7E,mCAAmC;gCACnC,QAAQ,CAAC,OAAO,CAAC,UAAC,GAAgB;oCAC9B,4CAA4C;oCAC5C,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,eAAe,EAAE,GAAG,CAAC,CAAC;oCAC1C,IAAI,WAAW,GAAG,KAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;oCAC1D,IAAI,CAAC,WAAW,EAAE;wCACd,KAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC;wCAC/C,IAAI,CAAC,KAAI,CAAC,mBAAmB,EAAE;4CAC3B,OAAO,CAAC,IAAI,CAAC,gCAA8B,GAAG,CAAC,QAAQ,UAAK,GAAG,CAAC,OAAS,CAAC,CAAC;4CAC3E,IAAI,YAAY,UAAC;4CACjB,KAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,YAAY,GAAG;gDAC5C,EAAE,EAAE,KAAI,CAAC,sBAAsB,CAAC,MAAM,GAAG,CAAC;gDAC1C,KAAK,EAAE,GAAG,CAAC,QAAQ;gDACnB,IAAI,EAAE,GAAG,CAAC,OAAO;gDACjB,MAAM,EAAE,KAAK;gDACb,OAAO,EAAE,CAAM;wDACX,EAAE,EAAE,OAAO;wDACX,IAAI,EAAE,uGAA4B,CAAC,KAAK;wDACxC,KAAK,EAAE,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,cAAc,CAAC;wDAC7C,SAAS,EAAE,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,qBAAqB,CAAC;wDACxD,WAAW,EAAE,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,cAAc,CAAC;wDACnD,UAAU,EAAE,IAAI;wDAChB,MAAM,EAAE,IAAI;qDACf,CAAC;6CAEL,CAAC,CAAC;4CACH,KAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;4CAC/C,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC;gDACd,OAAO,EAAK,GAAG,CAAC,QAAQ,UAAK,GAAG,CAAC,OAAS;gDAC1C,QAAQ,EAAE,IAAI;gDACd,QAAQ,EAAE,QAAQ;6CACrB,CAAC,CAAC,OAAO,EAAE,CAAC;yCAChB;qCACJ;gCACL,CAAC,CAAC,CAAC;;;;qBACN,CAAC,CAAC;;;;KACN;IAEY,yDAAyB,GAAtC,UAAuC,WAAwB;;;;;;wBACvD,SAAS,GAA0B,EAAE,CAAC;6BACtC,EAAC,WAAW,CAAC,WAAW,CAAC,UAAU,IAAI,WAAW,CAAC,WAAW,CAAC,UAAU,IAAI,CAAC,GAA9E,wBAA8E;wBAE7C,qBAAM,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC;gCACvE,WAAW,EAAE,WAAW,CAAC,OAAO,CAAC,IAAI;gCACrC,SAAS,EAAE,WAAW,CAAC,WAAW,CAAC,KAAK;6BAC3C,CAAC,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,aAAG;gCACnB,OAAO,GAAG,CAAC;4BACf,CAAC,CAAC;;wBALE,KAAK,GAAwB,SAK/B;wBACF,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;;4BAEa,qBAAM,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC;6BACjG,SAAS,EAAE;6BACX,IAAI,CAAC,UAAC,KAA2B;4BAC9B,OAAO,KAAK,CAAC,KAAK,CAAC;wBACvB,CAAC,CAAC;;wBAJF,KAAK,GAA0B,SAI7B;wBAEN,KAAK,CAAC,MAAM,CAAC,UAAC,IAAyB;4BACnC,OAAO,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,WAAW,CAAC,WAAW,CAAC,EAAE,CAAC;wBACpD,CAAC,CAAC;wBAEF,SAAS,GAAG,KAAK,CAAC;;4BAGtB,sBAAO,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,EAAC;;;;KACjC;IAEM,4CAAY,GAAnB;QACI,OAAO,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;IAEM,sDAAsB,GAA7B,UAA8B,KAAc;QACxC,IAAI,mBAAmB,GAAG,KAAK,IAAI,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,sBAAsB,CAAC;QAC3F,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;QACjC,IAAI,mBAAmB,EAAE;YACrB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;SAC7D;IACL,CAAC;IAED;;;OAGG;IACW,8CAAc,GAA5B;;;;;;wBACQ,WAAW,GAAG,IAAI,CAAC,sBAAsB,CAAC;wBAC9C,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;6BAC5B,WAAW,EAAX,wBAAW;6BACP,wBAAqB,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,GAA5C,wBAA4C;wBACxC,aAAW,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE,CAAC;wBACjD,IAAG,UAAQ,IAAI,UAAQ,CAAC,MAAM,EAAC;4BAC3B,OAAO,CAAC,GAAG,CAAC,UAAQ,CAAC,MAAM,CAAC,CAAC;4BAC7B,uBAAqB,CAAC,WAAW,CAAC,OAAO,CAAC,eAAK;gCAC3C,KAAK,CAAC,GAAG,GAAG,UAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;gCAChD,KAAK,CAAC,GAAG,GAAG,UAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;4BACrD,CAAC,CAAC,CAAC;yBACN;wBACG,gBAAgB,GAAG,IAAI,6FAAgB,EAAE,CAAC;wBAC9C,gBAAgB,CAAC,MAAM,GAAG,uBAAqB,CAAC,WAAW,CAAC;wBACxD,MAAM,GAAG;4BACT,MAAM,EAAE,gBAAgB;4BACxB,WAAW,EAAE,WAAW,CAAC,OAAO,CAAC,IAAI;4BACrC,SAAS,EAAE,WAAW,CAAC,WAAW,CAAC,KAAK;yBAC3C,CAAC;wBAC0B,qBAAM,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,SAAS,EAAE;;wBAApF,qBAAqB,GAAG,SAA4D;wBACxF,OAAO,CAAC,GAAG,CAAC,uBAAqB,CAAC,WAAW,CAAC,CAAC;wBAC/C,uBAAqB,CAAC,WAAW,GAAG,EAAE,CAAC;;;;;;KAGlD;IAEM,4CAAY,GAAnB,UAAoB,KAAa,EAAE,OAAe,EAAE,OAAe;QAC/D,IAAI,eAAe,GAAG,IAAI,2FAAe,EAAE,CAAC;QAC5C,eAAe,CAAC,KAAK,GAAG,KAAK,CAAC;QAC9B,eAAe,CAAC,OAAO,GAAG,OAAO,CAAC;QAClC,eAAe,CAAC,OAAO,GAAG,OAAO,CAAC;QAClC,eAAe,CAAC,GAAG,GAAG,EAAE,GAAC,uBAAqB,CAAC,WAAW,CAAC;QAC3D,eAAe,CAAC,GAAG,GAAG,EAAE,GAAC,uBAAqB,CAAC,WAAW,CAAC;QAC3D,uBAAqB,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC;IAC3D,CAAC;IAEa,gDAAgB,GAA9B;;;;;;wBACQ,WAAW,GAAG,IAAI,CAAC,sBAAsB,CAAC;6BAC1C,WAAW,EAAX,wBAAW;6BACP,WAAW,CAAC,OAAO,CAAC,eAAe,EAAnC,wBAAmC;wBAC/B,MAAM,GAAG;4BAAI;4BAGjB,CAAC;4BAAD,cAAC;wBAAD,CAAC,IAAC;wBACF,MAAM,CAAC,WAAW,GAAG,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC;wBAC9C,MAAM,CAAC,SAAS,GAAG,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC;wBAC/B,qBAAM,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,SAAS,EAAE;;wBAA9E,WAAW,GAAG,SAAgE;wBAClF,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;wBACzB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;;;;;;KAG1C;IAEa,iDAAiB,GAA/B;;;;;;wBACQ,WAAW,GAAG,IAAI,CAAC,sBAAsB,CAAC;6BAC1C,WAAW,EAAX,wBAAW;wBACP,MAAM,GAAG;4BAAI;4BAIjB,CAAC;4BAAD,cAAC;wBAAD,CAAC,IAAC;wBACF,MAAM,CAAC,WAAW,GAAG,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC;wBAC9C,MAAM,CAAC,SAAS,GAAG,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC;wBACjD,MAAM,CAAC,QAAQ,GAAG,WAAW,CAAC,qBAAqB,CAAC,QAAQ,EAAE,CAAC;wBAC5C,qBAAM,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,SAAS,EAAE;;wBAAjF,YAAY,GAAG,SAAkE;wBACrF,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;wBAE1B,wCAAwC;wBACxC,WAAW,CAAC,qBAAqB,GAAG,qCAAM,EAAE,CAAC,IAAI,EAAE,CAAC;wBACpD,IAAI,CAAC,sBAAsB,GAAG,WAAW,CAAC;wBAC1C,qBAAM,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;;wBAArC,SAAqC,CAAC;wBACtC,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC;;;;;;KAE5C;IAEO,iDAAiB,GAAzB,UAA0B,MAA6B;QAAvD,iBAsDC;QArDG;;;;WAIG;QACH,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,UAAC,KAAK;YACxB,IAAI,KAAK,CAAC,KAAK,KAAK,iBAAiB,CAAC,gBAAgB,EAAE;gBACpD,IAAI;oBACA,IAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;oBAC1C,IAAI,OAAO,CAAC,SAAS,IAAI,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC,KAAK,EAAE;wBACpE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;qBAC9C;yBAAM;wBACH,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;qBAC/C;iBACJ;gBAAC,OAAO,CAAC,EAAE;oBACR,OAAO,CAAC,GAAG,CAAC,0CAA0C,CAAC,CAAC;iBAC3D;aACJ;iBACI,IAAI,KAAK,CAAC,KAAK,KAAK,iBAAiB,CAAC,qBAAqB,EAAE;gBAC9D,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,IAAI,CAAC,sBAAsB,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,UAAM,OAAO;;;;gCACzG,IAAI,CAAC,sBAAsB,CAAC,OAAO,GAAG,OAAO,CAAC;gCAC9C,qBAAM,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,sBAAsB,CAAC;;gCAArD,SAAqD,CAAC;gCACtD,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,iBAAiB,EAAE,IAAI,CAAC,sBAAsB,CAAC,CAAC;;;;qBACvE,CAAC,CAAC;aACN;iBACI,IAAI,KAAK,CAAC,KAAK,KAAK,iBAAiB,CAAC,kBAAkB,EAAE;gBAC3D,IAAI;oBACA,IAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;oBAC1C,IAAI,OAAO,CAAC,SAAS,IAAI,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC,KAAK,EAAE;wBACpE,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC,gBAAgB,GAAG,OAAO,CAAC,gBAAgB,CAAC;wBACpF,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;wBAChD,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,oBAAoB,EAAE,OAAO,CAAC,gBAAgB,CAAC,CAAC;qBACvE;iBACJ;gBAAC,OAAO,CAAC,EAAE;oBACR,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;iBAClB;aACJ;iBACI,IAAI,KAAK,CAAC,KAAK,KAAK,iBAAiB,CAAC,gBAAgB,EAAE;gBACzD,IAAI;oBACA,IAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;oBAC1C,IAAI,OAAO,CAAC,SAAS,KAAK,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC,KAAK,EAAE;wBACrE,IAAM,gBAAgB,GAAW,IAAI,CAAC,SAAS,CAAC,EAAC,SAAS,EAAE,OAAO,CAAC,SAAS,EAAC,CAAC,CAAC;wBAChF,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,kBAAkB,EAAE,gBAAgB,EAAE,GAAG,CAAC,CAAC;qBAClF;iBACJ;gBAAC,OAAO,CAAC,EAAE;oBACR,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;iBAClB;aACJ;iBACI;aAEJ;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAEM,8CAAc,GAArB;QACI,OAAO,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC;IACxC,CAAC;IAEM,+CAAe,GAAtB;QACI,OAAO,IAAI,CAAC,YAAY,CAAC;IAC7B,CAAC;IAEM,+CAAe,GAAtB,UAAuB,CAAS;QAC5B,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;IAC1B,CAAC;;IAjnBc,oDAA8B,GAAG,CAAC,CAAC;IACnC,gDAA0B,GAAG,EAAE,CAAC;IAChC,kDAA4B,GAAG,EAAE,CAAC;IAClC,mEAA6C,GAAG,CAAC,CAAC;IAClD,yCAAmB,GAAG,qCAAqC,CAAC;IAC5D,iCAAW,GAAG,EAAE,CAAC;IACjB,iCAAW,GAAG,GAAG,CAAC;IAClB,iCAAW,GAAG,GAAG,CAAC;IARxB,qBAAqB;QADjC,iEAAU,EAAE;yCAsCmB,6DAAM;YACL,+DAAO;YACA,yFAAc;YACV,kGAAkB;YAClB,kGAAkB;YACjB,qGAAmB;YAC5B,gEAAU;YACF,6FAAkB;YAC3B,8EAAgB;YACpB,sEAAe;YACF,0HAA6B;YACvC,+DAAQ;OAhD7B,qBAAqB,CAmnBjC;IAAD,4BAAC;CAAA;AAnnBiC;;;;;;;;;ACrElC;AAAA;IAAA;IAEA,CAAC;IAAD,uBAAC;AAAD,CAAC;;;;;;;;;;ACND;AAAA,oBAAoB;AAGpB;IAAA;IAMA,CAAC;IAAD,sBAAC;AAAD,CAAC;;;;;;;;;ACTD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wB;;;;;;;;AClSA;AAAA,IAAY,eAIX;AAJD,WAAY,eAAe;IACzB,qDAAQ;IACR,yDAAU;IACV,qDAAQ;AACV,CAAC,EAJW,eAAe,KAAf,eAAe,QAI1B","file":"main.js","sourcesContent":["import {MigrationInterface, QueryRunner} from \"typeorm\";\n\nexport class InitialMigration1513274191111 implements MigrationInterface {\n\n    public async up(queryRunner: QueryRunner): Promise<any> {\n        await queryRunner.query(\"CREATE TABLE IF NOT EXISTS mcm_state (_id INTEGER PRIMARY KEY AUTOINCREMENT,option VARCHAR (64) NOT NULL,value VARCHAR (256) NOT NULL,timestamp TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP)\");\n        await queryRunner.query(\"CREATE TABLE IF NOT EXISTS mcm_task (_id INTEGER PRIMARY KEY AUTOINCREMENT,user_id INTEGER NOT NULL,public VARCHAR (1) NOT NULL,lat VARCHAR (64) NOT NULL,lon VARCHAR (64) NOT NULL,title TEXT NOT NULL,description TEXT NOT NULL,image TEXT ,solution_type TEXT NOT NULL,solution TEXT NOT NULL,hint1 TEXT ,hint2 TEXT ,hint3 TEXT ,assistive_equipment TEXT ,author TEXT ,mail TEXT ,grade VARCHAR (2) NOT NULL DEFAULT '13',tags TEXT ,timestamp TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,solutionsample TEXT NOT NULL,attr TEXT ,create_date TIMESTAMP NOT NULL,lang_code VARCHAR (2))\");\n        await queryRunner.query(\"CREATE TABLE IF NOT EXISTS mcm_route (_id INTEGER PRIMARY KEY AUTOINCREMENT,user_id INTEGER NOT NULL,public VARCHAR (1) NOT NULL,title TEXT NOT NULL,country_code TEXT NOT NULL,city TEXT NOT NULL,image TEXT ,code VARCHAR (64),grade TEXT (64),tags VARCHAR ,duration VARCHAR (64),length VARCHAR (64),bounding_box TEXT ,center TEXT ,timestamp TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,description TEXT ,create_date TIMESTAMP NOT NULL,attr TEXT TEXT)\");\n        await queryRunner.query(\"CREATE TABLE IF NOT EXISTS mcm_rel_route_task (_id INTEGER PRIMARY KEY AUTOINCREMENT,route_id INTEGER (64) NOT NULL,task_id INTEGER (64) NOT NULL,timestamp TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP)\");\n        await queryRunner.query(\"CREATE TABLE IF NOT EXISTS mcm_users (_id INTEGER PRIMARY KEY AUTOINCREMENT,name VARCHAR (32) NOT NULL,create_date TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP)\");\n        await queryRunner.query(\"CREATE TABLE IF NOT EXISTS mcm_score (_id INTEGER PRIMARY KEY AUTOINCREMENT,user_id INTEGER (64) NOT NULL,route_id INTEGER (64) NOT NULL,score INTEGER (64) NOT NULL,tasks_solved TEXT ,tasks_solved_low TEXT ,task_details TEXT ,time INTEGER (64),distance INTEGER (64))\");\n    }\n\n    public async down(queryRunner: QueryRunner): Promise<any> {\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/migration/1513274191111-InitialMigration.ts","import {MigrationInterface, QueryRunner} from \"typeorm\";\n\nexport class FailedTaskMigration1515428187000 implements MigrationInterface {\n\n  public async up(queryRunner: QueryRunner): Promise<any> {\n    await queryRunner.query(\"ALTER TABLE mcm_score ADD tasks_failed TEXT\");\n  }\n\n  public async down(queryRunner: QueryRunner): Promise<any> {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/migration/1515428187000-failedTaskMigration.ts","import {Entity, PrimaryGeneratedColumn, Column} from \"typeorm\";\n\n@Entity('mcm_users')\nexport class User {\n\n    @PrimaryGeneratedColumn({name: '_id'})\n    id: number;\n\n    @Column({length: 32})\n    name: string;\n\n\n    @Column({name: 'create_date'})\n    createDate: string;\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/entity/User.ts","import {Entity, PrimaryGeneratedColumn, Column} from \"typeorm\";\n\n@Entity('mcm_state')\nexport class State {\n//     await queryRunner.query(\"CREATE TABLE IF NOT EXISTS mcm_state (_id INTEGER PRIMARY KEY AUTOINCREMENT,option VARCHAR (64) NOT NULL,value VARCHAR (256) NOT NULL,timestamp TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP)\");\n  @PrimaryGeneratedColumn({name: '_id'})\n  id: number;\n\n  @Column({length: 64})\n  option: string;\n\n  @Column({length: 256})\n  value: string;\n\n  @Column()\n  timestamp: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/entity/State.ts","\nexport class TaskState{\n\n    constructor(){\n\n    }\n\n    taskId: number;\n    saved: boolean = false;\n    solved: boolean = false;\n    solvedLow: boolean = false;\n    skipped: boolean = false;\n    failed: boolean = false;\n    hint1: boolean = false;\n    hint2: boolean = false;\n    hint3: boolean = false;\n    tries: number = 0;\n    newTries: number = 0; //newTries since user has skipped the task and opened again\n    answer: string = \"\";\n    answerMultipleChoice: Array<any> = [];\n    timeFirstOpen: number = 0;\n    timeSolved: number = 0;\n    score: number = 0;\n    penalty: number = 0;\n\n    public getTaskDetailAsJSON() : string{\n        return JSON.stringify({\n            taskId: +this.taskId, //use '+' to parse to number\n            saved: this.saved,\n            solved: this.solved,\n            solvedLow: this.solvedLow,\n            skipped: this.skipped,\n            failed: this.failed,\n            hint1: this.hint1,\n            hint2: this.hint2,\n            hint3: this.hint3,\n            tries: +this.tries, //use '+' to parse to number\n            newTries: +this.newTries, //use '+' to parse to number\n            answer: this.answer,\n            answerMultipleChoice: this.answerMultipleChoice,\n            timeFirstOpen: +this.timeFirstOpen, //use '+' to parse to number\n            timeSolved: +this.timeSolved, //use '+' to parse to number\n            score: +this.score, //use '+' to parse to number\n            penalty: this.penalty\n        });\n    }\n\n    public static getTaskStateAsJSONArray(taskDetails: Array<TaskState>) : string{\n        let result: Array<any> = [];\n        taskDetails.forEach(details => {\n            result.push(details.getTaskDetailAsJSON());\n        })\n        return JSON.stringify(result);\n    }\n\n    public getAllTaskState(jsonArray: string) : Array<TaskState>{\n        let flags = JSON.parse(jsonArray);\n        let taskDetails: Array<TaskState> = [];\n        for(let i = 0; i < flags.length; i++){\n            taskDetails.push(this.getTaskStateByTask(flags[i]));\n        }\n        return taskDetails;\n    }\n\n    public findDetailsForTask(taskId: number, jsonArray: string) : TaskState{\n        let flags = JSON.parse(jsonArray);\n\n        for(let i = 0; i < flags.length; i++){\n            let detail = this.getTaskStateByTask(flags[i]);\n            if(detail.taskId == taskId){\n                return detail;\n            }\n        }\n        let detail = new TaskState();\n        detail.taskId = taskId;\n        return detail;\n    }\n\n\n\n\n\n    public getTaskStateByTask(jsonObject: string) : TaskState{\n        let flags = JSON.parse(jsonObject);\n        let taskState = new TaskState();\n        taskState.taskId = flags.taskId;\n        taskState.saved = flags.saved;\n        taskState.solved = flags.solved;\n        taskState.solvedLow = flags.solvedLow;\n        taskState.skipped = flags.skipped;\n        taskState.failed = flags.failed;\n        taskState.hint1 = flags.hint1;\n        taskState.hint2 = flags.hint2;\n        taskState.hint3 = flags.hint3;\n        taskState.tries = flags.tries;\n        taskState.newTries = flags.newTries;\n        taskState.answer = flags.answer;\n        taskState.answerMultipleChoice = flags.answerMultipleChoice;\n        taskState.timeFirstOpen = flags.timeFirstOpen;\n        taskState.timeSolved = flags.timeSolved;\n        taskState.score = flags.score;\n        taskState.penalty = flags.penalty;\n        return taskState;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/entity/TaskState.ts","import {MigrationInterface, QueryRunner} from \"typeorm\";\n\nexport class AddImageUrlAndDownloadedFlagMigration1513679923000 implements MigrationInterface {\n\n  public async up(queryRunner: QueryRunner): Promise<any> {\n    await queryRunner.query(\"ALTER TABLE mcm_route ADD COLUMN downloaded INTEGER(1)\");\n  }\n\n  public async down(queryRunner: QueryRunner): Promise<any> {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/migration/1513679923000-AddImageUrlAndDownloadedFlagMigration.ts","import { MapTile, Helper } from './Helper'\nimport { MyMath } from './MyMath'\nimport { tilesDb } from \"./tilesDb\"\nimport { LatLngBounds, Point } from 'leaflet';\nimport { ImagesService } from '../services/images-service';\nimport {Route} from \"../entity/Route\";\n\nexport class CacheManagerMCM {\n    static getTilesCoverageMinMaxZoom(pBB: LatLngBounds, pZoomMin: number, pZoomMax: number): Array<MapTile> {\n        let result = new Array<MapTile>()\n        for (let zoomLevel = pZoomMin; zoomLevel <= pZoomMax; zoomLevel++) {\n            console.debug(`Calculating ZOOM: ${zoomLevel}`)\n            let resultForZoom = CacheManagerMCM.getTilesCoverageZoom(pBB, zoomLevel)\n            console.debug(`Result.size: ${resultForZoom.length}`)\n            result = result.concat(resultForZoom)\n            console.debug(`Result.concat.size: ${result.length}`)\n        }\n\n        return result\n    }\n\n    static getTilesCoverageZoom(pBB: LatLngBounds, pZoomLevel: number): Array<MapTile> {\n        let result = new Array<MapTile>()\n        let mapTileUpperBound = 1 << pZoomLevel\n        console.debug(`shift attributes ${mapTileUpperBound}`)\n        console.debug(`south: ${pBB.getSouth()} east: ${pBB.getEast()}`)\n        console.debug(`north: ${pBB.getNorth()} west: ${pBB.getWest()}`)\n        const lowerRight = CacheManagerMCM.getMapTileFromCoordinates(pBB.getSouth(), pBB.getEast(), pZoomLevel)\n        const upperLeft = CacheManagerMCM.getMapTileFromCoordinates(pBB.getNorth(), pBB.getWest(), pZoomLevel)\n        console.debug(`lowerRight ${lowerRight} upperLeft ${upperLeft}`)\n        let width = lowerRight.x - upperLeft.x + 1\n        if (width <= 0) {\n            width += mapTileUpperBound\n        }\n\n        console.debug(`Width: ${width} ${typeof width}`)\n\n        let height = lowerRight.y - upperLeft.y + 1\n        if (height <= 0) {\n            height += mapTileUpperBound\n        }\n        console.debug(`Height: ${height} ${typeof height}`)\n\n        for (let i = 0; i < width; i++) {\n            for (let j = 0; j < height; j++) {\n                const x = MyMath.mod(upperLeft.x + i, mapTileUpperBound)\n                const y = MyMath.mod(upperLeft.y + j, mapTileUpperBound)\n                result.push(new MapTile(pZoomLevel, x, y))\n            }\n        }\n        console.debug(`Result.length = ${result.length}`)\n\n        return result\n    }\n\n    static getMapTileFromCoordinates(aLat: number, aLon: number, zoom: number): Point {\n        const z = 1 << zoom\n        const y: number = Math.floor((1 - Math.log(Math.tan(aLat * Math.PI / 180) + 1 / Math.cos(aLat * Math.PI / 180)) / Math.PI) / 2 * z)\n        const x: number = Math.floor((aLon + 180) / 360 * z)\n        console.debug(`aLat: ${aLat} aLon: ${aLon} zoom: ${zoom} => x: ${x} y: ${y}`)\n\n        return new Point(x, y)\n    }\n\n    static async downloadTiles(route: Route, pZoomMin: number, pZoomMax: number, callback: any): Promise<any> {\n        const tiles = CacheManagerMCM.getTilesCoverageMinMaxZoom(route.getBoundingBoxLatLng(), pZoomMin, pZoomMax);\n        await tilesDb.initialize();\n        let tilesUrls = tiles.map(tile => {\n            let domain = route.getTilesServerSubdomains(route.getNarrativeName())[Math.floor(Math.random() * route.getTilesServerSubdomains(route.getNarrativeName()).length)];\n            return route.getTilesMap(route.getNarrativeName()).replace('{s}', domain).replace('{z}', String(tile.zoomLevel)).replace('{x}', String(tile.x)).replace('{y}', String(tile.y));\n        });\n        try {\n            await ImagesService.INSTANCE.downloadURLs(tilesUrls, false, callback, true);\n        } catch (e) {\n            console.debug(\"remove already added tiles because download failed or was aborted\");\n            throw e;\n        }\n    }\n\n/*    static async removeDownloadedTiles(pBB: LatLngBounds, pZoomMin: number, pZoomMax: number) {\n        //const tiles = CacheManagerMCM.getTilesCoverageMinMaxZoom(pBB, pZoomMin, pZoomMax);\n        await tilesDb.initialize();\n        tilesDb.removeItems(CacheManagerMCM.getTileURLs(pBB, pZoomMin, pZoomMax));\n    }*/\n\n    static getTileURLs(route: Route, pZoomMin: number, pZoomMax: number) {\n        const tiles = CacheManagerMCM.getTilesCoverageMinMaxZoom(route.getBoundingBoxLatLng(), pZoomMin, pZoomMax);\n        return tiles.map(tile => route.getTilesMap(route.getNarrativeName()).replace('{s}', Helper.subDomains[0]).replace('{z}', String(tile.zoomLevel)).replace('{x}', String(tile.x)).replace('{y}', String(tile.y)));\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/classes/CacheManagerMCM.ts","\nexport class MyMath {\n  constructor() {}\n\n  static mod(n: number, m: number): number {\n    if (n > 0) {\n      return n % m\n    }\n\n    let nn = n\n    while (nn < 0) {\n      nn += m\n    }\n\n    return nn\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/classes/MyMath.ts","import {MigrationInterface, QueryRunner} from \"typeorm\";\n\nexport class AddUnlockedColumn1516037215000 implements MigrationInterface {\n\n  public async up(queryRunner: QueryRunner): Promise<any> {\n      await queryRunner.query(\"ALTER TABLE mcm_route ADD COLUMN unlocked INTEGER(1)\");\n  }\n\n  public async down(queryRunner: QueryRunner): Promise<any> {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/migration/1516037215000-AddUnlockedColumn.ts","import {MigrationInterface, QueryRunner} from \"typeorm\";\n\nexport class AddCompletedColumn1519817905000 implements MigrationInterface {\n\n  public async up(queryRunner: QueryRunner): Promise<any> {\n      await queryRunner.query(\"ALTER TABLE mcm_route ADD COLUMN completed INTEGER(1)\");\n  }\n\n  public async down(queryRunner: QueryRunner): Promise<any> {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/migration/1519817905000-AddCompletedColumn.ts","\nexport class DBC_Plan {\n    tableName: string\n    fields: string[]\n    fieldsType: string[]\n    attributes: string[]\n    fieldsCount: number\n\n    constructor(tableName: string, fields: string[], fieldsType: string[], attributes: string[]) {\n        this.tableName = tableName\n        this.fields = fields\n        this.fieldsType = fieldsType\n        this.attributes = attributes\n        this.fieldsCount = fields.length\n    }\n\n    getCreateStatement(): string {\n        var stmt: string = \"CREATE TABLE IF NOT EXISTS \" + this.tableName + \" (\"\n        for (var i = 0; i < this.fields.length; i++) {\n            stmt += this.fields[i] + \" \" + this.fieldsType[i] + \" \" + this.attributes[i]\n            if (i < this.fields.length - 1) {\n                stmt += \",\"\n            }\n        }\n\n        return stmt + \")\"\n    }\n\n    /*\n    returns a string for bulk statements of all available fields in the form of:\n    (field1, field2, field3, ..., fieldn)\n     */\n    getFieldsInScopes(): string {\n        var result: string = \"(\"\n        for (var i = 0; i < this.fields.length; i++) {\n            if (i < this.fields.length - 1) {\n                result += this.fields[i] + \", \"\n            }\n            else {\n                result += this.fields[i]\n            }\n        }\n        return result + \")\"\n    }\n\n    /*\n    returns a string for bulk statements of all available field placehokder in the form of:\n    (?, ?, ?, ?)\n     */\n    getFieldsPlaceholders(): string {\n        var result: string = \"(\"\n        for (var i = 0; i < this.fields.length; i++) {\n            if (i < this.fields.length - 1) {\n                result += \"?, \"\n            }\n            else {\n                result += \"?\"\n            }\n        }\n        return result + \")\"\n    }\n\n    getTableName(): string {\n        return this.tableName;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/classes/DBC_Plan.ts","import {MigrationInterface, QueryRunner} from \"typeorm\";\n\nexport class AddVisibleColumn1526306624000 implements MigrationInterface {\n\n    public async up(queryRunner: QueryRunner): Promise<any> {\n        try {\n            await queryRunner.query(\"ALTER TABLE mcm_task ADD COLUMN `visible` INTEGER(1) NOT NULL DEFAULT 1\");\n        } catch (e) {\n            console.log(\"column 'visible' already exists\");\n        }\n    }\n\n    public async down(queryRunner: QueryRunner): Promise<any> {\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/migration/1526306624000-AddVisibleColumn.ts","import { MigrationInterface, QueryRunner } from \"typeorm\";\n\nexport class AddLangCodeColumn1526306730000 implements MigrationInterface {\n\n    public async up(queryRunner: QueryRunner): Promise<any> {\n        try {\n            await queryRunner.query(\"ALTER TABLE mcm_route ADD COLUMN lang_code VARCHAR(2)\");\n        } catch (e) {\n            console.log(\"column 'lang_code' already exists\");\n        }\n    }\n\n    public async down(queryRunner: QueryRunner): Promise<any> {\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/migration/1526306730000-AddLangCodeColumn.ts","import { MigrationInterface, QueryRunner } from \"typeorm\";\n\nexport class AddDownloadDateColumn15711518720000 implements MigrationInterface {\n\n    public async up(queryRunner: QueryRunner): Promise<any> {\n        try {\n            await queryRunner.query(\"ALTER TABLE mcm_route ADD COLUMN downloadedDate VARCHAR(50)\");\n        } catch (e) {\n            console.log(\"column 'lang_code' already exists\");\n        }\n    }\n\n    public async down(queryRunner: QueryRunner): Promise<any> {\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/migration/15711518720000-AddDownloadDateColumn.ts","import { MigrationInterface, QueryRunner } from \"typeorm\";\n\nexport class AddCompletedDateColumn15713974540000 implements MigrationInterface {\n\n    public async up(queryRunner: QueryRunner): Promise<any> {\n        try {\n            await queryRunner.query(\"ALTER TABLE mcm_route ADD COLUMN completedDate VARCHAR(50)\");\n        } catch (e) {\n            console.log(\"column 'lang_code' already exists\");\n        }\n    }\n\n    public async down(queryRunner: QueryRunner): Promise<any> {\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/migration/15713974540000-AddCompletedDateColumn.ts","import { MigrationInterface, QueryRunner } from \"typeorm\";\n\nexport class AddZipMapFields15783117210000 implements MigrationInterface {\n\n    public async up(queryRunner: QueryRunner): Promise<any> {\n        try {\n            await queryRunner.query(\"ALTER TABLE mcm_route ADD COLUMN map_version VARCHAR(50)\");\n        } catch (e) {\n            console.log(\"column 'map_version' already exists\");\n        }\n\n        try {\n            await queryRunner.query(\"ALTER TABLE mcm_route ADD COLUMN map_filename VARCHAR(50)\");\n        } catch (e) {\n            console.log(\"column 'map_filename' already exists\");\n        }\n\n        try {\n            await queryRunner.query(\"ALTER TABLE mcm_route ADD COLUMN map_date VARCHAR(50)\");\n        } catch (e) {\n            console.log(\"column 'map_date' already exists\");\n        }\n    }\n\n    public async down(queryRunner: QueryRunner): Promise<any> {\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/migration/15783117210000-AddZipMapFields.ts","import { MigrationInterface, QueryRunner } from \"typeorm\";\n\nexport class AddSavedTasks16013795030000 implements MigrationInterface {\n\n    public async up(queryRunner: QueryRunner): Promise<any> {\n        try {\n            await queryRunner.query(\"ALTER TABLE mcm_score ADD COLUMN tasks_saved VARCHAR(50)\");\n        } catch (e) {\n            console.log(\"column 'tasks_saved' already exists\");\n        }\n    }\n\n    public async down(queryRunner: QueryRunner): Promise<any> {\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/migration/16013795030000-AddSavedTasks.ts","import { MigrationInterface, QueryRunner } from \"typeorm\";\n\nexport class AddSubtasks16026790930000 implements MigrationInterface {\n\n    public async up(queryRunner: QueryRunner): Promise<any> {\n        try {\n            await queryRunner.query(\"ALTER TABLE mcm_task ADD COLUMN task_id INTEGER\");\n        } catch (e) {\n            console.log(\"column 'task_id' already exists\");\n        }\n    }\n\n    public async down(queryRunner: QueryRunner): Promise<any> {\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/migration/16026790930000-AddSubtasks.ts","import { MigrationInterface, QueryRunner } from \"typeorm\";\n\nexport class AddPositionField16194302450000 implements MigrationInterface {\n\n    public async up(queryRunner: QueryRunner): Promise<any> {\n        try {\n            await queryRunner.query(\"ALTER TABLE mcm_task ADD COLUMN position INTEGER\");\n        } catch (e) {\n            console.log(\"column 'position' already exists\");\n        }\n    }\n\n    public async down(queryRunner: QueryRunner): Promise<any> {\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/migration/16194302450000-AddPositionField.ts","import { MigrationInterface, QueryRunner } from \"typeorm\";\n\nexport class AddPathFields16208100470000 implements MigrationInterface {\n\n    public async up(queryRunner: QueryRunner): Promise<any> {\n        try {\n            await queryRunner.query(\"ALTER TABLE mcm_route ADD COLUMN path_geojson TEXT\");\n            await queryRunner.query(\"ALTER TABLE mcm_route ADD COLUMN path_info TEXT\");\n        } catch (e) {\n            console.log(\"columns 'path_geojson' and 'path_info' already exist\");\n        }\n    }\n\n    public async down(queryRunner: QueryRunner): Promise<any> {\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/migration/16208100470000-AddPathFields.ts","import { MigrationInterface, QueryRunner } from \"typeorm\";\n\nexport class AddZoom16225449820000 implements MigrationInterface {\n\n    public async up(queryRunner: QueryRunner): Promise<any> {\n        try {\n            await queryRunner.query(\"ALTER TABLE mcm_route ADD COLUMN min_zoom INTEGER \");\n        } catch (e) {\n            console.log(\"columns 'min_zoom' already exist\");\n        }\n    }\n\n    public async down(queryRunner: QueryRunner): Promise<any> {\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/migration/16225449820000-AddZoom.ts","import { MigrationInterface, QueryRunner } from \"typeorm\";\n\nexport class AddForceSubtaskAndArLink16552845000000 implements MigrationInterface {\n\n    public async up(queryRunner: QueryRunner): Promise<any> {\n        try {\n            await queryRunner.query(\"ALTER TABLE mcm_rel_route_task ADD COLUMN force_support_tasks INTEGER(1) \");\n            await queryRunner.query(\"ALTER TABLE mcm_task ADD COLUMN ar_link VARCHAR \");\n        } catch (e) {\n            console.log(\"columns 'force_support_tasks' and 'ar_link' already exist\");\n        }\n    }\n\n    public async down(queryRunner: QueryRunner): Promise<any> {\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/migration/16552845000000-AddForceSubtaskAndArLink.ts","import { MigrationInterface, QueryRunner } from \"typeorm\";\n\nexport class AddTaskCode17026521590000 implements MigrationInterface {\n\n    public async up(queryRunner: QueryRunner): Promise<any> {\n        try {\n            await queryRunner.query(\"ALTER TABLE mcm_task ADD COLUMN code VARCHAR \");\n        } catch (e) {\n            console.log(\"column 'code' already exists\");\n        }\n    }\n\n    public async down(queryRunner: QueryRunner): Promise<any> {\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/migration/17026521590000-AddTaskCode.ts","import { MigrationInterface, QueryRunner } from \"typeorm\";\n\nexport class RenameParentIdAndAddTaskFormatAndPosition17067919700000 implements MigrationInterface {\n\n    public async up(queryRunner: QueryRunner): Promise<any> {\n        try {\n            await queryRunner.query(\"ALTER TABLE mcm_task RENAME COLUMN task_id to parent_task_id\");\n            await queryRunner.query(\"ALTER TABLE mcm_task ADD COLUMN task_format VARCHAR \");\n            await queryRunner.query(\"ALTER TABLE mcm_task ADD COLUMN position_in_parent INTEGER \");\n        } catch (e) {\n            console.log(\"columns 'parent_task_id', 'task_format' and 'position_in_parent' already exist\");\n        }\n    }\n\n    public async down(queryRunner: QueryRunner): Promise<any> {\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/migration/17067919700000-RenameParentIdAndAddTaskFormatAndPosition.ts","import { MigrationInterface, QueryRunner } from \"typeorm\";\n\nexport class AddGroupsFinished17071440460000 implements MigrationInterface {\n\n    public async up(queryRunner: QueryRunner): Promise<any> {\n        try {\n            await queryRunner.query(\"ALTER TABLE mcm_score ADD COLUMN groups_finished VARCHAR(50)\");\n        } catch (e) {\n            console.log(\"column 'groups_finished' already exists\");\n        }\n    }\n\n    public async down(queryRunner: QueryRunner): Promise<any> {\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/migration/17071440460000-AddGroupsFinished.ts","import {TrailTranslation} from \"./trail-translation\";\nimport {ResponseTaskTranslation} from \"./response-task-translation\";\nimport {Helper} from \"../../../classes/Helper\";\nimport {Hint} from \"../../../entity/Task\";\n\nexport interface TranslationStorage {\n    [langCode: string]: TranslationStorageEntry;\n}\n\nexport interface TranslationStorageEntry{\n    trail?: TrailTranslation;\n    tasks?: Array<TaskTranslation>;\n    trailFetched: boolean;\n    tasksFetched: boolean;\n}\n\nexport class TaskTranslation {\n    id: number;\n    language: string;\n    taskId: number;\n    title: string;\n    description: string;\n    solution?: Array<any>;\n    hint1?: Array<string>;\n    hint2?: Array<string>;\n    hint3?: Array<string>;\n    sample_solution: string;\n\n    constructor(init?: Partial<TaskTranslation>) {\n        Object.assign(this, init);\n    }\n\n    static FromTranslationResponse(response: ResponseTaskTranslation) {\n        let task = new TaskTranslation();\n        task.id = response.id;\n        task.language = response.language;\n        task.taskId = response.taskId;\n        task.title = response.title;\n        task.description = response.description;\n        if (response.solution) {\n            task.solution = this.safeExtractJson(response.solution);\n        }\n        if (response.hint1) {\n            task.hint1 = this.safeExtractJson(response.hint1);\n        }\n        if (response.hint2) {\n            task.hint2 = this.safeExtractJson(response.hint2);\n        }\n        if (response.hint3) {\n            task.hint3 = this.safeExtractJson(response.hint3);\n        }\n        task.sample_solution = this.safeExtractJson(response.sample_solution);\n        return task;\n    }\n\n    getSolutionOptionList(solutionType: string): Array<any> {\n        if (solutionType == 'multiple_choice') {\n            let multipleChoiceSolutionList = [];\n            let temp = this.solution;\n\n            temp[0].forEach(element => {\n                multipleChoiceSolutionList.push({userChecked: false, rightAnswer: false, value: element});\n            });\n            temp[1].forEach(element => {\n                multipleChoiceSolutionList[element].rightAnswer = true;\n            });\n            console.log(multipleChoiceSolutionList);\n            return multipleChoiceSolutionList;\n        } else {\n            return this.solution;\n        }\n    }\n\n    getHint(index: number) {\n        let hint = this.getHintObject(index);\n        if (hint) {\n            return hint;\n        }\n        return null;\n    }\n\n    getHintObject(index: number): Hint {\n        let hint: string[];\n        switch (index) {\n            case 1:\n                hint = this.hint1;\n                break;\n            case 2:\n                hint = this.hint2;\n                break;\n            case 3:\n                hint = this.hint3;\n                break;\n        }\n        if (hint.length >= 2) {\n            return {\n                type: hint[0],\n                value: hint[1]\n            }\n        }\n        return null;\n    }\n\n    getSolutionSample(): string {\n        if (this.sample_solution) {\n            if (this.sample_solution.length > 0) {\n                return this.sample_solution[0];\n            }\n        }\n        return \"\";\n    }\n\n    private static safeExtractJson(str) {\n        const startObj = str.indexOf('{');\n        const startArr = str.indexOf('[');\n\n        // Determine which comes first: { or [\n        const start = (startObj === -1) ? startArr :\n            (startArr === -1) ? startObj : Math.min(startObj, startArr);\n\n        if (start === -1) return null;\n\n        const openChar = str[start];\n        const closeChar = openChar === '{' ? '}' : ']';\n\n        let count = 0;\n        for (let i = start; i < str.length; i++) {\n            if (str[i] === openChar) count++;\n            else if (str[i] === closeChar) count--;\n\n            if (count === 0) {\n                const jsonStr = str.slice(start, i + 1);\n                try {\n                    return Helper.safeJsonDecode(jsonStr);\n                } catch (e) {\n                    return null;\n                }\n            }\n        }\n\n        return null; // No balanced closing character found\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/api/models/translation-storage.ts","import { Component, EventEmitter, Input, OnChanges, Output } from '@angular/core';\nimport { ImagesService } from '../../services/images-service';\nimport { PhotoViewer } from '@ionic-native/photo-viewer';\nimport { Helper } from '../../classes/Helper';\nimport { SpinnerDialog } from '@ionic-native/spinner-dialog';\n\n/**\n * Generated class for the McmImageComponent component.\n *\n * This component shall encapsulate all functionality regarding images, e.g. downloading, resizing\n * or viewing in fullscreen.\n */\n@Component({\n    selector: 'mcm-image',\n    templateUrl: 'mcm-image.html'\n})\nexport class McmImageComponent implements OnChanges {\n\n    @Input()\n    src: string;\n\n    @Input()\n    offline: boolean = true;\n\n    @Input()\n    fullWidth: boolean = false;\n\n    @Input()\n    photoViewer: boolean = false;\n\n    @Output()\n    click: EventEmitter<any> = new EventEmitter();\n\n    private imageUrl: string;\n\n    constructor(private imagesService: ImagesService, private photoViewerPlugin: PhotoViewer,\n                private spinnerDialog: SpinnerDialog) {\n    }\n\n    ngOnChanges() {\n        this.imageUrl = this.offline ? this.imagesService.getOfflineURL(this.src)\n            : this.imagesService.getOnlineURL(this.src);\n    }\n\n    onClick($event) {\n        this.click.next($event);\n        if (this.photoViewer && Helper.isPluginAvailable(PhotoViewer)) {\n            this.spinnerDialog.show();\n            setTimeout(() => {\n                // use short timeout to let spinner dialog appear\n                this.photoViewerPlugin.show(this.offline ? this.imagesService.getOfflineURL(this.src, undefined, undefined, true) : this.imageUrl);\n                setTimeout(() => {\n                    // photoviewer doesn't have callback when user closes it => hide spinner in background\n                    this.spinnerDialog.hide();\n                }, 1000);\n            }, 100)\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/mcm-image/mcm-image.ts","import { Component} from '@angular/core';\nimport { NavParams } from 'ionic-angular/navigation/nav-params';\nimport {ViewController, ModalController, DeepLinker, NavController} from 'ionic-angular';\nimport {ModalsService} from \"../../services/modals-service\";\n\n\n@Component({\n    selector: 'mcm-header',\n    templateUrl:'mcm-header.html'\n\n})\nexport class MCMHeaderComponent{\n    showBackButton: boolean = false;\n    transparent: boolean = false;\n    isOpeningRoute: boolean = false;\n\n\n    constructor(public navCtrl: NavController,\n                public navParams: NavParams,\n                public viewCtrl: ViewController,\n                public modalService: ModalsService,\n                public modalCtrl: ModalController,\n                private deepLinker: DeepLinker) {\n    }\n\n    protected currentpage: string = this.viewCtrl.name;\n\n    retriveTitle(): string {\n        //console.log('currentpage ',this.currentpage);\n        if (this.navParams && this.navParams.data.headerTitle) {\n            return this.navParams.data.headerTitle;\n        }\n        if (this.currentpage == 'InfoPage') {\n            return 'a_about_mcm_title'\n        }\n        if (this.currentpage == 'SettingsPage') {\n            return 'a_action_settings'\n        }\n        if (this.currentpage == 'ModalCmp') {\n            return ''\n        }\n        return this.currentpage;\n    }\n\n    ngOnInit(){\n        this.showBackButton = this.navCtrl.canGoBack();\n        if(this.currentpage == 'ModalCmp'){\n            this.transparent = true;\n        }\n    }\n\n\n    goToDashboard(){\n        this.navCtrl.setRoot('DashboardPage').then(() =>{\n            this.navCtrl.popToRoot();\n        });\n    }\n\n    goBack(){\n        console.log('Header going back');\n        if (this.viewCtrl.instance.goBack) {\n            return this.viewCtrl.instance.goBack();\n        }\n        if(this.currentpage === 'TasksMap'){\n            let tasksMap = this.navCtrl.getActive().instance;\n            if(tasksMap.sessionInfo != null){\n                console.log('go back from active session');\n                console.log(tasksMap.route.id);\n                tasksMap.sessionFinished();\n            }else{\n                if(!this.isOpeningRoute){\n                    this.isOpeningRoute = true;\n                    this.navCtrl.pop({}, () => {\n                        // necessary because of bug which does not update URL\n                        this.deepLinker.navChange('back');\n                    });\n                    this.modalService.showRoute(tasksMap.route, this.navCtrl).then(async () => {\n                        this.isOpeningRoute = false;\n                    });\n                }\n            }\n        }else{\n            this.navCtrl.pop({}, () => {\n                // necessary because of bug which does not update URL\n                this.deepLinker.navChange('back');\n            });\n        }\n    }\n\n    closeModal() {\n        this.viewCtrl.dismiss(this.modalCtrl);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/mcm-header/mcm-header.component.ts","import { Pipe, PipeTransform } from '@angular/core';\n/*\n * this is still pretty basic and could defenitely use some rework in terms of international scale and number notation\n * so far the functiuonalities are:\n * - checks if the value is over o km and if so, then converts m to km and adds the correct unit\n*/\n@Pipe({name: 'distance'})\nexport class DistancePipe implements PipeTransform {\n  transform(value: number, unit: string): string {\n/*     console.log('value', value); */\n    if( value > 0 && value < 1000 ){\n        return value+' '+unit;\n    }else if( value > 1000){\n        return (Math.round(value / 100)/10)+' km';\n    }else if( value <= 0 ){\n        return 0+' '+unit;\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/pipes/distance.pipe.ts","import {Component, Input} from '@angular/core';\nimport {Route} from \"../../entity/Route\";\nimport {Helper} from \"../../classes/Helper\";\n\n@Component({\n    selector: 'mcm-progress-bar',\n    templateUrl: './mcm-progress-bar.html'\n})\nexport class MCMProgressBarComponent {\n    @Input() route?: Route;\n\n\n    @Input() isAudioPlaying?: boolean;\n    @Input() isAudio?: boolean;\n    @Input() remainingTime?: number;\n    @Input() currentProgress: number;\n    @Input() total: number;\n    progressWidth: number;\n\n    constructor(private helper: Helper) {\n\n    }\n\n    async ngOnChanges() {\n        if (this.route && this.route.scores) {\n            try {\n                let data = await this.helper.calculateProgress(this.route);\n                this.currentProgress = data.currentProgress;\n                this.total = data.totalTasks;\n                this.progressWidth = (100 / this.total) * this.currentProgress;\n            } catch (e) {\n                console.log(e);\n            }\n        }else if(this.total && this.currentProgress){\n            this.progressWidth = (100 / this.total) * this.currentProgress;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/mcm-progress-bar/mcm-progress-bar.ts","import {\n    Directive, ElementRef, Renderer2, Input, NgZone, Inject, PLATFORM_ID\n} from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { ImagesService } from '../services/images-service';\n\n/**\n * Angular Lazy Loading Images Directive\n *\n * The library allows to lazy load images from your web application\n * using the MutationObserver and the IntersectionObserver. Images will be loaded as\n * soon as they enter the viewport in a non-blocking way.\n */\n@Directive({\n    selector: '[lazy-load-images]'\n})\nexport class LazyLoadImagesDirective {\n\n    @Input('lazy-load-images') intersectionObserverConfig: Object;\n    @Input('image-size') imageSize: string;\n\n    intersectionObserver: IntersectionObserver;\n    rootElement: HTMLElement;\n\n    constructor(\n        element: ElementRef,\n        public renderer: Renderer2,\n        public ngZone: NgZone,\n        @Inject(PLATFORM_ID) private platformId: any,\n        private imagesService: ImagesService) {\n        this.rootElement = element.nativeElement;\n    }\n\n    init() {\n        this.registerIntersectionObserver();\n\n        this.observeDOMChanges(this.rootElement, () => {\n            const imagesFoundInDOM = this.getAllImagesToLazyLoad(this.rootElement);\n            imagesFoundInDOM.forEach((image: HTMLElement) => this.intersectionObserver.observe(image));\n        });\n    }\n\n    ngOnInit() {\n        if (!this.isBrowser()) {\n            return;\n        }\n\n        this.ngZone.runOutsideAngular(() => this.init());\n    }\n\n    ngOnDestroy() {\n        if (this.intersectionObserver) {\n            this.intersectionObserver.disconnect();\n        }\n    }\n\n    isBrowser(): boolean {\n        return isPlatformBrowser(this.platformId);\n    }\n\n    registerIntersectionObserver() {\n        this.intersectionObserver = new IntersectionObserver(\n            images => images.forEach(image => this.onIntersectionChange(image)),\n            this.intersectionObserverConfig instanceof Object ? this.intersectionObserverConfig : undefined\n        );\n\n        return this.intersectionObserver;\n    }\n\n    observeDOMChanges(rootElement: HTMLElement, onChange: Function) {\n        // Create a Mutation Observer instance\n        const observer = new MutationObserver(mutations => onChange(mutations));\n\n        // Observer Configuration\n        const observerConfig = {\n            attributes: true,\n            characterData: true,\n            childList: true,\n            subtree: true\n        };\n\n        // Observe Directive DOM Node\n        observer.observe(rootElement, observerConfig);\n\n        // Fire onChange callback to check current DOM nodes\n        onChange();\n\n        return observer;\n    }\n\n    getAllImagesToLazyLoad(pageNode: HTMLElement) {\n        return Array.from(pageNode.querySelectorAll('img[data-src], [data-srcset], [data-background-src], img[data-async-src], [data-async-background-src]'));\n    }\n\n    onIntersectionChange(image: any) {\n        if (!image.isIntersecting) {\n            return;\n        }\n\n        this.onImageAppearsInViewport(image.target);\n    }\n\n    onImageAppearsInViewport(image: any) {\n        if (image.dataset.asyncSrc) {\n            this.imagesService.getAsyncImageURL(image.dataset.asyncSrc, this.imageSize).then((asyncSrc) => {\n                this.renderer.setAttribute(image, 'src', asyncSrc);\n            });\n            this.renderer.removeAttribute(image, 'data-async-src');\n        }\n        if (image.dataset.src) {\n            this.renderer.setAttribute(image, 'src', image.dataset.src);\n            this.renderer.removeAttribute(image, 'data-src');\n        }\n\n        if (image.dataset.srcset) {\n            this.renderer.setAttribute(image, 'srcset', image.dataset.srcset);\n            this.renderer.removeAttribute(image, 'data-srcset');\n        }\n\n        if (image.dataset.asyncBackgroundSrc) {\n            this.imagesService.getAsyncImageURL(image.dataset.asyncBackgroundSrc, this.imageSize).then((asyncSrc) => {\n                this.renderer.setStyle(image, 'background-image', `url(${asyncSrc})`);\n            });\n            this.renderer.removeAttribute(image, 'data-async-background-src');\n        }\n        if (image.dataset.backgroundSrc) {\n            this.renderer.setStyle(image, 'background-image', `url(${image.dataset.backgroundSrc})`);\n            this.renderer.removeAttribute(image, 'data-background-src');\n        }\n\n        // Stop observing the current target\n        if (this.intersectionObserver) {\n            this.intersectionObserver.unobserve(image);\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/directives/ngx-lazy-load-images.directive.ts","import {EventEmitter, Component, Input, Output} from '@angular/core';\nimport {Route} from \"../../entity/Route\";\nimport {ModalsService} from \"../../services/modals-service\";\nimport {OrmService} from \"../../services/orm-service\";\nimport {Helper} from \"../../classes/Helper\";\nimport {DB_Updater} from \"../../classes/DB_Updater\";\nimport {TranslateService} from \"@ngx-translate/core\";\n\n\n@Component({\n    selector: 'route-teaser',\n    templateUrl: 'route-teaser.html',\n    //changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RouteTeaserComponent {\n\n    @Input()\n    route: Route;\n\n    @Input()\n    isOnline: boolean;\n\n    @Output()\n    downloadRoute = new EventEmitter<any>();\n\n    @Output()\n    removeRoute = new EventEmitter<any>();\n\n    private currentProgress: number = 0;\n    private total: number = 0;\n\n    private completedRadius: number = 339.292;\n\n    constructor( private modalsService: ModalsService,\n                 private ormService: OrmService,\n                 private helper: Helper,\n                 private dbUpdater: DB_Updater,\n                 private translateService: TranslateService) {\n    }\n\n    async ngOnChanges(){\n        if(this.route && this.route.downloaded) {\n            this.total = await this.route.getTaskCount();\n            if(this.route.scores) {\n                let data = await this.helper.calculateProgress(this.route);\n                this.currentProgress = data.currentProgress;\n                this.completedRadius = this.calculatePercentage();\n            }\n        }\n    }\n\n    calculatePercentage(){\n        let c = 2 * Math.PI * 54;\n        let completedPercentage = (1/this.total) *this.currentProgress;\n        return c * (1-completedPercentage);\n    }\n\n    async doDownload(event, route: Route) {\n        event.stopPropagation();\n        if (await this.modalsService.doDownload(route)) {\n            this.downloadRoute.emit({route: route});\n        }\n    }\n\n    async deleteRoute(event, route: Route) {\n        event.stopPropagation();\n        if(await this.ormService.removeDownloadedRoute(route, true)){\n            this.removeRoute.emit();\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/route-teaser/route-teaser.ts","import { DatePipe } from '@angular/common';\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Pipe({\n    name: 'localizedDate',\n    pure: false\n})\nexport class LocalizedDatePipe implements PipeTransform {\n\n    constructor(private translateService: TranslateService) {\n    }\n\n    transform(value: any, pattern: string = 'mediumDate'): any {\n        const datePipe: DatePipe = new DatePipe(this.translateService.currentLang ? this.translateService.currentLang : this.translateService.defaultLang);\n        return datePipe.transform(value, pattern);\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pipes/localDate.pipe.ts","import { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport {HttpClient} from '@angular/common/http';\n\n\nexport function createTranslateLoader(httpClient: HttpClient) {\n  return new TranslateHttpLoader(httpClient, './assets/localization/', '.json');\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/translate-loader.ts","import { EventEmitter, Injectable } from \"@angular/core\";\n\n@Injectable()\nexport class BroadcastService {\n    public historyChanged$: EventEmitter<boolean>;\n    public downloadProgress$: EventEmitter<any>\n\n    constructor() {\n        this.historyChanged$ = new EventEmitter();\n        this.downloadProgress$ = new EventEmitter();\n    }\n\n    public historyChanged(canGoBack: boolean): void {\n        this.historyChanged$.emit(canGoBack);\n    }\n\n    public downloadProgressChanged(total: number, doneDownload: number ): void {\n        this.downloadProgress$.emit({total: total, done: doneDownload});\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/broadcast-service.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { YoutubePlayerComponent } from './youtube-player.component';\nimport { YoutubePlayerService } from '../services/youtube-player.service';\n\n@NgModule({\n  declarations: [\n    YoutubePlayerComponent\n  ],\n  exports: [\n    YoutubePlayerComponent\n  ],\n  imports: [\n    CommonModule\n  ],\n  providers: [\n    YoutubePlayerService\n  ]\n})\nexport class YoutubePlayerModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ngx-youtube-player/modules/ngx-youtube-player.module.ts","import {\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  Input,\n  Output,\n  Renderer2,\n} from '@angular/core';\nimport { YoutubePlayerService } from '../services/youtube-player.service';\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  selector: 'youtube-player',\n  template: `\n    <div id=\"yt-player-ngx-component\"></div>\n  `,\n})\nexport class YoutubePlayerComponent implements AfterContentInit {\n  @Input() videoId = '';\n  @Input() height: number;\n  @Input() width: number;\n  /**\n   * @description sets the protocol by the navigator object\n   * if there is no window, it sets a default http protocol\n   * unless the protocol is set from outside\n   */\n  @Input() protocol: string = this.getProtocol();\n  @Input() playerVars: YT.PlayerVars = {};\n\n  // player created and initialized - sends instance of the player\n  @Output() ready = new EventEmitter<YT.Player>();\n  // state change: send the YT event with its state\n  @Output() change = new EventEmitter<YT.PlayerEvent>();\n\n  constructor(\n    public playerService: YoutubePlayerService,\n    private renderer: Renderer2\n  ) { }\n\n  ngAfterContentInit() {\n    const htmlId = this.playerService.generateUniqueId();\n    const playerSize = { height: this.height, width: this.width };\n    const container = this.renderer.selectRootElement('#yt-player-ngx-component');\n    this.renderer.setAttribute(container, 'id', htmlId);\n    this.playerService.loadPlayerApi({\n      protocol: this.protocol\n    });\n    this.playerService.setupPlayer(htmlId, {\n      change: this.change,\n      ready: this.ready,\n    }, playerSize, this.videoId, this.playerVars);\n  }\n\n  getProtocol() {\n    const hasWindow = window && window.location;\n    const protocol = hasWindow\n      ? window.location.protocol.replace(':', '')\n      : 'http';\n      return (protocol == 'file' || protocol == 'ionic') ? 'https' : protocol;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ngx-youtube-player/modules/youtube-player.component.ts","import {Directive, HostListener, ElementRef} from \"@angular/core\";\n\n@Directive({\n    selector: \"textarea[autoresize]\" // Attribute selector\n})\nexport class Autoresize {\n\n\n    @HostListener(\"input\", [\"$event.target\"])\n    onInput(textArea: HTMLTextAreaElement): void {\n        this.adjust();\n    }\n    constructor(public element: ElementRef) {\n    }\n    ngOnInit(): void {\n        this.adjust();\n    }\n    adjust(): void {\n        let ta = this.element.nativeElement;\n        if(ta){\n            ta.style.overflow = \"visible\";\n            ta.style.height = \"auto\";\n            ta.style.height = (ta.scrollHeight - 20) + \"px\";\n        }\n    }\n\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/directives/autoresize.ts","import {Component} from '@angular/core';\nimport {AlertController, App, DeepLinker, Events, ModalCmp, Platform} from 'ionic-angular';\nimport {StatusBar} from '@ionic-native/status-bar';\nimport {CustomKeyBoard} from '../components/customKeyBoard/custom-keyboard';\n\nimport {LanguageService} from '../services/language-service';\nimport {ChatAndSessionService} from '../services/chat-and-session-service';\nimport {ScreenOrientation} from \"@ionic-native/screen-orientation\";\nimport {TranslateService} from \"@ngx-translate/core\";\nimport {Storage} from \"@ionic/storage\";\nimport {Helper} from \"../classes/Helper\";\nimport {DashboardPage} from \"../pages/dashboard/dashboard\";\nimport {ModalsService} from \"../services/modals-service\";\nimport {HomePage} from \"../pages/home/home\";\nimport {RoutesListPage} from \"../pages/home/tabs/RoutesList/RoutesList\";\nimport {RoutesMapPage} from \"../pages/home/tabs/RoutesMap/RoutesMap\";\nimport {PortalPage} from \"../pages/portal/portal\";\nimport {ZoomService} from \"../services/zoom-service\";\n\n\nexport enum MCMModalType {\n    hint = 1,\n    error = 2,\n    solved = 3,\n    sampleSolution = 4,\n    solvedLow = 5,\n    saved = 6,\n    subtask = 7,\n    calculation = 8,\n    general = 9\n}\n\n@Component({\n    templateUrl: 'app.html'\n})\nexport class MyApp {\n    rootPage: string = 'HomePage';\n\n    public activeNarrative: string = 'default';\n    keysTab: string[];\n    isOpeningRoute: boolean = false;\n\n    constructor(platform: Platform, statusBar: StatusBar,\n                languageService: LanguageService, chatService: ChatAndSessionService,\n                events: Events, app: App, alertCtrl: AlertController,\n                translate: TranslateService, screenOrientation: ScreenOrientation, zoom: ZoomService,\n                private storage: Storage, private modalService: ModalsService, private deepLinker: DeepLinker) {\n\n        let that = this;\n        platform.ready().then(async () => {\n            await languageService.initialize();\n            await this.setRootPage();\n            // Okay, so the platform is ready and our plugins are available.\n            // Here you can do any higher level native things you might need.\n            // statusBar.styleDefault();\n            // statusBar.show();\n            if (platform.is('cordova')) {\n                if ((<any>window).wkWebView) {\n                    (<any>window).wkWebView.injectCookie(Helper.WEBSERVER_URL);\n                }\n                if (platform.is('tablet')) {\n                    //force landscape mode on tablets\n                    screenOrientation.lock(screenOrientation.ORIENTATIONS.LANDSCAPE);\n                } else {\n                    //force portrait mode on phones\n                    screenOrientation.lock(screenOrientation.ORIENTATIONS.PORTRAIT);\n                }\n            }\n        });\n\n        // zoom.init();\n\n        platform.registerBackButtonAction(async () => {\n            let activeNav = app.getActiveNavs()[0];\n            let rootNav = app.getRootNav();\n\n            if (rootNav.getActive().component.name === HomePage.name\n                && (activeNav.getActive().component.name === \"RoutesListPage\" || activeNav.getActive().component.name === RoutesMapPage.name || activeNav.getActive().component.name === PortalPage.name)) {\n                activeNav.parent.select(0);\n                return;\n            }\n            if (activeNav.getActive().component.name === DashboardPage.name) {\n                const alert = alertCtrl.create({\n                    title: translate.instant(\"a_alert_confirm_close\"),\n                    buttons: [{\n                        text: translate.instant(\"no\"),\n                        role: 'cancel'\n                    }, {\n                        text: translate.instant(\"yes\"),\n                        handler: () => {\n                            platform.exitApp();\n                        }\n                    }]\n                });\n                alert.present();\n                return;\n            }\n            if (activeNav.getActive().component.name === ModalCmp.name) {\n                activeNav.getActive().dismiss();\n                return;\n            }\n            if (rootNav.canGoBack()) {\n                if (rootNav.getActive().component.name === 'TasksMap') {\n                    let tasksMap = rootNav.getActive().instance;\n                    if (tasksMap.sessionInfo != null) {\n                        tasksMap.sessionFinished();\n                    } else {\n                        if (!this.isOpeningRoute) {\n                            this.isOpeningRoute = true;\n                            rootNav.pop({}, () => {\n                                // necessary because of bug which does not update URL\n                                this.deepLinker.navChange('back');\n                            });\n                            this.modalService.showRoute(tasksMap.route, rootNav).then(async () => {\n                                this.isOpeningRoute = false;\n                            });\n                        }\n                    }\n                    return;\n                } else {\n                    rootNav.pop();\n                    return;\n                }\n            }\n            if (activeNav.canGoBack()) {\n                activeNav.pop();\n                return;\n            }\n        });\n        statusBar.backgroundColorByHexString('#035f87'); // set status bar color\n        // Keyboard key tab (used in the app.html template)\n        let decimalSeparator = window.navigator.language.substring(0, 2) == 'en' ? '.' : ',';\n\n        this.keysTab = [\n            \"1\", \"2\", \"3\", \"C\",\n            \"4\", \"5\", \"6\", \"\",\n            \"7\", \"8\", \"9\", \"\",\n            \"-\", \"0\", decimalSeparator, \"\"]; // \n\n        events.subscribe('narrativeChange', (narrative) => {\n            this.activeNarrative = narrative;\n        });\n\n    }\n\n    ngOnInit() {\n        CustomKeyBoard.hide();\n    }\n\n    // Event emitter\n    keyClick(k: string) {\n        console.log('Event emitter - key: ', k);\n    }\n\n    async isFirstStart(): Promise<boolean> {\n        let OnboardingHasAlreadyBeenShown = await this.storage.get('OnboardingHasBeenShown');\n        if (!OnboardingHasAlreadyBeenShown) {\n            this.storage.set('OnboardingHasBeenShown', true);\n        }\n        return !OnboardingHasAlreadyBeenShown;\n    }\n\n    async setRootPage() {\n        if (await this.isFirstStart()) {\n            this.rootPage = 'OnboardingPage';\n        } else {\n            this.rootPage = 'HomePage';\n        }\n        if ((navigator as any).splashscreen) {\n            (navigator as any).splashscreen.hide();\n        }\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {NgModule} from '@angular/core';\nimport {HttpClientModule} from '@angular/common/http';\nimport {ApiConfiguration} from './api-configuration';\n\nimport {SessionChatService} from './services/session-chat.service';\nimport {SessionService} from './services/session.service';\nimport {SessionEventService} from './services/session-event.service';\nimport {SessionUserService} from './services/session-user.service';\nimport {SessionUserLeaderboardService} from './services/session-user-leaderboard.service';\nimport {TrailService} from './services/trail.service';\nimport {ProblemReportService} from \"./services/problem-report.service\";\nimport {TranslationService} from \"./services/translation.service\";\n\n/**\n * Module that provides instances for all API services\n */\n@NgModule({\n    imports: [\n        HttpClientModule\n    ],\n    exports: [\n        HttpClientModule\n    ],\n    declarations: [],\n    providers: [\n        ApiConfiguration,\n        SessionChatService,\n        SessionService,\n        SessionEventService,\n        SessionUserService,\n        SessionUserLeaderboardService,\n        TrailService,\n        ProblemReportService,\n        TranslationService\n    ],\n})\nexport class ApiModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/api/api.module.ts","/* tslint:disable */\nimport { Injectable } from '@angular/core';\nimport {\n  HttpClient, HttpRequest, HttpResponse,\n  HttpHeaders, HttpParams } from '@angular/common/http';\nimport { BaseService } from '../base-service';\nimport { ApiConfiguration } from '../api-configuration';\nimport { Observable } from 'rxjs/Observable';\nimport { map } from 'rxjs/operators/map';\nimport { filter } from 'rxjs/operators/filter';\n\nimport { Session } from '../models/session';\n\n\n@Injectable()\nexport class TrailService extends BaseService {\n  constructor(\n    config: ApiConfiguration,\n    http: HttpClient\n  ) {\n    super(config, http);\n  }\n\n\n  /**\n   * @param trailId Trail ID\n   * @return Returns a list of FeedItems\n   */\n\n  getUpcomingSessionsResponse(trailId: number): Observable<HttpResponse<Array<Session>>> {\n    let __params = new HttpParams();\n    let __headers = new HttpHeaders();\n    let __body: any = null;\n\n    let req = new HttpRequest<any>(\n      \"GET\",\n      this.rootUrl + `/trail/${trailId}/sessions/upcoming`,\n      __body,\n      {\n        headers: __headers,\n        params: __params,\n        responseType: 'json'\n      });\n\n    return this.http.request<any>(req).pipe(\n      filter(_r => _r instanceof HttpResponse),\n      map(_r => {\n        let _resp = _r as HttpResponse<any>;\n        let _body: Array<Session> = null;\n        _body = _resp.body as Array<Session>\n        return _resp.clone({body: _body}) as HttpResponse<Array<Session>>;\n      })\n    );\n  }\n\n\n  /**\n   * @param trailId Trail ID\n   * @return Returns a list of FeedItems\n   */\n\n  getUpcomingSessions(trailId: number): Observable<Array<Session>> {\n    return this.getUpcomingSessionsResponse(trailId).pipe(\n      map(_r => (<any>_r).body)\n    );\n  }\n\n\n  /**\n   * @param trailId Trail ID\n   * @return Returns a list of FeedItems\n   */\n\n  getSessionsResponse(trailId: number): Observable<HttpResponse<Array<Session>>> {\n    let __params = new HttpParams();\n    let __headers = new HttpHeaders();\n    let __body: any = null;\n\n    let req = new HttpRequest<any>(\n      \"GET\",\n      this.rootUrl + `/trail/${trailId}/sessions`,\n      __body,\n      {\n        headers: __headers,\n        params: __params,\n        responseType: 'json'\n      });\n\n    return this.http.request<any>(req).pipe(\n      filter(_r => _r instanceof HttpResponse),\n      map(_r => {\n        let _resp = _r as HttpResponse<any>;\n        let _body: Array<Session> = null;\n        _body = _resp.body as Array<Session>\n        return _resp.clone({body: _body}) as HttpResponse<Array<Session>>;\n      })\n    );\n  }\n\n\n  /**\n   * @param trailId Trail ID\n   * @return Returns a list of FeedItems\n   */\n\n  getSessions(trailId: number): Observable<Array<Session>> {\n    return this.getSessionsResponse(trailId).pipe(\n      map(_r => (<any>_r).body)\n    );\n  }\n}\n\nexport module TrailService {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/api/services/trail.service.ts","import { NgModule } from '@angular/core';\nimport { SafeInnerHtmlDirective } from './safe-inner-html/safe-inner-html';\n@NgModule({\n\tdeclarations: [SafeInnerHtmlDirective],\n\timports: [],\n\texports: [SafeInnerHtmlDirective]\n})\nexport class DirectivesModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/directives/directives.module.ts","import {Directive, ElementRef, Input} from '@angular/core';\nimport {InAppBrowser} from \"@ionic-native/in-app-browser\";\n\n/**\n * Generated class for the SafeInnerHtmlDirective directive.\n *\n * See https://angular.io/api/core/Directive for more info on Angular\n * Directives.\n */\n@Directive({\n  selector: '[linkedInnerHtml]' // Attribute selector\n})\nexport class SafeInnerHtmlDirective {\n\n    @Input('linkedInnerHtml') test : string;\n\n  constructor(private el: ElementRef, private iab: InAppBrowser) {\n  }\n\n    ngOnInit() {\n      this.el.nativeElement.innerHTML = this.test;\n      let childLinks = this.el.nativeElement.querySelector('a')\n      if (childLinks) {\n          childLinks.addEventListener('click', (e) => {\n              e.stopPropagation();\n              e.preventDefault();\n              let link = e.srcElement.href;\n\n              this.iab.create(link, '_system');\n              console.log('EventListenerClick', e.srcElement);\n          })\n      }\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/directives/safe-inner-html/safe-inner-html.ts","import {Injectable} from \"@angular/core\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {ApiConfiguration} from \"../api-configuration\";\nimport {TrailTranslation, TranslationTrailResponse} from \"../models/trail-translation\";\nimport {TranslationTaskResponse} from \"../models/response-task-translation\";\nimport {Storage} from \"@ionic/storage\";\nimport {TaskTranslation, TranslationStorage} from \"../models/translation-storage\";\n\n//TODO Add feedback element to translationStorage entries to signal if and when translations (task and trail separately) have been fetched in language\n@Injectable()\nexport class TranslationService {\n    // TODO make this configurable through settings page\n    translateLanguage = \"pl\"\n    translateStorageBaseKey = \"MCMTranslations\"\n\n    constructor(private http: HttpClient, private apiConfig: ApiConfiguration, private storage: Storage) {\n    }\n\n    async getTranslationForRoute(code: string, fetchIfNotAvailable = false): Promise<{translation: TrailTranslation, isFetched: boolean}> {\n        const storageKey = `${this.translateStorageBaseKey}-${code}`\n        let trailTranslation: TrailTranslation|undefined;\n        let translations: TranslationStorage = await this.storage.get(storageKey);\n        if (!translations || !translations[this.translateLanguage] || !translations[this.translateLanguage].trail) {\n            if (fetchIfNotAvailable) {\n                let translation = await this.fetchRouteTranslation(code);\n                if (!translations) {\n                    translations = {};\n                }\n                if (!translations[this.translateLanguage]) {\n                    translations[this.translateLanguage] = {trailFetched: false, tasksFetched: false};\n                }\n                if (translation) {\n                    trailTranslation = translation;\n                    translations[this.translateLanguage].trail = translation;\n                }\n                translations[this.translateLanguage].trailFetched = true;\n                await this.storage.set(storageKey, translations);\n            }\n        } else {\n            trailTranslation = translations[this.translateLanguage].trail;\n        }\n        return {translation: trailTranslation, isFetched: translations && translations[this.translateLanguage] ? translations[this.translateLanguage].trailFetched : false};\n    }\n\n    async getTranslationForTask(taskId: number, routeCode: string, fetchIfNotAvailable = false): Promise<{ translation: TaskTranslation, isFetched: boolean}> {\n        const storageKey = `${this.translateStorageBaseKey}-${routeCode}`\n        let taskTranslations: TaskTranslation[] = [];\n        let storedTranslations: TranslationStorage = await this.storage.get(storageKey);\n        if (!storedTranslations || !storedTranslations[this.translateLanguage] || !storedTranslations[this.translateLanguage].tasks) {\n            if (fetchIfNotAvailable) {\n                let translations = await this.fetchTaskTranslationsForRoute(routeCode);\n                if (!storedTranslations) {\n                    storedTranslations = {};\n                }\n                if (!storedTranslations[this.translateLanguage]) {\n                    storedTranslations[this.translateLanguage] = {trailFetched: false, tasksFetched: false};\n                }\n                if (translations) {\n                    taskTranslations = translations.map(task => TaskTranslation.FromTranslationResponse(task));\n                    storedTranslations[this.translateLanguage].tasks = taskTranslations;\n                }\n                storedTranslations[this.translateLanguage].tasksFetched = true;\n                await this.storage.set(storageKey, storedTranslations)\n            }\n        } else {\n            taskTranslations = storedTranslations[this.translateLanguage].tasks.map(rawTask => new TaskTranslation(rawTask));\n        }\n        return {translation: taskTranslations.find(translation => translation.taskId === taskId), isFetched: storedTranslations && storedTranslations[this.translateLanguage] ? storedTranslations[this.translateLanguage].tasksFetched : false};\n    }\n\n    // TODO handle empty response?\n    async fetchRouteTranslation(code: string) {\n        const response = await this.http.get<TranslationTrailResponse>(`${this.apiConfig.rootUrl}/translation/trail/by-code/${code}/${this.translateLanguage}`).toPromise();\n        console.log(response.trail);\n        return response.trail;\n    }\n\n    // TODO handle empty response?\n    async fetchTaskTranslationsForRoute(code: string) {\n        const response = await this.http.get<TranslationTaskResponse>(`${this.apiConfig.rootUrl}/translation/tasks/by-trail-code/${code}/${this.translateLanguage}`).toPromise();\n        console.log(response.tasks);\n        return response.tasks;\n    }\n\n    async removeTaskTranslations(routeCode: string) {\n        const storageKey = `${this.translateStorageBaseKey}-${routeCode}`;\n        let storedTranslations: TranslationStorage = await this.storage.get(storageKey);\n        for (let language in storedTranslations) {\n            storedTranslations[language].tasksFetched = false;\n            storedTranslations[language].tasks = undefined;\n        }\n        return this.storage.set(storageKey, storedTranslations);\n    }\n\n    async removeTranslations(routeCode: string) {\n        const storageKey = `${this.translateStorageBaseKey}-${routeCode}`;\n        return this.storage.remove(storageKey);\n    }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/api/services/translation.service.ts","import { Injectable } from '@angular/core'\nimport 'rxjs/add/operator/toPromise'\nimport * as Collections from 'typescript-collections'\n\nimport { DBC } from './DBC'\nimport { Helper } from './Helper'\nimport { DBC_Plan } from './DBC_Plan'\nimport { DB_Handler } from './DB_Handler'\nimport { OrmService } from '../services/orm-service';\nimport { Route } from \"../entity/Route\";\nimport {ImagesService} from \"../services/images-service\";\nimport {TranslationService} from \"../app/api/services/translation.service\";\n\n@Injectable()\nexport class DB_Updater {\n    constructor(\n        private ormService: OrmService,\n        private helper: Helper,\n        private imageService: ImagesService,\n        private translationService: TranslationService\n    ) {\n    }\n\n    /*\n      Compare online and offline table versions and update if necessary\n      14.05.2018 - Do not sync the tasks table anymore! (Gurjanow)\n    */\n    public async checkForUpdates() {\n        let dbHandler = DB_Handler.getInstance()\n        await dbHandler.ready();\n        let db = dbHandler.getDB();\n        let data = await this.helper.invokeApi('getVersionsV2'); // Gets table versions for mcm_route and mcm_rel_route_task\n        if (!data) {\n            return;\n        }\n        console.log(\"WAITING FOR offlineVersions\")\n        let offlineVersions = await dbHandler.getTableVersions()\n        console.log(\"OFFLINE versions\", offlineVersions)\n\n        // Create structure\n        let onlineVersions = new Collections.Dictionary<string, string>()\n        for (var i = 0; i < data.length; i++) {\n            let row = data[i]\n            let option = row[\"option\"]\n            let value = row[\"value\"]\n            onlineVersions.setValue(option, value)\n        }\n\n        // Compare\n        let sqlUpdateQuery = `UPDATE ${DBC.DATABASE_TABLE_STATE} SET ${DBC.DB_STATE.fields[2]} = ? WHERE ${DBC.DB_STATE.fields[1]} = ?`\n        if (Number(offlineVersions.getValue(\"version_route\")) < Number(onlineVersions.getValue(\"version_route\"))) {\n            // load routes with flags which need to be restored\n            let downloadedRoutes = await this.ormService.getDownloadedRoutes();\n            let unlockedRoutes = await this.ormService.getUnlockedRoutes();\n            let completedRoutes = await this.ormService.getCompletedRoutes();\n\n            // Routes need update\n            await this.insertJSONinSQLiteDB(await this.helper.invokeApi('getRoutes'), DBC.DB_ROUTE);\n\n            // Update local table\n            await db.executeSql(sqlUpdateQuery,\n                [\n                    onlineVersions.getValue(\"version_route\"),\n                    \"version_route\"\n                ]);\n            let routesToSave = [];\n            let alreadyVisitedIds = {};\n            for (let oldRoute of downloadedRoutes.concat(unlockedRoutes).concat(completedRoutes)) {\n                if (alreadyVisitedIds[oldRoute.id]) {\n                    // this id has already been visited\n                    continue;\n                }\n                let newRoute = await this.ormService.findRouteById(oldRoute.id);\n                if (newRoute) {\n                    newRoute.downloaded = oldRoute.downloaded;\n                    newRoute.downloadedDate = oldRoute.downloadedDate;\n                    newRoute.completedDate = oldRoute.completedDate;\n                    newRoute.unlocked = oldRoute.unlocked;\n                    newRoute.completed = oldRoute.completed;\n                    alreadyVisitedIds[oldRoute.id] = true;\n                    // Delete local cache of translations for route\n                    await this.translationService.removeTranslations(newRoute.code);\n\n                    //Checks if the mapVersion is outdated, if so, downloads the zip file again\n                    if(newRoute.downloaded && Number(newRoute.mapVersion)>Number(oldRoute.mapVersion)){\n                        await this.imageService.downloadAndUnzip(newRoute, ()=>{}, ()=>{});\n                    }\n\n                    routesToSave.push(newRoute);\n                }\n            }\n            let repo = await this.ormService.getRouteRepository();\n            await repo.save(routesToSave);\n            console.log(\"UPDATED VERSION!\", \"version_route\");\n        }\n        // if (Number(offlineVersions.getValue(\"version_rel_route_task\")) < Number(onlineVersions.getValue(\"version_rel_route_task\"))) {\n            // Relation needs update\n            await this.insertJSONinSQLiteDB(await this.helper.invokeApi('getRelations'), DBC.DB_RELROUTETASK);\n            // Update local table\n            console.log(\"UPDATING version_rel_route_task VERSION!\", onlineVersions.getValue(\"version_rel_route_task\"))\n            await db.executeSql(sqlUpdateQuery,\n                [\n                    onlineVersions.getValue(\"version_rel_route_task\"),\n                    \"version_rel_route_task\"\n                ]);\n            console.log(\"UPDATED VERSION!\", \"version_rel_route_task\")\n        // }\n    }\n\n    /*\n      Get Rows in JSON form and a table definition\n      Inserts Data from MYSQL online (represented as JSON) into sqlite database of app\n    */\n    private async insertJSONinSQLiteDB(data: any, table: DBC_Plan) {\n        if(table === DBC.DB_RELROUTETASK) {\n            console.log('Debug here DB_TASK');\n        }\n        let sqlInsertQry = `INSERT INTO ${table.getTableName()} ${table.getFieldsInScopes()} VALUES ${table.getFieldsPlaceholders()};`\n        let sqlReplaceIntoQry = `REPLACE INTO ${table.getTableName()} ${table.getFieldsInScopes()} VALUES ${table.getFieldsPlaceholders()};`\n        let dbh = DB_Handler.getInstance()\n        let db = dbh.getDB();\n        if(table.getTableName() !== DBC.DATABASE_TABLE_TASK){\n            await db.executeSql(`DELETE FROM ${table.getTableName()}`, null)\n        }\n        await db.transaction(tr => {\n            let entryCount = table === DBC.DB_TASK ? data.tasks.length : data.length;\n            for (let i = 0; i < entryCount; i++) {\n                let row =  table === DBC.DB_TASK ? data.tasks[i] : data[i]\n                let params = []\n                for (let n = 1; n <= table.fieldsCount; n++) {\n                    // Check which data type is used in table > choose right bind\n                    if (table.fieldsType[n - 1] === \"INTEGER\") {\n                        // integer\n                        // params.push(n)\n                        params.push(isNaN(Number(row[table.fields[n - 1]])) ? null : Number(row[table.fields[n - 1]]))\n                    } else if (table.fieldsType[n - 1] === \"VARCHAR\"\n                        || table.fieldsType[n - 1] === \"TEXT\"\n                        || table.fieldsType[n - 1] === \"TIMESTAMP\") {\n                        // params.push(n)\n                        params.push(row[table.fields[n - 1]])\n                    } else {\n                        console.warn(\"Caution: Datatype not Integer, Varchar or Text!\");\n                    }\n                }\n                if(table.getTableName() !== DBC.DATABASE_TABLE_TASK){\n                    tr.executeSql(sqlInsertQry, params)\n                }\n                else{\n                    // For tasks: Replace rows when refreshing the trail\n                    tr.executeSql(sqlReplaceIntoQry, params)\n                }\n            }\n            if (table === DBC.DB_TASK) {\n                // We add subtasks here;\n                let subCounters = [\n                    {entry: \"supporttasks\", count: data['supporttasks'].length},\n                    {entry: \"subtasksV2\", count: data['subtasksV2'].length}\n                ];\n                console.log('Doing the subcounters', subCounters);\n                console.log('For Data', data);\n                for (let counter of subCounters) {\n                    console.log('parsing '+ counter.entry, data[counter.entry]);\n                    for (let i = 0; i < counter.count; i++) {\n                        let row =  data[counter.entry][i];\n                        let params = [];\n                        for (let n = 1; n <= table.fieldsCount; n++) {\n                            // Check which data type is used in table > choose right bind\n                            if (table.fieldsType[n - 1] === \"INTEGER\") {\n                                // integer\n                                // params.push(n)\n                                if (table.fields[n - 1] === '_id') {\n                                    params.push(Number(row[table.fields[n - 1]]))\n                                } else if (row[table.fields[n - 1]]) {\n                                    params.push(Number(row[table.fields[n - 1]]))\n                                } else {\n                                    params.push(0);\n                                }\n                            } else if (table.fieldsType[n - 1] === \"VARCHAR\"\n                                || table.fieldsType[n - 1] === \"TEXT\"\n                                || table.fieldsType[n - 1] === \"TIMESTAMP\") {\n                                // params.push(n)\n                                if (row[table.fields[n - 1]]) {\n                                    params.push(row[table.fields[n - 1]])\n                                } else {\n                                    params.push(\"\");\n                                }\n                            } else {\n                                console.warn(\"Caution: Datatype not Integer, Varchar or Text!\");\n                            }\n                        }\n                        if(table.getTableName() !== DBC.DATABASE_TABLE_TASK){\n                            tr.executeSql(sqlInsertQry, params)\n                        }\n                        else{\n                            // For tasks: Replace rows when refreshing the trail\n                            tr.executeSql(sqlReplaceIntoQry, params)\n                        }\n                    }\n                }\n            }\n        }).catch(error => {\n            console.error(`Transaction Error: ${error.toString()}`)\n        })\n    }\n\n    /*\n    Gets table data for a given route via API call \"downloadTrail\"\n     */\n    public async downloadRouteTasksData(route: Route, lang_code: string){\n        let user_id = 0;\n        let postparams = \"&route_id=\" + route.id + \"&user_id=\" + user_id + \"&lang_code=\" + lang_code;\n        await this.insertJSONinSQLiteDB(await this.helper.invokeApi('downloadTrailV2', postparams), DBC.DB_TASK);\n        // refresh the tasks\n        route.tasks = await (await OrmService.INSTANCE.findRouteById(route.id)).getTasks();\n    }\n\n    /*\n     Gets table data updates for a given route via API call \"updateTrail\"\n     */\n    public async updateRouteTasksData(route: Route, lang_code: string){\n        if(this.helper.isOnline){\n            let user_id = 0;\n            let postparams = \"&route_id=\" + route.id + \"&user_id=\" + user_id + \"&lang_code=\" + lang_code;\n            await this.insertJSONinSQLiteDB(await this.helper.invokeApi('updateTrailV2', postparams), DBC.DB_TASK);\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/classes/DB_Updater.ts","import { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Platform } from 'ionic-angular';\nimport { Globalization } from '@ionic-native/globalization';\nimport { checkAvailability } from '@ionic-native/core';\nimport { Storage } from '@ionic/storage';\n\n@Injectable()\nexport class LanguageService {\n    private isInitialized = false;\n    private initializeListeners = [];\n\n    private static STORAGE_KEY = 'LanguageService.lang';\n    private availableLanguages = [\"en\", \"de\", \"it\", \"fr\", \"es\", \"pl\", \"pt\", \"sk\", \"tr\", \"zh\", \"el\", \"id\", \"et\", \"is\"];\n\n    constructor(private translateService: TranslateService, private platform: Platform,\n                private globalization: Globalization, private storage: Storage) {\n    }\n\n    getAvailableLanguages(): string[] {\n        return this.availableLanguages;\n    }\n\n    async initialize() {\n        if (this.isInitialized) {\n            return Promise.resolve();\n        }\n        if (this.initializeListeners.length > 0) {\n            // a parallel call has already been started\n            return new Promise(success => {\n                this.initializeListeners.push(success);\n            });\n        }\n        return new Promise(async success => {\n            let defaultLang = 'en';\n            this.translateService.setDefaultLang(defaultLang);\n            this.initializeListeners.push(success);\n            await this.platform.ready();\n            let lang = await this.storage.get(LanguageService.STORAGE_KEY);\n            if (!lang && checkAvailability(Globalization.getPluginRef(), null, Globalization.getPluginName()) === true) {\n                // no previous language found -> get device language\n                try {\n                    let preferredLanguage = await this.globalization.getPreferredLanguage();\n                    if (preferredLanguage && preferredLanguage.value) {\n                        lang = preferredLanguage.value;\n                        if (lang.indexOf('-') > -1) {\n                            lang = lang.split('-')[0];\n                        }\n                        if (lang.indexOf('_') > -1) {\n                            lang = lang.split('_')[0];\n                        }\n                        lang = lang.toLowerCase();\n                        if (this.availableLanguages.indexOf(lang) == -1) {\n                            // detected language is not available\n                            lang = null;\n                        }\n                    }\n                } catch (e) {\n                }\n            }\n            if (!lang) {\n                lang = defaultLang;\n            }\n            await this.translateService.use(lang);\n\n            setTimeout(() => {\n                // use timeout to let language switch propagate\n                this.isInitialized = true;\n                this.initializeListeners.map(success => {\n                    success();\n                });\n                this.initializeListeners = null;\n            }, 100);\n        });\n    }\n\n    async getLanguage(): Promise<string> {\n        return this.translateService.currentLang;\n    }\n\n    async setLanguage(lang: string) {\n        this.translateService.use(lang);\n        await this.storage.set(LanguageService.STORAGE_KEY, lang);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/language-service.ts","import { Injectable } from \"@angular/core\";\n\ndeclare var Hammer;\n\n//FIXME Can probably be removed, disabled for now since it's better to use the native accessibility zoom feature of device\n\n@Injectable()\nexport class ZoomService {\n    appFrameElement: HTMLElement;\n    lastScale = 1;\n    newScale = 1;\n    hammerManager: any;\n\n    constructor() {\n    }\n\n    init() {\n        this.appFrameElement = document.getElementById(\"app-frame\");\n        this.hammerManager = new Hammer.Manager(this.appFrameElement, {\n            recognizers: [\n                [Hammer.Pinch]\n            ]\n        });\n        let minZoom = 1\n        let maxZoom = 2;\n        this.hammerManager.on(\"pinch\", (event) => {\n            this.newScale = event.scale * this.lastScale;\n            if (this.newScale < minZoom) {\n                this.newScale = minZoom;\n            }\n            if (this.newScale > maxZoom) {\n                this.newScale = maxZoom;\n            }\n            let transform = `scale(${this.newScale})`;\n            this.appFrameElement.style.transform = transform;\n            this.appFrameElement.style.webkitTransform = transform;\n            this.fixIosDisplayAfterZoom();\n        });\n\n        this.hammerManager.on(\"pinchend pinchcancel\", (event) => {\n            this.lastScale = this.newScale;\n        })\n    }\n\n    resetZoom() {\n        // let transform = `scale(1)`;\n        // this.appFrameElement.style.transform = transform;\n        // this.appFrameElement.style.webkitTransform = transform;\n        // this.fixIosDisplayAfterZoom();\n        // this.lastScale = 1;\n    }\n\n    disableZooming() {\n        // this.resetZoom();\n        // this.hammerManager.get(\"pinch\").set({enable: false});\n    }\n\n    enableZooming() {\n        // this.hammerManager.get(\"pinch\").set({enable: true});\n    }\n\n    fixIosDisplayAfterZoom() {\n        // We reset the overflow of the container surrounding the zoomed frame so that iOS webview understands that he needs to calculate the scroll area again\n        // this.appFrameElement.parentElement.style.overflow = \"hidden\";\n        // setTimeout(() => {this.appFrameElement.parentElement.style.overflow = \"scroll\"});\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/zoom-service.ts","import {Component} from '@angular/core';\nimport { NavParams } from 'ionic-angular/navigation/nav-params';\nimport { MCMModalType } from '../../app/app.component';\nimport { ViewController } from 'ionic-angular/navigation/view-controller';\nimport {ModalController, Platform} from 'ionic-angular';\nimport { ImagesService } from '../../services/images-service';\nimport {MCMReportProblemModal} from \"../MCMReportProblemModal/MCMReportProblemModal\";\n\ndeclare var MathJax;\n\n@Component({\n    selector: 'mcm-icon-modal',\n    templateUrl:'./MCMIconModal.html',\n})\nexport class MCMIconModal{\n\n    title: string;\n    type: string;\n    imageUrl: string;\n    videoId: string;\n    message: string;\n    messages: string[];\n    taskDescription: string;\n    param: any;\n    modalType: MCMModalType;\n    linkyOptions: any;\n    buttons: any[];\n    gamificationEnabled: boolean = false;\n    narrativeEnabled: boolean = false;\n    score: string;\n    narrative: string;\n    iconPath: string;\n    taskCode: string;\n\n    windowWith: number;\n    videoWith: number;\n    videoHeight: number;\n\n    constructor(params: NavParams, private viewCtrl: ViewController, platform: Platform, public imagesService: ImagesService, public modalCtrl: ModalController) {\n        this.windowWith = platform.width();\n        this.videoWith = this.windowWith - 80;\n        this.videoHeight = this.videoWith * 0.7476923077;\n\n        if(!params.data.modalType){\n            console.warn(\"Please provide the modalType!\");\n        }else{\n            this.modalType = params.data.modalType;\n            this.buttons = params.data.buttons;\n            if(params.data.title){\n                if (params.data.title === 'hide') {\n                    this.title = undefined\n                } else {\n                    this.title = params.data.title;\n                }\n            }else{\n                switch (this.modalType){\n                    case MCMModalType.hint:\n                        this.title = \"a_btn_hint1\";\n                        break;\n                    case MCMModalType.error:\n                        this.title = \"a_alert_false_answer_title\";\n                        break;\n                    case MCMModalType.solved:\n                        this.title = \"a_alert_right_answer_title\";\n                        break;\n                    case MCMModalType.solvedLow:\n                        this.title = \"a_alert_right_answer_title_low\";\n                        break;\n                }\n            }\n            this.taskDescription = params.data.taskDescription;\n            this.message = params.data.message;\n            this.messages = params.data.messages;\n            this.taskCode = params.data.taskCode;\n            this.imageUrl = params.data.imageUrl;\n            this.type = params.data.type;\n            if (this.type == 'video' && this.message) {\n                let parts = this.message.split('v=');\n                if (parts.length == 2) {\n                    this.videoId = parts[1];\n                }\n            }\n        }\n        if(params.data.param){\n            this.param = params.data.param;\n        }\n        if(params.data.solution){\n            let sol = params.data.solution as Array<string>;\n            // let L: any; let K: any; let J: any; let H: any;\n            let variables = [\"L\", \"K\", \"J\", \"H\"];\n            if (!this.param) {\n                this.param = {};\n            }\n            for(let i = 0; i < sol.length; i++){\n                let currVar = variables[i];\n                this.param[currVar] = params.data.solution[i];\n            }\n        }\n        if(params.data.gamificationEnabled){\n            this.gamificationEnabled = params.data.gamificationEnabled;\n        }\n        if(params.data.narrativeEnabled){\n            this.narrativeEnabled = params.data.narrativeEnabled;\n        }\n        if(params.data.narrative) {\n            this.narrative = params.data.narrative;\n            switch (this.narrative) {\n                case 'pirates':\n                    this.iconPath = 'pirates/';\n                    break;\n                default:\n                    this.iconPath = '';\n            }\n        } else {\n            this.iconPath = '';\n        }\n        if(params.data.score){\n            this.score = params.data.score;\n        }\n\n        this.linkyOptions = {\n            replaceFn : function( match ) {\n                console.log( \"href = \", match.getAnchorHref() );\n                console.log( \"text = \", match.getAnchorText() );\n                return '<a href=\"'+match.getAnchorHref()+'\">' + match.getAnchorText() + '</a>';\n            }\n        }\n\n        // replace the ###KEY### in titles and messages\n        if (this.narrativeEnabled) {\n            for (var key in this.param) {\n                this.title = this.title.replace(\"###\"+key+\"###\", this.param[key]);\n                this.message = this.message.replace(\"###\"+key+\"###\", this.param[key]);\n            }\n        }\n    }\n\n    ionViewDidEnter() {\n        MathJax.typeset();\n    }\n\n    dismiss(backToMap?: boolean){\n        if(backToMap){\n            this.viewCtrl.dismiss({showMap: true});\n        }else{\n            this.viewCtrl.dismiss();\n        }\n    }\n\n    reportProblem() {\n        const feedbackOpenFunction = () => {\n            const problemReportModal = this.modalCtrl.create(MCMReportProblemModal, {\n                taskCode: this.taskCode\n            });\n            problemReportModal.present();\n        };\n        const confirmationModal = this.modalCtrl.create(MCMIconModal, {\n            type: 'text',\n            title: \"a_task_feedback_alert_title\",\n            message: \"a_task_feedback_alert_text\",\n            modalType: MCMModalType.general,\n            buttons: [\n                {\n                    title: 'a_alert_cancel',\n                    callback: () => {\n                        confirmationModal.dismiss();\n                    }\n                },\n                {\n                    title: 'a_alert_continue',\n                    callback: () => {\n                        feedbackOpenFunction();\n                        confirmationModal.dismiss();\n                    }\n                }\n            ]\n\n        }, {showBackdrop: true, enableBackdropDismiss: true});\n        confirmationModal.present();\n    }\n\n    protected readonly MCMModalType = MCMModalType;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/modals/MCMIconModal/MCMIconModal.ts","import {Column, Entity, JoinColumn, ManyToMany, ManyToOne, OneToMany, PrimaryGeneratedColumn} from \"typeorm\";\nimport { Route } from \"./Route\";\nimport { Helper } from '../classes/Helper';\nimport { Task2Route } from './Task2Route';\nimport { ImagesService } from '../services/images-service';\nimport {OrmService} from \"../services/orm-service\";\n\nexport enum TaskFormat {\n    DEFAULT = \"default\",\n    GROUP = \"taskgroup\",\n    SUBTASK = \"subtask\",\n    SUPPORT = \"supporttask\"\n}\n\n@Entity('mcm_task')\nexport class Task {\n// CREATE TABLE IF NOT EXISTS mcm_task (_id INTEGER PRIMARY KEY AUTOINCREMENT,user_id INTEGER NOT NULL,public VARCHAR (1) NOT NULL,lat VARCHAR (64) NOT NULL,lon VARCHAR (64) NOT NULL,title TEXT NOT NULL,description TEXT NOT NULL,image TEXT ,\n// solution_type TEXT NOT NULL,solution TEXT NOT NULL,hint1 TEXT ,hint2 TEXT ,hint3 TEXT ,assistive_equipment TEXT ,author TEXT ,mail TEXT ,grade VARCHAR (2) NOT NULL DEFAULT '13',tags TEXT ,timestamp TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n// solutionsample TEXT NOT NULL,attr TEXT ,create_date TIMESTAMP NOT NULL,lang_code VARCHAR (2))\n\n    @PrimaryGeneratedColumn({name: '_id'})\n    id: number;\n\n    @Column({name: 'user_id'})\n    userId: number;\n\n    @Column({length: 1})\n    public: string;\n\n    @Column()\n    lat: number;\n\n    @Column()\n    lon: number;\n\n    @Column()\n    title: string;\n\n    @Column()\n    description: string;\n\n    @Column()\n    image: string;\n\n    @Column({name: 'solution_type'})\n    solutionType: string;\n\n    @Column()\n    private solution: string;\n\n    @Column()\n    hint1: string;\n\n    @Column()\n    hint2: string;\n\n    @Column()\n    hint3: string;\n\n    @Column({name: 'assistive_equipment'})\n    private assistiveEquipment: string;\n\n    @Column()\n    author: string;\n\n    @Column()\n    mail: string;\n\n    @Column({length: 2})\n    grade: string;\n\n    @Column()\n    tags: string;\n\n    @Column({name: 'create_date'})\n    createDate: string;\n\n    @Column()\n    timestamp: string;\n\n    @Column()\n    attr: string;\n\n    @Column({name: 'solutionsample'})\n    private solutionSample: string;\n\n    @Column({name: 'lang_code'})\n    langCode: string;\n\n    /*\n    @Column()\n    visible: number;\n    */\n\n    @Column({name: 'position'})\n    position: number;\n\n    @Column({name: 'ar_link'})\n    arLink: string;\n\n    @Column()\n    code: string;\n\n    @ManyToMany(type => Route, route => route.tasks)\n    routes: Route[]\n\n    @OneToMany(type => Task2Route, task2Route => task2Route.task)\n    task2Routes: Task2Route[];\n\n    @ManyToOne(type => Task, task => task.subtasks)\n    @JoinColumn({name: 'parent_task_id'})\n    task_id: Task;\n\n    @Column({name: 'task_format'})\n    taskFormat: TaskFormat;\n\n    @Column({name: 'position_in_parent'})\n    positionInParent: number;\n\n    /**\n     * Use \"getLegitSubtasks\" function to fetch subtasks in Order to fetch Subtasks from outside to avoid running into corrupted Data\n     */\n    @OneToMany(type => Task, task => task.task_id)\n    private subtasks: Task[];\n\n    getImageURL(asRawString: boolean = false): string {\n        return ImagesService.INSTANCE.getOfflineURL(this.image, undefined, undefined, asRawString);\n    }\n\n    getSingleQuotedImageURL(): string {\n        return `'${this.getImageURL()}'`;\n    }\n\n    getImagesForDownload(): string[] {\n        let result = [];\n        // Add title image\n        if (this.image) {\n            result.push(this.image);\n        }\n        // Add sample solution image if available\n        let sampleSolutionImg = this.getSolutionSampleImgSrc();\n        if(sampleSolutionImg != \"\"){\n            result.push(sampleSolutionImg);\n        }\n        if (this.getLegitSubtasks()) {\n            for (let subtask of this.getLegitSubtasks()) {\n                result = result.concat(subtask.getImagesForDownload());\n            }\n        }\n        // Add hint images\n        return result.concat(this.getHints().filter(hint =>\n            hint.type == 'image' && hint.value && hint.value.trim()\n        ).map(hint => hint.value.trim()));\n    }\n\n    getSolutionOptionList(): Array<any> {\n        if (this.solutionType == 'multiple_choice') {\n            let multipleChoiceSolutionList = [];\n            let temp = Helper.safeJsonDecode(this.solution);\n\n            temp[0].forEach(element => {\n                multipleChoiceSolutionList.push({userChecked: false, rightAnswer: false, value: element});\n            });\n            temp[1].forEach(element => {\n                multipleChoiceSolutionList[element].rightAnswer = true;\n            });\n            console.log(multipleChoiceSolutionList);\n            return multipleChoiceSolutionList;\n        } else {\n            return Helper.safeJsonDecode(this.solution);\n        }\n    }\n\n    getSolution(): string {\n        let solution = Helper.safeJsonDecode(this.solution);\n        if (this.solutionType === \"vector_values\" || this.solutionType === \"vector_intervals\" || this.solutionType === 'set' || this.solutionType === 'blanks' || this.solutionType === 'fraction') {\n            return solution;\n        }\n        if (this.solutionType != 'multiple_choice') {\n            return solution[0];\n        } else {\n            let solutionArray = this.getSolutionOptionList();\n            let solutionText = \"\";\n            for (let i = 0; i < solutionArray.length; i++) {\n                if (solutionArray[i].rightAnswer) {\n                    if (solutionText != \"\") {\n                        solutionText = solutionText + \", \";\n                    }\n                    solutionText = solutionText + solutionArray[i].value;\n                }\n            }\n            return solutionText;\n        }\n    }\n\n    getSolutionList(): Array<number> {\n        let solution = Helper.safeJsonDecode(this.solution);\n        let results: Array<number> = [];\n        solution.forEach(element => {\n            results.push(+element);\n        });\n        return results;\n    }\n\n    /*\n    Returns details of gps task.\n    Keys:\n    task - type of gps task (e.g. centerTwo, centerThree, linearFx, square, lineNoDirection, lineDirection, triangle)\n    points - the number of points the user has to place to solve the task (also number of buttons to display on map)\n    setPoints - the number of points the author had to define in the web portal. The system needs to validate the solution\n    against these points.\n    point1 (point2, point3 ... etc.) - depending on the number of 'setPoints' there are [lat, lon] arrays saved behind the keys\n     */\n    getSolutionGpsValue(key: string): any {\n        if(this.solutionType == \"gps\"){\n            let solution = Helper.safeJsonDecode(this.solution);\n            return solution[key];\n        }\n        else{\n            return null;\n        }\n    }\n\n    getSolutionSample(): string {\n        if (this.solutionSample) {\n            let sample = Helper.safeJsonDecode(this.solutionSample);\n            if (sample.length > 0) {\n                return sample[0];\n            }\n        }\n        return \"\";\n    }\n\n    /*\n    Returns the src of sample solution image if provided, empty string if not\n     */\n    getSolutionSampleImgSrc(): string {\n        if(this.solutionSample){\n            let sample = Helper.safeJsonDecode(this.solutionSample);\n            if(sample.length > 0){\n                return (sample[1] != null) ? sample[1] : \"\";\n            }\n        }\n        else{\n            return \"\";\n        }\n    }\n\n    getAssistiveEquipment(): Array<string> {\n        if (this.assistiveEquipment) {\n            let json = Helper.safeJsonDecode(this.assistiveEquipment);\n            if (json == null) {\n                return new Array<string>();\n            }\n            return json;\n        } else {\n            return new Array<string>();\n        }\n    }\n\n    getHint(index: number) {\n        let hint = this.getHintObject(index);\n        if (hint) {\n            return hint;\n        }\n        return null;\n    }\n\n    hasHintMessage(index: number){\n        let hint = this.getHint(index);\n        if( !hint ) return;\n        else{\n            if( hint.value ) return true;\n            else return false;\n        }\n    }\n\n    getHintObject(index: number): Hint {\n        let hint: string;\n        switch (index) {\n            case 1:\n                hint = this.hint1;\n                break;\n            case 2:\n                hint = this.hint2;\n                break;\n            case 3:\n                hint = this.hint3;\n                break;\n        }\n        if (hint && hint.length > 0) {\n            let array = Helper.safeJsonDecode(hint);\n            if (array.length >= 2) {\n                return {\n                    type: array[0],\n                    value: array[1]\n                }\n            }\n        }\n        return null;\n    }\n\n    getHints(): Hint[] {\n        let result = [];\n        for (let i = 1; i <= 3; i++) {\n            let hint = this.getHintObject(i);\n            if (hint) {\n                result.push(hint);\n            }\n        }\n        return result;\n    }\n\n    isAttrObject(): boolean{\n        if(this.attr == null){\n            return false;\n        }\n        try {\n            JSON.parse(this.attr);\n        } catch (e) {\n            return false;\n        }\n        return true;\n    }\n\n    hasSideFacts(): boolean{\n        // make sure the attr field is available (old tasks dont have one)\n        if(!this.isAttrObject()){\n            return false;\n        }\n        let attr = Helper.safeJsonDecode(this.attr);\n        if(attr.hasOwnProperty('side_facts')){\n            let side_facts = attr.side_facts;\n            if(side_facts.hasOwnProperty('text')){\n               return side_facts.text != \"\";\n            }\n            else{\n                return false;\n            }\n        }\n        else{\n            return false;\n        }\n    }\n\n    getSideFactsText(): String{\n        if(this.hasSideFacts()){\n            let attr = Helper.safeJsonDecode(this.attr);\n            return attr.side_facts.text;\n        }\n        else{\n            return \"\";\n        }\n    }\n\n    /**\n     * Method to filter out legacy saved Supporttasks with unsupported ID\n     */\n    getLegitSubtasks(): Array<Task> {\n        const origin = this;\n        if (this.subtasks) {\n            return this.subtasks.filter((task) => {\n                return !task.id.toString().includes(origin.id.toString());\n            })\n        }\n        return null;\n    }\n\n    getSubtasksInOrder(): Array<Task> {\n        if (!this.subtasks) {\n            return null;\n        }\n        return this.getLegitSubtasks().sort((a, b) => {\n            if (a.positionInParent > b.positionInParent) return 1;\n            if (a.positionInParent < b.positionInParent) return -1;\n            return 0;\n        })\n    }\n}\n\nexport interface Hint {\n    type: string,\n    value: string\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/entity/Task.ts","import { Component } from '@angular/core';\nimport {IonicPage, NavController, Platform} from 'ionic-angular';\n\nimport { Helper } from '../../classes/Helper';\nimport { LanguageService } from '../../services/language-service';\n\n\n@IonicPage()\n@Component({\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n  public static nav: NavController;\n  tab1Root = 'DashboardPage';\n  tab2Root = 'RoutesListPage';\n  tab3Root = 'PortalPage';\n\n  constructor(private navCtrl: NavController,\n              private platform: Platform,\n              private languageService: LanguageService,\n              private helper: Helper) {\n    HomePage.nav = navCtrl;\n  }\n\n  async ionViewWillEnter() {\n    this.platform.ready().then(() => {\n        this.languageService.initialize().then(() => {\n            console.log('Platform is ready!');\n            if ((navigator as any).splashscreen) {\n                (navigator as any).splashscreen.hide();\n            }\n        });\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import * as L from 'leaflet';\nimport {LatLng, LatLngBounds} from 'leaflet';\nimport {checkAvailability} from '@ionic-native/core';\nimport {Injectable} from '@angular/core';\nimport {Headers, Http, RequestOptions} from '@angular/http';\nimport {GpsService} from '../services/gps-service';\nimport {Network} from '@ionic-native/network';\nimport {Platform} from 'ionic-angular';\nimport {Route} from '../entity/Route';\nimport {OrmService} from \"../services/orm-service\";\nimport {Storage} from \"@ionic/storage\";\nimport 'leaflet-geometryutil';\nimport {HttpClient} from \"@angular/common/http\";\nimport {MAPBOX_ACCESS_TOKEN, SERVER_REQUEST_PASS} from \"../env/env\";\n\nexport class MapTile {\n    constructor(private pZoomLevel: number, private pX: number, private pY: number\n    ) {\n    }\n\n    get x(): number {\n        return this.pX\n    }\n\n    get y(): number {\n        return this.pY\n    }\n\n    get zoomLevel(): number {\n        return this.pZoomLevel\n    }\n}\n\nexport enum ConnectionQuality {\n    FAST = 1,\n    SLOW,\n    BAD,\n    NONE\n}\n\n\n// FIXME CLEANUP UNUSED CODE AND VARIABLES\n@Injectable()\nexport class Helper {\n    public static INSTANCE: Helper;\n    /*\n      Intents #\n       */\n    static readonly MCM_PASS_TASK: string = \"mathcitymap.showTask\"\n    static readonly MCM_PARENT_ROUTELIST: string = \"mathcitymap.parentRouteList\"\n    static readonly MCM_ROUTELIST_PUBLIC: string = \"mathcitymap.parentRouteListPublic\"\n    static readonly MCM_OSM_LASTCENTER: string = \"mathcitymap.lastKnownCenterPoint\"\n    static readonly MCM_OSM_LASTZOOM: string = \"mathcitymap.lastZoom\"\n    static readonly MCM_OSM_GUIDESTATE: string = \"mathcitymap.osmGuideState\"\n    static readonly MCM_OSM_ONLINE: string = \"mathcitymap.osmOnlineMap\"\n    /*\n    INTENTS END ###\n     */\n\n\n    /*\n    SETTINGS #\n     */\n    static readonly NEAREST_DEFINTION: number = 10000 // in Meters\n    static readonly DISTANCE_TASK_DISPLAY: number = 50 // in Meters, the max distance to display the task\n    static readonly DISTANCE_TASKS_MULTIPLE: number = 15 // in Meters, if tapped on marker, look for near markers in max 10m distance, display multiple select box\n    static readonly ENABLE_DISTANCE_CHECK: boolean = false\n    static readonly routeImageUpdate: number = 0\n    static readonly gamification: number = 0 // 0 -> Keine, 1 -> Score, 2 -> Leaderbord, 3 -> Badges\n    static readonly max_score: number = 100\n    static readonly max_score_mc: number = 75\n    static readonly max_score_l: number = 99\n    static readonly min_score_l: number = 40\n    static readonly min_score_cap: number = 10\n    static readonly first_try_bonus: number = 10\n    static readonly first_start_bonus: number = 10\n    static readonly distance_bonus: number = 15\n    static readonly p_second_try: number = 5\n    static readonly p_third_try: number = 10\n    static readonly studie: boolean = false\n    static readonly updated_once: boolean = false\n    // Map Settings (also which tiles to download)\n    static readonly min_zoom: number = 15\n    static readonly max_zoom: number = 19\n\n    /*\n    SETTINGS END ###\n     */\n\n\n    /*\n    GLOBAL VARS #\n     */\n    // static readonly WEBSERVER_URL: string = \"https://mathcitymap.eu/\"\n    static readonly WEBSERVER_URL: string = \"https://dev.mathcitymap.eu/\"\n    // static readonly MEDIASERVER_BASE_URL: string = \"https://matismedia.eu\"\n    static readonly MEDIASERVER_BASE_URL: string = \"https://sb-medienserver.matismedia.eu\"\n    static readonly MEDIASERVER_IMAGE_URL: string = Helper.MEDIASERVER_BASE_URL + \"/storage/MCM/\";\n    // static readonly API_URL: string = \"/mcm-api/db_query_post.php\"\n    // static readonly API_URL: string = \"https://mathcitymap.eu/db_query_post.php\"\n    // static readonly API_URL: string = \"https://dev.mathcitymap.eu/db_query_post.php\"\n    static readonly API_URL: string = \"http://192.168.178.28/mcmmock/db_query_post.php\"\n    static readonly REQUEST_PASS: string = SERVER_REQUEST_PASS\n    static readonly REPLACE_TASK_IMAGE_PATH: string = \"mcm_images/tasks/\"\n    static readonly REPLACE_ROUTE_IMAGE_PATH: string = \"mcm_images/routes/\"\n    // public static ProgressDialog updater_dialog = null\n    static readonly mapCode: string = \"mapbox.streets\"\n    static readonly mapquestUrl = `https://{s}.tiles.mapbox.com/v4/${Helper.mapCode}/{z}/{x}/{y}@2x.png?&tilesize=256&access_token=${MAPBOX_ACCESS_TOKEN}`\n    static readonly subDomains = ['a', 'b', 'c', 'd'];\n\n    // public static OnlineTileSourceBase mbTileSource = new XYTileSource(\"MapBoxSatelliteLabelled\",\n    //         2, 20, 256, \".png\", new String[]{\n    //         \"http://a.tiles.mapbox.com/v4/\" + Helper.mapCode + \"/\",\n    //         \"http://b.tiles.mapbox.com/v4/\" + Helper.mapCode + \"/\",\n    //         \"http://c.tiles.mapbox.com/v4/\" + Helper.mapCode + \"/\",\n    //         \"http://d.tiles.mapbox.com/v4/\" + Helper.mapCode + \"/\"})\n    // {\n    //     @Override\n    //     public String getTileURLString(MapTile aTile) {\n    //         String str = super.getTileURLString(aTile) + \"?access_token=\" + Helper.accessToken\n    //         return str\n    //     }\n    // }\n    // public static User user = null\n    // public static Map<String, String> aiNamesMap = new HashMap<String, String>()\n    // public static Map<String, ArrayList<Integer>> oldScoreMap = new HashMap<String, ArrayList<Integer>>()\n    static readonly phone_id: string = \"\"\n    static readonly phone_name: string = \"\"\n    // public static Location myLocation = null\n    public static testLocation: any = null;\n    static readonly myAzimuth: number = 0.0\n    // public static HashMap<String, int[]> routeStates = new HashMap<String, int[]>()\n    // public static GoogleApiClient googleApiClient\n    static readonly REQUEST_LOCATION: number = 199\n    public isOnline: boolean = false;\n    public devModeEnabled: boolean = false;\n    static windowWidth: number = 0\n    static windowHeight: number = 0\n    static searchResults: number = 999\n\n    private activateAddRouteModal: boolean = false;\n\n    constructor(private http: Http, private gpsService: GpsService, private network: Network, private httpClient: HttpClient,\n                private platform: Platform, private ormService: OrmService, private storage: Storage) {\n        Helper.INSTANCE = this;\n        // noinspection JSIgnoredPromiseFromCall\n        this.init();\n    }\n\n    private async init() {\n        this.devModeEnabled = (await this.storage.get('devMode') === 'true');\n        await this.platform.ready();\n        this.isOnline = navigator.onLine;\n        console.info(`Connection status: ${this.isOnline}`);\n        Helper.windowWidth = this.platform.width();\n        Helper.windowHeight = this.platform.height();\n        this.network.onDisconnect().subscribe(() => {\n            console.info('Network disconnected!');\n            this.isOnline = false;\n        });\n\n        this.network.onConnect().subscribe(() => {\n            console.info('Network connected!');\n            this.isOnline = true;\n        });\n    }\n\n    public getDistanceToCenterByLatLng(latLng: LatLng): number {\n        if (!latLng) {\n            return 0;\n        }\n        return this.getDistanceToCenter(latLng.lat, latLng.lng);\n    }\n\n    public getDistanceToCenter(lat2: number, lon2: number): number {\n        let distance = -1;\n        let location = this.gpsService.getLastPosition();\n        if (location && location.coords) {\n            let lat1 = new Number(location.coords.latitude).valueOf();\n            let lon1 = new Number(location.coords.longitude).valueOf();\n            let R = 6371e3; // metres\n            let p = Math.PI / 180;\n            let 1 = lat1 * p;\n            let 2 = lat2 * p;\n            let  = (lat2 - lat1) * p;\n            let  = (lon2 - lon1) * p;\n\n            let a = Math.sin( / 2) * Math.sin( / 2) +\n                Math.cos(1) * Math.cos(2) *\n                Math.sin( / 2) * Math.sin( / 2);\n            let c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\n            distance = Math.round(R * c);\n        }\n\n        return distance;\n    }\n\n    public static safeJsonDecode(str: string): any {\n        return JSON.parse(str.replace(/(?:\\r\\n|\\r|\\n)/g, '\\\\n'));\n    }\n\n    // public static JSONArray getJSONArray(String arrString){\n    //   try{\n    //       JSONArray solutionList;\n    //       solutionList = new JSONArray(Html.fromHtml(arrString).toString());\n    //       return solutionList;\n    //   }catch(Exception e){\n    //       e.printStackTrace();\n    //       return null;\n    //   }\n    // }\n\n    public static getAngle(prev: any, curr: any) {\n        // angle in degrees\n        let angle = Math.atan2(curr.latitude - prev.latitude, prev.longitude - curr.longitude) * 180 / Math.PI + 270;\n        return angle;\n    }\n\n    /*public static followUser(bounds: L.Bounds, userPoint: L.Point, zoom: number){\n      let center = bounds.getCenter();\n\n      let dif: any;\n      let newCenter: any;\n\n      if(!bounds.contains(userPoint)){\n\n         if(userPoint.x > bounds.getTopRight().x){\n            dif = userPoint.x - bounds.getTopRight().x;\n            newCenter = L.point(center.x + dif, center.y);\n            return newCenter;\n          }\n          else if(userPoint.y > bounds.getBottomLeft().y){\n            dif = bounds.getBottomLeft().y - userPoint.y;\n            newCenter = L.point(center.x, center.y - dif);\n            return newCenter;\n          }\n         else if(userPoint.x < bounds.getBottomLeft().x){\n            dif = bounds.getBottomLeft().x - userPoint.x;\n            newCenter = L.point(center.x - dif, center.y);\n            return newCenter;\n          }\n          else if(userPoint.y < bounds.getTopRight().y){\n            dif = bounds.getTopRight().y - userPoint.y;\n            newCenter = L.point(center.x, center.y - dif);\n            return newCenter;\n          }\n         else return null;\n\n        }\n      }\n      */\n    public static isPluginAvailable(plugin: any) {\n        return !!checkAvailability(plugin.getPluginRef(), null, plugin.getPluginName());\n    }\n\n    public invokeApi(queryAction: string, postparams?: string, timeoutInSecs: number = 30): Promise<any> {\n        if (!this.isOnline) {\n            console.warn(\"No internet!\")\n            return new Promise<any>(resolve => resolve())\n        }\n\n        let headers = new Headers({\n            'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n        })\n        let options = new RequestOptions({headers: headers});\n        let data = \"pass=\" + encodeURI(Helper.REQUEST_PASS)\n            + \"&action=\" + encodeURI(queryAction)\n        if (postparams) {\n            data += postparams;\n        }\n\n        return new Promise<any>((resolve, reject) => {\n\n            let timeOutTimer = setTimeout(() => {\n                timeOutTimer = null;\n                console.log(`server query ${queryAction} timed out`);\n                reject('timeout')\n            }, timeoutInSecs * 1000);\n            this.http.post(Helper.API_URL, data, options)\n                .toPromise()\n                .then((response) => {\n                    if (timeOutTimer) {\n                        clearTimeout(timeOutTimer);\n                    } else {\n                        return;\n                    }\n                    console.log('API response: ', response.text().substr(0, 255))\n                    let resText = response.text()\n                    if (resText && resText.length > 0) {\n                        let tableRows = response.json()\n                        resolve(tableRows);\n                    } else {\n                        reject('no response from server');\n                    }\n                })\n                .catch((error) => {\n                    if (timeOutTimer) {\n                        clearTimeout(timeOutTimer);\n                    } else {\n                        return;\n                    }\n                    console.error('API error(status): ', error.status)\n                    console.error('API error: ', JSON.stringify(error))\n\n                    reject(JSON.stringify(error))\n                })\n        })\n    }\n\n    public async checkConnection(): Promise<ConnectionQuality> {\n        if (!this.isOnline) {\n            return ConnectionQuality.NONE;\n        }\n        try {\n            let before = new Date();\n            await this.invokeApi('getVersionsV2', null, 2);\n            let after = new Date();\n            let diff = after.getTime() - before.getTime();\n            if (diff < 1000) {\n                return ConnectionQuality.FAST;\n            } else {\n                return ConnectionQuality.SLOW;\n            }\n        } catch (e) {\n            return ConnectionQuality.BAD;\n        }\n    }\n\n    public async setDevMode(value: string) {\n        await this.storage.set('devMode', value);\n        this.devModeEnabled = (value === 'true')\n    }\n\n    public getDevMode() {\n        return this.devModeEnabled;\n    }\n\n    public setActivateAddRoute(value: boolean) {\n        this.activateAddRouteModal = value;\n    }\n\n    public getActivateAddRoute(): boolean {\n        return this.activateAddRouteModal;\n    }\n\n    public async calculateProgress(route: Route) {\n        let totalTasks = await route.getTaskCount();\n        let score = route.getScoreForUser(await this.ormService.getActiveUser());\n        let currentProgress = 0;\n        if (route.isAnswerFeedbackEnabled()) {\n            currentProgress = score.getTasksSolved().length + score.getTasksSolvedLow().length + score.getTasksFailed().length;\n        } else {\n            currentProgress = score.getTasksSaved().length;\n        }\n        return {totalTasks: totalTasks, currentProgress: currentProgress};\n    }\n\n    public static calculateZoom(bounds: LatLngBounds){\n\n        if (!bounds) {\n            return {min_zoom: 15, max_zoom: 18};\n        }\n        let width = (L as any).GeometryUtil.length([bounds.getSouthWest(), bounds.getSouthEast()]);\n        let height = (L as any).GeometryUtil.length([bounds.getNorthWest(), bounds.getSouthWest()]);\n\n        let area = (width/1000) * (height/1000);\n\n        console.log(\"####Area = \", width/1000, height/1000, area);\n\n\n        if(area <= 0.4) {\n            return {min_zoom: 16, max_zoom: 20};\n        }\n        else if(area <= 1.5) {\n            return {min_zoom: 16, max_zoom: 19};\n        }\n        else return {min_zoom: 15, max_zoom: 18};\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/classes/Helper.ts","/* tslint:disable */\nimport { Injectable } from '@angular/core';\nimport {\n  HttpClient, HttpRequest, HttpResponse,\n  HttpHeaders, HttpParams } from '@angular/common/http';\nimport { BaseService } from '../base-service';\nimport { ApiConfiguration } from '../api-configuration';\nimport { Observable } from 'rxjs/Observable';\nimport { map } from 'rxjs/operators/map';\nimport { filter } from 'rxjs/operators/filter';\n\nimport { Session } from '../models/session';\nimport { SessionCreateRequest } from '../models/session-create-request';\nimport { SessionUpdateRequest } from '../models/session-update-request';\nimport { SessionUser } from '../models/session-user';\nimport { JoinSessionRequest } from '../models/join-session-request';\nimport { SessionUsersResponse } from '../models/session-users-response';\nimport { SessionUserResponse } from '../models/session-user-response';\n\n\n@Injectable()\nexport class SessionService extends BaseService {\n  constructor(\n    config: ApiConfiguration,\n    http: HttpClient\n  ) {\n    super(config, http);\n  }\n\n\n  /**\n   * @param sessionCreateRequest session data\n   * @return Return created session\n   */\n\n  createSessionResponse(sessionCreateRequest: SessionCreateRequest): Observable<HttpResponse<Session>> {\n    let __params = new HttpParams();\n    let __headers = new HttpHeaders();\n    let __body: any = null;\n    __body = sessionCreateRequest;\n    let req = new HttpRequest<any>(\n      \"POST\",\n      this.rootUrl + `/session`,\n      __body,\n      {\n        headers: __headers,\n        params: __params,\n        responseType: 'json'\n      });\n\n    return this.http.request<any>(req).pipe(\n      filter(_r => _r instanceof HttpResponse),\n      map(_r => {\n        let _resp = _r as HttpResponse<any>;\n        let _body: Session = null;\n        _body = _resp.body as Session\n        return _resp.clone({body: _body}) as HttpResponse<Session>;\n      })\n    );\n  }\n\n\n  /**\n   * @param sessionCreateRequest session data\n   * @return Return created session\n   */\n\n  createSession(sessionCreateRequest: SessionCreateRequest): Observable<Session> {\n    return this.createSessionResponse(sessionCreateRequest).pipe(\n      map(_r => (<any>_r).body)\n    );\n  }\n\n\n  /**\n   * @param params The `SessionService.UpdateSessionParams` containing the following parameters:\n   *\n   * - `sessionUpdateRequest`: session data\n   *\n   * - `sessionCode`: The session Code to join\n   *\n   * @return Return updated Session\n   */\n\n  updateSessionResponse(params: SessionService.UpdateSessionParams): Observable<HttpResponse<Session>> {\n    let __params = new HttpParams();\n    let __headers = new HttpHeaders();\n    let __body: any = null;\n    __body = params.sessionUpdateRequest;\n\n    let req = new HttpRequest<any>(\n      \"PUT\",\n      this.rootUrl + `/session/${params.sessionCode}`,\n      __body,\n      {\n        headers: __headers,\n        params: __params,\n        responseType: 'json'\n      });\n\n    return this.http.request<any>(req).pipe(\n      filter(_r => _r instanceof HttpResponse),\n      map(_r => {\n        let _resp = _r as HttpResponse<any>;\n        let _body: Session = null;\n        _body = _resp.body as Session\n        return _resp.clone({body: _body}) as HttpResponse<Session>;\n      })\n    );\n  }\n\n\n  /**\n   * @param params The `SessionService.UpdateSessionParams` containing the following parameters:\n   *\n   * - `sessionUpdateRequest`: session data\n   *\n   * - `sessionCode`: The session Code to join\n   *\n   * @return Return updated Session\n   */\n\n  updateSession(params: SessionService.UpdateSessionParams): Observable<Session> {\n    return this.updateSessionResponse(params).pipe(\n      map(_r => (<any>_r).body)\n    );\n  }\n\n\n  /**\n   * @param sessionCode The session Code to join\n   */\n\n  deleteSessionResponse(sessionCode: string): Observable<HttpResponse<void>> {\n    let __params = new HttpParams();\n    let __headers = new HttpHeaders();\n    let __body: any = null;\n\n    let req = new HttpRequest<any>(\n      \"DELETE\",\n      this.rootUrl + `/session/${sessionCode}`,\n      __body,\n      {\n        headers: __headers,\n        params: __params,\n        responseType: 'text'\n      });\n\n    return this.http.request<any>(req).pipe(\n      filter(_r => _r instanceof HttpResponse),\n      map(_r => {\n        let _resp = _r as HttpResponse<any>;\n        let _body: void = null;\n\n        return _resp.clone({body: _body}) as HttpResponse<void>;\n      })\n    );\n  }\n\n\n  /**\n   * @param sessionCode The session Code to join\n   */\n\n  deleteSession(sessionCode: string): Observable<void> {\n    return this.deleteSessionResponse(sessionCode).pipe(\n      map(_r => (<any>_r).body)\n    );\n  }\n\n\n  /**\n   * @param params The `SessionService.JoinSessionParams` containing the following parameters:\n   *\n   * - `sessionCode`: The session Code to join\n   *\n   * - `request`: Join Session Request\n   *\n   * @return Returns a SessionUser object\n   */\n\n  joinSessionResponse(params: SessionService.JoinSessionParams): Observable<HttpResponse<SessionUser>> {\n    let __params = new HttpParams();\n    let __headers = new HttpHeaders();\n    let __body: any = null;\n\n    __body = params.request;\n    let req = new HttpRequest<any>(\n      \"POST\",\n      this.rootUrl + `/session/join/${params.sessionCode}`,\n      __body,\n      {\n        headers: __headers,\n        params: __params,\n        responseType: 'json'\n      });\n\n    return this.http.request<any>(req).pipe(\n      filter(_r => _r instanceof HttpResponse),\n      map(_r => {\n        let _resp = _r as HttpResponse<any>;\n        let _body: SessionUser = null;\n        _body = _resp.body as SessionUser\n        return _resp.clone({body: _body}) as HttpResponse<SessionUser>;\n      })\n    );\n  }\n\n\n  /**\n   * @param params The `SessionService.JoinSessionParams` containing the following parameters:\n   *\n   * - `sessionCode`: The session Code to join\n   *\n   * - `request`: Join Session Request\n   *\n   * @return Returns a SessionUser object\n   */\n\n  joinSession(params: SessionService.JoinSessionParams): Observable<SessionUser> {\n    return this.joinSessionResponse(params).pipe(\n      map(_r => (<any>_r).body)\n    );\n  }\n\n\n  /**\n   * @param sessionId Session ID\n   * @return Returns requested Session\n   */\n\n  getSessionResponse(sessionId: number): Observable<HttpResponse<Session>> {\n    let __params = new HttpParams();\n    let __headers = new HttpHeaders();\n    let __body: any = null;\n\n    let req = new HttpRequest<any>(\n      \"GET\",\n      this.rootUrl + `/session/${sessionId}`,\n      __body,\n      {\n        headers: __headers,\n        params: __params,\n        responseType: 'json'\n      });\n\n    return this.http.request<any>(req).pipe(\n      filter(_r => _r instanceof HttpResponse),\n      map(_r => {\n        let _resp = _r as HttpResponse<any>;\n        let _body: Session = null;\n        _body = _resp.body as Session\n        return _resp.clone({body: _body}) as HttpResponse<Session>;\n      })\n    );\n  }\n\n\n  /**\n   * @param sessionId Session ID\n   * @return Returns requested Session\n   */\n\n  getSession(sessionId: number): Observable<Session> {\n    return this.getSessionResponse(sessionId).pipe(\n      map(_r => (<any>_r).body)\n    );\n  }\n\n\n  /**\n   * @param code Code\n   * @return Returns requested Session\n   */\n\n  getSessionByCodeResponse(code: string): Observable<HttpResponse<Session>> {\n    let __params = new HttpParams();\n    let __headers = new HttpHeaders();\n    let __body: any = null;\n\n    let req = new HttpRequest<any>(\n      \"GET\",\n      this.rootUrl + `/session/code/${code}`,\n      __body,\n      {\n        headers: __headers,\n        params: __params,\n        responseType: 'json'\n      });\n\n    return this.http.request<any>(req).pipe(\n      filter(_r => _r instanceof HttpResponse),\n      map(_r => {\n        let _resp = _r as HttpResponse<any>;\n        let _body: Session = null;\n        _body = _resp.body as Session\n        return _resp.clone({body: _body}) as HttpResponse<Session>;\n      })\n    );\n  }\n\n\n  /**\n   * @param code Code\n   * @return Returns requested Session\n   */\n\n  getSessionByCode(code: string): Observable<Session> {\n    return this.getSessionByCodeResponse(code).pipe(\n      map(_r => (<any>_r).body)\n    );\n  }\n\n\n  /**\n   * @param sessionCode Session Code\n   * @return Returns a list of SessionUsers\n   */\n\n  getSessionUsersResponse(sessionCode: string): Observable<HttpResponse<SessionUsersResponse>> {\n    let __params = new HttpParams();\n    let __headers = new HttpHeaders();\n    let __body: any = null;\n\n    let req = new HttpRequest<any>(\n      \"GET\",\n      this.rootUrl + `/session/${sessionCode}/users`,\n      __body,\n      {\n        headers: __headers,\n        params: __params,\n        responseType: 'json'\n      });\n\n    return this.http.request<any>(req).pipe(\n      filter(_r => _r instanceof HttpResponse),\n      map(_r => {\n        let _resp = _r as HttpResponse<any>;\n        let _body: SessionUsersResponse = null;\n        _body = _resp.body as SessionUsersResponse\n        return _resp.clone({body: _body}) as HttpResponse<SessionUsersResponse>;\n      })\n    );\n  }\n\n\n  /**\n   * @param sessionCode Session Code\n   * @return Returns a list of SessionUsers\n   */\n\n  getSessionUsers(sessionCode: string): Observable<SessionUsersResponse> {\n    return this.getSessionUsersResponse(sessionCode).pipe(\n      map(_r => (<any>_r).body)\n    );\n  }\n\n\n  /**\n   * @param params The `SessionService.GetSessionAdminParams` containing the following parameters:\n   *\n   * - `userToken`: requesting user token\n   *\n   * - `sessionCode`: Session Code\n   *\n   * @return Get session admin\n   */\n\n  getSessionAdminResponse(params: SessionService.GetSessionAdminParams): Observable<HttpResponse<SessionUserResponse>> {\n    let __params = new HttpParams();\n    let __headers = new HttpHeaders();\n    let __body: any = null;\n\n\n    let req = new HttpRequest<any>(\n      \"GET\",\n      this.rootUrl + `/session/${params.sessionCode}/user/${params.userToken}/admin`,\n      __body,\n      {\n        headers: __headers,\n        params: __params,\n        responseType: 'json'\n      });\n\n    return this.http.request<any>(req).pipe(\n      filter(_r => _r instanceof HttpResponse),\n      map(_r => {\n        let _resp = _r as HttpResponse<any>;\n        let _body: SessionUserResponse = null;\n        _body = _resp.body as SessionUserResponse\n        return _resp.clone({body: _body}) as HttpResponse<SessionUserResponse>;\n      })\n    );\n  }\n\n\n  /**\n   * @param params The `SessionService.GetSessionAdminParams` containing the following parameters:\n   *\n   * - `userToken`: requesting user token\n   *\n   * - `sessionCode`: Session Code\n   *\n   * @return Get session admin\n   */\n\n  getSessionAdmin(params: SessionService.GetSessionAdminParams): Observable<SessionUserResponse> {\n    return this.getSessionAdminResponse(params).pipe(\n      map(_r => (<any>_r).body)\n    );\n  }\n}\n\nexport module SessionService {\n  export interface UpdateSessionParams {\n    sessionUpdateRequest: SessionUpdateRequest;\n    sessionCode: string;\n  }\n  export interface JoinSessionParams {\n    sessionCode: string;\n    request: JoinSessionRequest;\n  }\n  export interface GetSessionAdminParams {\n    userToken: string;\n    sessionCode: string;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/api/services/session.service.ts","import {\n    Column,\n    Entity,\n    JoinColumn,\n    ManyToOne,\n    PrimaryGeneratedColumn,\n} from 'typeorm';\nimport { Task } from './Task';\nimport { Route } from './Route';\nimport {OrmService} from \"../services/orm-service\";\n\n@Entity('mcm_rel_route_task')\nexport class Task2Route {\n// CREATE TABLE IF NOT EXISTS mcm_rel_route_task (_id INTEGER PRIMARY KEY AUTOINCREMENT,route_id INTEGER (64) NOT NULL,task_id INTEGER (64) NOT NULL,timestamp TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP)\n  @PrimaryGeneratedColumn({name: '_id'})\n  id: number;\n\n    @Column({name: 'force_support_tasks'})\n    forceSupportTask: number;\n\n  @ManyToOne(type => Route, route => route.task2Routes)\n  @JoinColumn({name: 'route_id', referencedColumnName: 'id'})\n  route: Route;\n\n  @ManyToOne(type => Task, task => task.task2Routes, {eager: true})\n  @JoinColumn({name: 'task_id', referencedColumnName: 'id'})\n  task: Task;\n\n  async getTaskWithSubtasks() {\n      if (!this.task) {\n          return false;\n      }\n      let repo = await OrmService.INSTANCE.getTaskRepository()\n      return  await repo.createQueryBuilder(\"tasks\")\n          .where({id: this.task.id})\n          .leftJoinAndSelect(\"tasks.subtasks\", \"subtasks\")\n          .getOne();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/entity/Task2Route.ts","export const SERVER_REQUEST_PASS = \"evilknivel2k16\"\nexport const MAPBOX_ACCESS_TOKEN = \"pk.eyJ1IjoiaWd1cmphbm93IiwiYSI6ImNpdmIyNnk1eTAwNzgyenBwajhnc2tub3cifQ.dhXaJJHqLj0_thsU2qTxww\"\n\n\n\n// WEBPACK FOOTER //\n// ./src/env/env.ts","import { NgModule } from '@angular/core';\nimport { McmImageComponent } from './mcm-image/mcm-image';\nimport { IonicModule } from 'ionic-angular';\n\nimport { MCMHeaderComponent } from './mcm-header/mcm-header.component';\n\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DistancePipe } from '.././app/pipes/distance.pipe';\nimport { SearchPipe} from \".././app/pipes/search.pipe\";\nimport { MCMProgressBarComponent } from './mcm-progress-bar/mcm-progress-bar';\nimport { PhotoViewer } from '@ionic-native/photo-viewer';\nimport { LazyLoadImagesDirective } from '../directives/ngx-lazy-load-images.directive';\n\nimport { RouteTeaserComponent } from \"./route-teaser/route-teaser\";\nimport {LocalizedDatePipe} from \"../app/pipes/localDate.pipe\";\nimport {LinkHttpsPipe} from '../app/pipes/linkHttps.pipe';\n\nconst components = [\n    MCMHeaderComponent,\n    DistancePipe,\n    SearchPipe,\n    LocalizedDatePipe,\n    LinkHttpsPipe,\n    MCMProgressBarComponent,\n\tMcmImageComponent,\n    LazyLoadImagesDirective\n]\n\n@NgModule({\n\tdeclarations: [components, RouteTeaserComponent],\n\timports: [IonicModule,\n        TranslateModule],\n\texports: [components, TranslateModule, RouteTeaserComponent],\n    providers: [PhotoViewer]\n})\nexport class ComponentsModule {\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/components.module.ts","import { Entity, PrimaryGeneratedColumn, Column, JoinColumn, ManyToOne } from \"typeorm\";\nimport { Route } from \"./Route\";\nimport { TaskState } from \"./TaskState\";\n\n@Entity ('mcm_score')\nexport class Score {\n    @PrimaryGeneratedColumn({name: '_id'})\n    id: number;\n\n    @Column({name: 'user_id'})\n    userId: number;\n\n    @ManyToOne(type => Route, route => route.scores)\n    @JoinColumn({name: 'route_id', referencedColumnName: 'id'})\n    route: Route;\n\n    @Column()\n    score: number;\n\n    @Column({name: 'tasks_solved'})\n    private tasksSolved: string = '[]';\n\n    @Column({name: 'tasks_solved_low'})\n    private tasksSolvedLow: string = '[]';\n\n    @Column({name: 'tasks_failed'})\n    private tasksFailed: string = '[]';\n\n    @Column({name: 'tasks_saved'})\n    private tasksSaved: string = '[]';\n\n    @Column({name: 'groups_finished'})\n    private groupsFinished: string = '[]';\n\n    @Column({name: 'task_details'})\n    private taskDetails: string = '[]';\n\n    @Column()\n    time: number;\n\n    @Column()\n    distance: number;\n\n\n\n\n    setTasksSolved(taskIds: Array<number>){\n        this.tasksSolved = JSON.stringify(taskIds);\n    }\n\n    addSolvedTask(taskId: number){\n        let idList = this.getTasksSolved();\n        if(idList.indexOf(taskId) == -1){\n            idList.push(taskId);\n        }\n        this.setTasksSolved(idList);\n    }\n\n    getTasksSolved() : Array<number>{\n        let ids: Array<number> = [];\n        let jsonIds = JSON.parse(this.tasksSolved);\n        jsonIds.forEach(id => {\n            ids.push(+id);\n        });\n        return ids;\n    }\n\n    setTasksFailed(taskIds: Array<number>){\n        this.tasksFailed = JSON.stringify(taskIds);\n    }\n\n    addFailedTask(taskId: number){\n        let idList = this.getTasksFailed();\n        if(idList.indexOf(taskId) == -1){\n            idList.push(taskId);\n        }\n        this.setTasksFailed(idList);\n    }\n\n    getTasksFailed() : Array<number>{\n        let ids: Array<number> = [];\n        let jsonIds = JSON.parse(this.tasksFailed);\n        jsonIds.forEach(id => {\n            ids.push(+id);\n        });\n        return ids;\n    }\n\n    setTasksSolvedLow(taskIds: Array<number>){\n        this.tasksSolvedLow = JSON.stringify(taskIds);\n    }\n\n    addSolvedTaskLow(taskId: number){\n        let idList = this.getTasksSolvedLow();\n        if(idList.indexOf(taskId) == -1){\n            idList.push(taskId);\n        }\n        this.setTasksSolvedLow(idList);\n    }\n\n    getTasksSolvedLow() : Array<number>{\n        let ids: Array<number> = [];\n        let jsonIds = JSON.parse(this.tasksSolvedLow);\n        jsonIds.forEach(id => {\n            ids.push(+id);\n        });\n        return ids;\n    }\n\n    setTasksSaved(taskIds: Array<number>){\n        this.tasksSaved = JSON.stringify(taskIds);\n    }\n\n    addSavedTask(taskId: number){\n        let idList = this.getTasksSaved();\n        if(idList.indexOf(taskId) == -1){\n            idList.push(taskId);\n        }\n        this.setTasksSaved(idList);\n    }\n\n    getTasksSaved() : Array<number>{\n        let ids: Array<number> = [];\n        let jsonIds = JSON.parse(this.tasksSaved);\n        jsonIds.forEach(id => {\n            ids.push(+id);\n        });\n        return ids;\n    }\n\n    setGroupsFinished(taskIds: Array<number>){\n        this.groupsFinished = JSON.stringify(taskIds);\n    }\n\n    addGroupFinished(taskId: number){\n        let idList = this.getGroupsFinished();\n        if(idList.indexOf(taskId) == -1){\n            idList.push(taskId);\n        }\n        this.setGroupsFinished(idList);\n    }\n\n    getGroupsFinished() : Array<number>{\n        let ids: Array<number> = [];\n        let jsonIds = JSON.parse(this.groupsFinished);\n        // Fallback for Scores created before this field existed\n        if (!jsonIds) {\n            return ids;\n        }\n        jsonIds.forEach(id => {\n            ids.push(+id);\n        });\n        return ids;\n    }\n\n    getTaskState(): Array<TaskState> {\n        let taskDetails : TaskState = new TaskState();\n        return taskDetails.getAllTaskState(this.taskDetails);\n    }\n\n    getTaskStateForTask(taskId: number): TaskState {\n        let taskDetails : TaskState = new TaskState();\n        return taskDetails.findDetailsForTask(taskId, this.taskDetails);\n    }\n\n    addTaskStateForTask(allTaskStates: Array<TaskState>, detailsToSave: TaskState) : Array<TaskState>{\n        for(let i = 0; i < allTaskStates.length; i++){\n            let details = allTaskStates[i];\n            if(detailsToSave.taskId == details.taskId){\n                //already in array -> replace\n                allTaskStates[i] = detailsToSave;\n                this.setTaskState(allTaskStates);\n                return allTaskStates;\n            }\n        }\n        allTaskStates.push(detailsToSave);\n        this.setTaskState(allTaskStates);\n        return allTaskStates;\n    }\n\n    setTaskState(taskDetails: Array<TaskState>){\n        this.taskDetails = TaskState.getTaskStateAsJSONArray(taskDetails);\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/entity/Score.ts","import { Component, ElementRef, Input, Output, EventEmitter, Renderer, HostBinding } from '@angular/core';\nimport { Subject } from 'rxjs/Rx';\ndeclare var Hammer: any;\n\n\n@Component({\n    selector: 'custom-keyboard',\n    templateUrl: 'custom-keyboard.html'\n})\nexport class CustomKeyBoard {\n\n    // Inputs\n    @Input() keysTab: string[];\n    @Input() colNb: number = 5;\n    @Input() width: string;\n\n    @HostBinding('class.visible') @Input() visible: boolean = true;\n\n    // Outputs\n    @Output() cKClickEmit: EventEmitter<any> = new EventEmitter();\n    @Output() deleteEmit: EventEmitter<any> = new EventEmitter();\n    @Output() hideEmit: EventEmitter<any> = new EventEmitter();\n\n\n    // Component reference\n    private static m_component: CustomKeyBoard = null;\n\n    // Variables\n    private m_main_column_nb: number;\n    private m_main_cols: any;\n    private m_main_rows: any;\n    public zoom: number = 1;\n    private rowNb: number = 1;\n\n    // Observables for subscribers to get the events\n    private static m_clickObs: any = new Subject();\n    private static m_deleteObs: any = new Subject();\n    private static m_showObs: any = new Subject();\n    private static m_hideObs: any = new Subject();\n    \n    constructor(public el: ElementRef, public renderer: Renderer) {\n\n        CustomKeyBoard.m_component = this;\n    }\n\n    ngOnInit()\n    {\n        // Init with the @input values\n        if (this.colNb)\n            this.m_main_column_nb = this.colNb;\n\n        if (this.keysTab)\n        {\n            this.m_main_rows = this.range(0, (this.keysTab.length - 1), this.m_main_column_nb);\n            this.m_main_cols = this.range(0, this.m_main_column_nb - 1, 1);\n            this.rowNb = Math.floor((this.keysTab.length / this.m_main_column_nb + 1));\n        }\n\n        this.resize();\n    }\n\n    static get onCKClick() {\n        return this.m_clickObs;\n    }\n\n    static get onDeleteClick() {\n        return this.m_deleteObs;\n    }\n\n    static get onCKShow() {\n        return this.m_showObs;\n    }\n\n    static get onCKHide() {\n        return this.m_hideObs;\n    }\n \n    public cKClick(event, key: any)\n    {\n        CustomKeyBoard.onCKClick.next(key);\n        this.cKClickEmit.emit(key);\n    }\n\n    public deleteClick(event)\n    {\n        CustomKeyBoard.onDeleteClick.next();\n        this.deleteEmit.emit();\n    }\n\n    public hideClick(event)\n    {\n        CustomKeyBoard.hide(null);\n        CustomKeyBoard.onCKHide.next();\n        this.hideEmit.emit();\n    }\n\n    public onWindowResize(event)\n    {\n        this.resize();        \n    }\n\n    static show(callback: Function = () => { })\n    {\n        if (this.m_component && !this.m_component.visible)\n        {\n            this.m_component.visible = true;\n            setTimeout(() => {\n                callback();\n                CustomKeyBoard.onCKShow.next(); },\n                100);\n        }\n    }\n\n    static hide(callback: Function = () => { })\n    {\n        if (this.m_component && this.m_component.visible)\n        {\n            this.m_component.visible = false;\n            if (callback)\n            {\n                setTimeout(() => {\n                    callback();\n                    CustomKeyBoard.onCKHide.next(); },\n                    100);\n            }\n        }\n    }\n    public static isVisible(): boolean{\n        return this.m_component.visible;\n    }\n\n    static destroy(callback: Function = (success: boolean) => { })\n    {\n        if (this.m_component)\n        {\n            this.m_component.el.nativeElement.remove();\n            this.m_component = null;\n            callback(true);\n        }\n        else\n            callback(true);\n    }\n\n    private resize()\n    {\n        // Compute the keyboard height (key height = 50px, toolbar height = 30px)\n        let keyboardHeight = (50 * this.rowNb) + 30;\n        let screenHeight = window.screen.height;\n\n        // Make sure the keyboard is not bigger than 0.40 * screen size\n        if (keyboardHeight > (screenHeight * 0.40))\n            this.zoom = (screenHeight * 0.40) / keyboardHeight; \n        else\n            this.zoom = 1;\n    }\n\n    private range(min, max, step)\n    {\n        step = step || 1;\n        var tab = [];\n        for (var i = min; i <= max; i += step) {\n            tab.push(i);\n        }\n        return tab;\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/customKeyBoard/custom-keyboard.ts","import { Component, ViewChild } from '@angular/core';\nimport { ViewController } from 'ionic-angular/navigation/view-controller';\nimport {ModalController, NavParams} from 'ionic-angular';\nimport {ImagesService} from \"../../services/images-service\";\nimport {ProblemReportService} from \"../../app/api/services/problem-report.service\";\nimport {Helper} from \"../../classes/Helper\";\nimport {MCMIconModal} from \"../MCMIconModal/MCMIconModal\";\nimport {MCMModalType} from \"../../app/app.component\";\n\n\n\n@Component({\n    selector: 'mcm-route-by-code-modal',\n    templateUrl:'./MCMReportProblemModal.html'\n})\nexport class MCMReportProblemModal {\n    @ViewChild('input') input;\n\n    taskCode: string;\n    showError: boolean;\n    problemTypes = [\n        {key: \"no_exist\", value: \"a_reportType_no_exist\"},\n        {key: \"access_restricted\", value: \"a_reportType_access_restricted\"},\n        {key: \"pin_wrong\", value: \"a_reportType_pin_wrong\"},\n        {key: \"data_wrong\", value: \"a_reportType_data_wrong\"},\n        {key: \"values_wrong\", value: \"a_reportType_values_wrong\"},\n        {key: \"solution_wrong\", value: \"a_reportType_solution_wrong\"},\n        {key: \"misc\", value: \"a_reportType_misc\"},\n    ];\n    selectedProblem: string = \"\";\n    information: string = \"\";\n    image: {imageData: string, base64: string};\n    sendingReport = false;\n\n    constructor(\n        private viewCtrl: ViewController,\n        navParams: NavParams,\n        private imageService: ImagesService,\n        private prService: ProblemReportService,\n        private modalCtrl: ModalController\n    ) {\n        this.taskCode = navParams.data.taskCode;\n    }\n\n    ionViewDidEnter() {\n    }\n\n    async getImageFromGallery() {\n        this.image = await this.imageService.getImageFromUserGallery();\n    }\n\n    async getImageFromCamera() {\n        this.image = await this.imageService.getImageFromCamera();\n    }\n\n    resetImage() {\n        this.image = undefined;\n    }\n\n    async sendReport() {\n        if (this.sendingReport) return;\n        this.sendingReport = true;\n        try {\n        let imageUrls;\n        if (this.image) {\n            let blob = this.prService.convertDataUriToBlob(this.image.base64);\n            imageUrls = await this.prService.uploadImage(blob, this.taskCode);\n        }\n        await this.prService.sendReports(this.taskCode, this.selectedProblem, this.information, (imageUrls ? Helper.MEDIASERVER_IMAGE_URL + imageUrls.responseData.mediumUrl : \"\"))\n        const successModal = this.modalCtrl.create(MCMIconModal, {\n            type: 'text',\n            title: \"a_task_feedback_success_title\",\n            message: \"a_task_feedback_success_text\",\n            modalType: MCMModalType.general,\n            buttons: [\n                {\n                    title: 'a_alert_continue',\n                    callback: () => {\n                        successModal.dismiss();\n                    }\n                }\n            ]\n        }, {showBackdrop: true, enableBackdropDismiss: true});\n        await this.viewCtrl.dismiss();\n        await successModal.present();\n        } catch (e) {\n            this.showError = true;\n        } finally {\n            this.sendingReport = false;\n        }\n    }\n\n     cancel() {\n        this.viewCtrl.dismiss();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/modals/MCMReportProblemModal/MCMReportProblemModal.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 253;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 253\n// module chunks = 11","var map = {\n\t\"../pages/chat/chat.module\": [\n\t\t298\n\t],\n\t\"../pages/dashboard/dashboard.module\": [\n\t\t1147,\n\t\t10\n\t],\n\t\"../pages/home/home.module\": [\n\t\t1148,\n\t\t9\n\t],\n\t\"../pages/home/tabs/RoutesList/RoutesList.module\": [\n\t\t1157,\n\t\t6\n\t],\n\t\"../pages/home/tabs/RoutesMap/RoutesMap.module\": [\n\t\t1155,\n\t\t8\n\t],\n\t\"../pages/home/tabs/TasksMap/TasksMap.module\": [\n\t\t1154,\n\t\t1\n\t],\n\t\"../pages/info/info.module\": [\n\t\t1149,\n\t\t5\n\t],\n\t\"../pages/onboarding/onboarding.module\": [\n\t\t1150,\n\t\t4\n\t],\n\t\"../pages/portal/portal.module\": [\n\t\t1152,\n\t\t7\n\t],\n\t\"../pages/settings/settings.module\": [\n\t\t1151,\n\t\t3\n\t],\n\t\"../pages/task-detail/task-detail.module\": [\n\t\t1156,\n\t\t0\n\t],\n\t\"../pages/task-group-detail/task-group-detail.module\": [\n\t\t1153,\n\t\t2\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 297;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 297\n// module chunks = 11","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ChatPage } from './chat';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ComponentsModule } from '../../components/components.module';\n\n@NgModule({\n    declarations: [\n        ChatPage,\n    ],\n    imports: [\n        IonicPageModule.forChild(ChatPage),\n        TranslateModule,\n        ComponentsModule\n    ],\n    entryComponents: [\n        ChatPage\n    ]\n})\nexport class ChatPageModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat/chat.module.ts","import {Injectable} from \"@angular/core\";\nimport {checkAvailability} from \"@ionic-native/core\";\nimport {SQLite} from '@ionic-native/sqlite';\nimport {Connection, createConnection, Repository} from \"typeorm\";\n\nimport {InitialMigration1513274191111} from '../migration/1513274191111-InitialMigration';\nimport {FailedTaskMigration1515428187000} from '../migration/1515428187000-failedTaskMigration';\n\nimport {User} from '../entity/User';\nimport {State} from '../entity/State';\nimport {Task} from '../entity/Task';\nimport {Route} from '../entity/Route';\nimport {AddImageUrlAndDownloadedFlagMigration1513679923000} from '../migration/1513679923000-AddImageUrlAndDownloadedFlagMigration';\nimport {ImagesService} from './images-service';\nimport {CacheManagerMCM} from '../classes/CacheManagerMCM';\nimport {Score} from \"../entity/Score\";\nimport {TaskState} from \"../entity/TaskState\";\nimport {Task2Route} from '../entity/Task2Route';\nimport {SpinnerDialog} from '@ionic-native/spinner-dialog';\nimport {TranslateService} from '@ngx-translate/core';\nimport {AlertController, Platform} from 'ionic-angular';\nimport {AddUnlockedColumn1516037215000} from '../migration/1516037215000-AddUnlockedColumn';\nimport {AddCompletedColumn1519817905000} from '../migration/1519817905000-AddCompletedColumn';\nimport {Subject} from 'rxjs/Subject';\nimport {DB_Handler} from '../classes/DB_Handler';\nimport {AddVisibleColumn1526306624000} from \"../migration/1526306624000-AddVisibleColumn\";\nimport {AddLangCodeColumn1526306730000} from \"../migration/1526306730000-AddLangCodeColumn\";\nimport {DB_Updater} from \"../classes/DB_Updater\";\nimport {Helper} from \"../classes/Helper\";\n\nimport {AddDownloadDateColumn15711518720000} from \"../migration/15711518720000-AddDownloadDateColumn\";\nimport {AddCompletedDateColumn15713974540000} from \"../migration/15713974540000-AddCompletedDateColumn\";\nimport {AddZipMapFields15783117210000} from \"../migration/15783117210000-AddZipMapFields\";\nimport {Storage} from \"@ionic/storage\";\nimport {AddSavedTasks16013795030000} from \"../migration/16013795030000-AddSavedTasks\";\nimport {AddSubtasks16026790930000} from \"../migration/16026790930000-AddSubtasks\";\nimport {AddPositionField16194302450000} from \"../migration/16194302450000-AddPositionField\";\nimport {AddPathFields16208100470000} from \"../migration/16208100470000-AddPathFields\";\nimport {AddZoom16225449820000} from \"../migration/16225449820000-AddZoom\";\nimport {\n    AddForceSubtaskAndArLink16552845000000\n} from '../migration/16552845000000-AddForceSubtaskAndArLink';\nimport {AddTaskCode17026521590000} from \"../migration/17026521590000-AddTaskCode\";\nimport {RenameParentIdAndAddTaskFormatAndPosition17067919700000} from \"../migration/17067919700000-RenameParentIdAndAddTaskFormatAndPosition\";\nimport {AddGroupsFinished17071440460000} from \"../migration/17071440460000-AddGroupsFinished\";\nimport {TranslationService} from \"../app/api/services/translation.service\";\n\n\n@Injectable()\nexport class OrmService {\n    connection: Connection;\n    public static INSTANCE: OrmService;\n    public static EVENT_ROUTES_CHANGED = 'EVENT_ROUTES_CHANGED';\n    private visibleRoutesCache: Route[];\n    public eventEmitter = new Subject<String>();\n\n    constructor(\n        private imagesService: ImagesService,\n        private spinner: SpinnerDialog,\n        private translateService: TranslateService,\n        private platform: Platform,\n        private storage: Storage,\n        private alertCtrl: AlertController,\n        private translationService: TranslationService\n    ) {\n        OrmService.INSTANCE = this;\n    }\n\n    async getConnection(): Promise<Connection> {\n        if (this.connection) {\n            return this.connection;\n        }\n        await this.platform.ready();\n        await DB_Handler.getInstance().ready();\n        const sqliteAvailable = checkAvailability(SQLite.getPluginRef(), null, SQLite.getPluginName()) === true;\n        const entities = [\n            User,\n            Route,\n            State,\n            Task,\n            Score,\n            Task2Route\n        ];\n\n        // make sure to exclude Migration class names from UglifyJS to avoid name mangling (see config/uglifyjs.config.js)\n        const migrations = [\n            InitialMigration1513274191111,\n            AddImageUrlAndDownloadedFlagMigration1513679923000,\n            FailedTaskMigration1515428187000,\n            AddUnlockedColumn1516037215000,\n            AddCompletedColumn1519817905000,\n            AddVisibleColumn1526306624000,\n            AddLangCodeColumn1526306730000,\n            AddDownloadDateColumn15711518720000,\n            AddCompletedDateColumn15713974540000,\n            AddZipMapFields15783117210000,\n            AddSavedTasks16013795030000,\n            AddSubtasks16026790930000,\n            AddPositionField16194302450000,\n            AddPathFields16208100470000,\n            AddZoom16225449820000,\n            AddForceSubtaskAndArLink16552845000000,\n            AddTaskCode17026521590000,\n            RenameParentIdAndAddTaskFormatAndPosition17067919700000,\n            AddGroupsFinished17071440460000\n        ];\n        if (sqliteAvailable) {\n            this.connection = await createConnection({\n                type: 'cordova',\n                location: 'default',\n                database: 'mcm_db.sqlite3',\n                logging: ['error', /*'query', 'schema'*/],\n                logger: 'simple-console',\n                synchronize: false,\n                entities: entities,\n                migrationsRun: true,\n                migrations: migrations\n            });\n            return this.connection;\n        } else {\n            this.connection = await createConnection({\n                type: 'websql',\n                version: '1.0',\n                description: 'MCM DB',\n                size: 2 * 1024 * 1024,\n                database: 'mcm',\n                logging: ['error', /*'query', 'schema'*/],\n                logger: 'simple-console',\n                synchronize: false,\n                entities: entities,\n                migrationsRun: true,\n                migrations: migrations\n            });\n            return this.connection;\n        }\n    }\n\n    async getTaskRepository(): Promise<Repository<Task>> {\n        let connection = await this.getConnection();\n        return connection.getRepository(Task);\n    }\n\n    async getStateRepository(): Promise<Repository<State>> {\n        let connection = await this.getConnection();\n        return connection.getRepository(State);\n    }\n\n    async getScoreRepository(): Promise<Repository<Score>> {\n        let connection = await this.getConnection();\n        return connection.getRepository(Score);\n    }\n\n    async getRouteRepository(): Promise<Repository<Route>> {\n        let connection = await this.getConnection();\n        return connection.getRepository(Route);\n    }\n\n    async getUserRepository(): Promise<Repository<User>> {\n        let connection = await this.getConnection();\n        return connection.getRepository(User);\n    }\n\n    public async findRouteById(id: number): Promise<Route> {\n        let repo = await this.getRouteRepository();\n        return await repo.findOneById(id);\n    }\n\n    public async findRouteByCode(code: string): Promise<Route> {\n        let repo = await this.getRouteRepository();\n        return await repo.findOne({where: {code: code}});\n    }\n\n    public async findScoreByRoute(id: number): Promise<Score> {\n        let repo = await this.getScoreRepository();\n        return await repo.findOne({where: {routeId: id}});\n    }\n\n    public async getAllTasks() {\n        let repo = await this.getTaskRepository();\n        let tasks = await repo.find({relations: [\"routes\"]});\n        var solutionTypes: Array<string> = [];\n        tasks.forEach(task => {\n            if (solutionTypes.indexOf(task.solutionType) == -1) {\n                solutionTypes.push(task.solutionType);\n            }\n            if (task.solutionType == \"gps\" && task.public == \"1\") {\n\n                task.routes.forEach(route => {\n                    if (route.public == \"1\") {\n                        console.log(route);\n                        console.log(task);\n                    }\n                });\n            }\n\n        })\n\n    }\n\n    public async findTaskById(id: number): Promise<Task> {\n        let repo = await this.getTaskRepository();\n        return await repo.createQueryBuilder(\"tasks\")\n            .where({id: id})\n            .leftJoinAndSelect(\"tasks.subtasks\", \"subtasks\")\n            .getOne();\n    }\n\n\n    async insertOrUpdateTaskState(score: Score, detailsToSave: TaskState) {\n        let repo = await this.getScoreRepository();\n        score.addTaskStateForTask(score.getTaskState(), detailsToSave);\n        let user = await this.getActiveUser();\n        score.userId = user.id;\n        await repo.save(score);\n        this.eventEmitter.next(OrmService.EVENT_ROUTES_CHANGED);\n    }\n\n    async deleteUserScore(score: Score) {\n        let repo = await this.getScoreRepository();\n        await repo.deleteById(score.id);\n    }\n\n    async setNewActiveUser(userName: string): Promise<User> {\n        let repo = await this.getUserRepository();\n        let user = new User();\n        user.name = userName;\n\n        await this.setActiveUser(userName);\n        await repo.save(user);\n        return user;\n    }\n\n    async setActiveUser(userName: string) {\n        let repo = await this.getStateRepository();\n        let state: State = await repo.findOne({where: {option: 'active_user'}})\n        if (!state) {\n            state = new State();\n            state.option = \"active_user\";\n        }\n        state.value = userName;\n        await repo.save(state);\n    }\n\n    async getActiveUser(): Promise<User> {\n        let repo = await this.getStateRepository();\n        let state = await repo.findOne({where: {option: 'active_user'}});\n        let user = null;\n        if (state && state.value) {\n            user = await this.getUserByName(state.value);\n        }\n        return user;\n    }\n\n    async checkUsername(userName: string): Promise<boolean> {\n        let user = await this.getUserByName(userName);\n        if (user) {\n            return true;\n        }\n        return false;\n    }\n\n    private async getUserByName(userName: string): Promise<User> {\n        let repo = await this.getUserRepository();\n        return await repo.findOne({where: {name: userName}});\n    }\n\n    async getVisibleRoutes(showSpinner = true, compareFn = null, forceUpdateFromDb = false): Promise<Route[]> {\n        if (showSpinner) this.spinner.show(null, this.translateService.instant('a_toast_routes_loading'), true);\n        if (!forceUpdateFromDb && this.visibleRoutesCache) {\n            return new Promise<Route[]>(success => {\n                setTimeout(() => {\n                    if (compareFn) {\n                        this.visibleRoutesCache.sort(compareFn);\n                    }\n                    if (showSpinner) {\n                        setTimeout(() => {\n                            this.spinner.hide();\n                        }, 100);\n                    }\n                    success(this.visibleRoutesCache);\n                }, 100);\n            });\n        }\n        let repo = await this.getRouteRepository();\n        let result = await repo.createQueryBuilder('r').where('r.map_version != 0').andWhere('r.public = 1').orWhere('r.unlocked = 1').getMany();\n        if (compareFn) {\n            result.sort(compareFn);\n        }\n        if (!this.visibleRoutesCache) {\n            this.visibleRoutesCache = result;\n        } else {\n            // add objects to existing array (because it is referenced by views)\n            this.visibleRoutesCache.splice(0, this.visibleRoutesCache.length);\n            result.map(route => this.visibleRoutesCache.push(route));\n        }\n        if (showSpinner) {\n            setTimeout(() => {\n                this.spinner.hide();\n            }, 100);\n        }\n        return this.visibleRoutesCache;\n    }\n\n    async getDownloadedRoutes(compareFn = null): Promise<Route[]> {\n        let repo = await this.getRouteRepository();\n        let result = await repo.find({\n            where: {\n                downloaded: '1'\n            }\n        });\n\n        result = result.filter((route) => {\n            return route.mapVersion != '0'\n        });\n        if (compareFn) {\n            result.sort(compareFn);\n        }\n        return result;\n    }\n\n    async getUnlockedRoutes(): Promise<Route[]> {\n        let repo = await this.getRouteRepository();\n        let result = await repo.find({\n            where: {\n                unlocked: '1'\n            }\n        });\n\n        result = result.filter((route) => {\n            return route.mapVersion != '0'\n        });\n        return result;\n    }\n\n    async getCompletedRoutes(): Promise<Route[]> {\n        let repo = await this.getRouteRepository();\n        let result = await repo.find({\n            where: {\n                completed: '1'\n            }\n        });\n\n        result = result.filter((route) => {\n            return route.mapVersion != '0'\n        });\n        return result;\n    }\n\n    async downloadRoute(route: Route, statusCallback, dbUpdater: DB_Updater) {\n        let alreadyDownloadedUrls = [];\n        try {\n            // 15.04.18 - get data rows for route tasks from online DB first\n            await dbUpdater.downloadRouteTasksData(route, this.translateService.instant(\"a_language_code\"));\n            statusCallback(0, 0, 'a_rdl_title_map');\n\n            //should be here that we add the download and unzipping.\n            if (!route.isNarrativeEnabled()) {\n                await this.imagesService.downloadAndUnzip(route, (done) => {\n                    return statusCallback(done, 100);\n                },\n                    (tile)=>{\n                        alreadyDownloadedUrls.push(tile);\n                    })\n            } else {\n                let zoomLevels = Helper.calculateZoom(route.getViewBoundingBoxLatLng());\n                await CacheManagerMCM.downloadTiles(route, zoomLevels.min_zoom, zoomLevels.max_zoom, (done, total, url) => {\n                    alreadyDownloadedUrls.push(url);\n                    return statusCallback(done, total);\n                });\n            }\n            //statusCallback(0, 0, 'a_rdl_title_img');\n            await this.imagesService.downloadURLs(this.getDownloadImagesForTasks(await route.getTasks()), false, (done, total, url) => {\n                alreadyDownloadedUrls.push(url);\n                return statusCallback(done, total, 'a_rdl_title_img');\n            });\n            route.downloaded = true;\n            route.downloadedDate = new Date().toDateString().split(' ').slice(1).join(' ');\n            const repo = await this.getRouteRepository();\n            await repo.save(route);\n            this.updateRouteInCache(route);\n        } catch (e) {\n            console.log(\"download failed or was aborted\");\n            if (e.message) {\n                console.log(e.message);\n            }\n            if(e.http_status && e.http_status === 404){\n                const alert = this.alertCtrl.create({\n                    title: this.translateService.instant(\"a_missing_map_data_error_msg\"),\n                    buttons: [{\n                        text:  this.translateService.instant(\"a_g_ok\"),\n                        role: 'cancel'\n                    }]\n                });\n                alert.present();\n                let postparams = \"&route_id=\" + route.id;\n                Helper.INSTANCE.invokeApi('downloadTrailFailed', postparams)\n            }\n            console.log(e);\n            await this.imagesService.removeDownloadedURLs(alreadyDownloadedUrls, false);\n        }\n    }\n\n    getTileURLs(route: Route) {\n        let zoomLevels = Helper.calculateZoom(route.getViewBoundingBoxLatLng());\n        return CacheManagerMCM.getTileURLs(route, zoomLevels.min_zoom, zoomLevels.max_zoom);\n    }\n\n    getTileURLsAsObject(route: Route) {\n        let tiles = this.getTileURLs(route);\n        let result = {};\n        for (let tile of tiles) {\n            result[tile] = true;\n        }\n        return result;\n    }\n\n    private getDownloadImagesForTasks(tasks: Task[]) {\n        let result = [];\n        tasks.map(task => task.getImagesForDownload()).map(images => {\n            result = result.concat(images);\n        });\n        return result;\n    }\n\n    async removeDownloadedRoute(route: Route, removeTiles = false): Promise<Route> {\n        // Reset route before removing\n        let user = await this.getActiveUser();\n        await this.deleteUserScore((await this.findRouteById(route.id)).getScoreForUser(user));\n        if (removeTiles) {\n            await this.imagesService.removeDownloadedURLs(this.getTileURLs(route), false);\n        }\n        this.imagesService.removeDownloadedURLs(this.getDownloadImagesForTasks(await route.getTasks()), false);\n        let state = await this.storage.get(\"savedMapStateByRoute\");\n        if (state && state[route.id]) {\n            delete state[route.id];\n        }\n        this.storage.set(\"savedMapStateByRoute\", state);\n        this.translationService.removeTaskTranslations(route.code);\n        route.downloaded = null;\n        route.downloadedDate = null;\n        route.completed = null;\n        route.completedDate = null;\n        const repo = await this.getRouteRepository();\n        await repo.save(route);\n        this.updateRouteInCache(route);\n        return route;\n    }\n\n    async unlockRoute(route: Route) {\n        route.unlocked = true;\n        (await this.getRouteRepository()).save(route);\n        this.imagesService.downloadURLs([route.image], true);\n        this.updateRouteInCache(route);\n    }\n\n    async saveAndFireChangedEvent(route: Route) {\n        await (await this.getRouteRepository()).save(route);\n        this.updateRouteInCache(route);\n        this.eventEmitter.next(OrmService.EVENT_ROUTES_CHANGED);\n    }\n\n    async removeAllDownloadedData() {\n        let routes = await this.getDownloadedRoutes();\n        for (let route of routes) {\n            await this.removeDownloadedRoute(route, true);\n        }\n        this.eventEmitter.next(OrmService.EVENT_ROUTES_CHANGED);\n    }\n\n    private updateRouteInCache(routeToUpdate: Route) {\n        if (this.visibleRoutesCache) {\n            for (let i = 0; i < this.visibleRoutesCache.length; i++) {\n                if (this.visibleRoutesCache[i].id == routeToUpdate.id) {\n                    this.visibleRoutesCache[i] = routeToUpdate;\n                    break;\n                }\n            }\n        }\n        this.eventEmitter.next(OrmService.EVENT_ROUTES_CHANGED);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/orm-service.ts","import { Injectable } from \"@angular/core\";\nimport { checkAvailability } from \"@ionic-native/core\";\nimport { DirectoryEntry, File} from '@ionic-native/file';\nimport {Platform} from 'ionic-angular';\nimport { FileTransfer, FileTransferObject } from '@ionic-native/file-transfer';\nimport async from 'async'\nimport { Helper } from '../classes/Helper';\nimport {Route} from \"../entity/Route\";\nimport {Http} from \"@angular/http\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {DomSanitizer, SafeUrl} from \"@angular/platform-browser\";\nimport {Camera, CameraOptions} from \"@ionic-native/camera\";\n\n@Injectable()\nexport class ImagesService {\n    public static INSTANCE: ImagesService;\n    private nativeBaseURL: string;\n    private isInitialized = false;\n    private downloadQueue: any = null;\n    private offlineImageUrlCache = {};\n    private offlineThumbnailUrlCache = {};\n    private lazyLoadedImagesCache = {};\n    private filePluginAvailable: boolean;\n    private dataDirectory: DirectoryEntry;\n\n    constructor(\n        private fileManager: File,\n        private platform: Platform,\n        private transfer: FileTransfer,\n        private http: Http,\n        private httpClient: HttpClient,\n        private sanitizer : DomSanitizer,\n        private camera: Camera) {\n        ImagesService.INSTANCE = this;\n        this.init();\n    }\n\n    private saveThumb(newFileName: string, base64: string, fileManager: File) {\n        console.log(\"saving thumbnail to \" + newFileName);\n        // var url = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==\"\n        fetch(base64)\n            .then(res => {\n                res.blob().then(blob => {\n                    fileManager.writeFile(fileManager.dataDirectory, newFileName, blob, {replace: true}).then(val => {\n                    }, error => console.error(\"Write error: \" + JSON.stringify(error)))\n                        .catch(error => console.error(\"Write error: \" + JSON.stringify(error)))\n                }, error => console.error(\"Blob error: \" + JSON.stringify(error)))\n                    .catch(error => console.error(\"Blob error: \" + JSON.stringify(error)))\n            })\n            .then(blob => console.log(blob))\n    }\n\n    private resizedataURL(datas: any, wantedWidth: number, wantedHeight: number): Promise<string> {\n        return new Promise<string>((resolve, reject) => {\n            let img = document.createElement('img')\n            img.onload = () => {\n                var canvas = document.createElement('canvas')\n                var ctx = canvas.getContext('2d')\n                canvas.width = wantedWidth\n                canvas.height = wantedHeight\n                ctx.drawImage(img, 0, 0, wantedWidth, wantedHeight)\n                const dataURI = canvas.toDataURL()\n                resolve(dataURI)\n            };\n            img.src = datas;\n        })\n    }\n\n    isFilePluginAvailable() {\n        return this.filePluginAvailable;\n    }\n\n    async init(): Promise<string> {\n        if (this.isInitialized) {\n            return this.nativeBaseURL;\n        }\n        await this.platform.ready();\n\n        this.filePluginAvailable = checkAvailability(File.getPluginRef(), null, File.getPluginName()) === true\n        if (this.filePluginAvailable) {\n            this.dataDirectory = await this.fileManager.resolveDirectoryUrl(this.fileManager.dataDirectory);\n            this.nativeBaseURL = this.dataDirectory.nativeURL;\n        }\n        this.isInitialized = true;\n        return this.nativeBaseURL;\n    }\n\n    makeDownloadUrlLegit(downloadPath: string) {\n        let pathParts = downloadPath.split('/');\n        let actualPath;\n        if (pathParts[pathParts.length - 2].length !== 1) {\n            let frontParts = pathParts.splice(0, pathParts.length - 1);\n            actualPath = frontParts.join('/') + \"/m/\" + pathParts.join('/');\n        } else {\n            actualPath = pathParts.join('/');\n        }\n        return actualPath;\n    }\n\n    async downloadURLs(urls: string[], createThumbs: boolean, progressCallback: DownloadProgressCallback = null,\n                       skipCheckForExistingFiles: boolean = false): Promise<any> {\n        if (!this.isFilePluginAvailable()) {\n            return;\n        }\n        let promiseError = null;\n        const fileTransfer: FileTransferObject = this.transfer.create();\n        let dataDirectory = this.fileManager.dataDirectory;\n        let fileManager = this.fileManager;\n        let resizedataURL = this.resizedataURL;\n        let saveThumb = this.saveThumb;\n        let totalDownload = urls.length;\n        let alreadyDownloaded = 0;\n        let that = this;\n        this.downloadQueue = async.queue(function (task: any, continueCallback: any) {\n            function callback() {\n                alreadyDownloaded++;\n                console.log(`download progress: ${alreadyDownloaded}/${totalDownload} - ${task.imgFileName}`);\n                if (task.callback) {\n                    task.callback(alreadyDownloaded, totalDownload, task.imgFileName);\n                }\n                if (progressCallback) {\n                    if (progressCallback(alreadyDownloaded, totalDownload, task.imgFileName)) {\n                        // user aborted download process\n                        that.downloadQueue.kill();\n                        promiseError(\"user canceled download\");\n                        return;\n                    }\n                }\n                continueCallback();\n            }\n            console.log('Starting download task for ' + task.outputName);\n            let url = task.imgFileName.indexOf('http') === 0 ? task.imgFileName\n                : Helper.MEDIASERVER_IMAGE_URL + that.makeDownloadUrlLegit(encodeURI(task.imgFileName));\n            setTimeout(()=>{fileTransfer.download(url, dataDirectory + task.outputName)\n                .then(() => {\n                    if (!createThumbs) {\n                        callback();\n                        return;\n                    }\n                    fileManager.readAsDataURL(dataDirectory, task.outputName)\n                        .then(dataURI => {\n                            resizedataURL(dataURI, 120, 120)\n                                .then(resizedBase64 => {\n                                    saveThumb(that.getLocalThumbFileName(task.imgFileName), resizedBase64, fileManager)\n                                    callback()\n                                })\n                                .catch(error => {\n                                    console.error(\"saveThumb error \" + JSON.stringify(error))\n                                    callback()\n                                });\n                        }, error => {\n                            console.error(\"readAsDataURL error: \" + JSON.stringify(error))\n                            callback();\n                        })\n                        .catch(error => {\n                            console.error(\"readAsDataURL error: \" + JSON.stringify(error))\n                            callback();\n                        })\n                })\n                .catch(error => {\n                    console.error(`Error downloading image ${task.imgFileName}`)\n                    callback();\n                })}, 50);\n        }, 8);\n\n        let promise = new Promise<any>((success, error) => {\n            promiseError = error;\n            this.downloadQueue.drain(success);\n        });\n\n        for (var i = 0; i < urls.length; i++) {\n            let imgFileName = urls[i];\n            // No image in task\n            if (!imgFileName || imgFileName.trim() === \"\" || imgFileName.toLowerCase() === \"null\") {\n                continue\n            }\n\n\n            let outputName = this.getLocalFileName(imgFileName);\n            let file;\n            if (!skipCheckForExistingFiles &&\n                null !== (file = await this.fileManager.getFile(this.dataDirectory, outputName, { create: false })\n                    .then((res) => res, (err) => null))) {\n                file.file(file => {\n                    if (file.size <= 0) {\n                        // Path not empty and file does not exist - download from url\n                        this.downloadQueue.push({\n                            fileTransfer: fileTransfer,\n                            imgFileName: imgFileName,\n                            outputName: outputName,\n                            callback: urls.length == 1 ? progressCallback : null\n                        }, () => {\n                            console.log(`Finished downloading ${outputName}`)\n                        });\n                    } else {\n                        alreadyDownloaded++;\n                        if (progressCallback) {\n                            console.log(`Already downloaded: ${outputName}`)\n                            progressCallback(alreadyDownloaded, totalDownload, imgFileName);\n                        }\n                    }\n                }, error => {\n                    // file could not be read\n                    this.downloadQueue.push({\n                        fileTransfer: fileTransfer,\n                        imgFileName: imgFileName,\n                        outputName: outputName,\n                        callback: urls.length == 1 ? progressCallback : null\n                    }, () => {\n                        console.log(`Finished downloading ${outputName}`)\n                    });\n                })\n            } else {\n                // Path not empty and file does not exist - download from url\n                console.log(`Adding to download queue: ${outputName}`);\n                this.downloadQueue.push({\n                    fileTransfer: fileTransfer,\n                    imgFileName: imgFileName,\n                    outputName: outputName,\n                    callback: urls.length == 1 ? progressCallback : null\n                }, () => {\n                    console.log(`Finished downloading ${outputName}`)\n                })\n            }\n        }\n        if (this.downloadQueue.length() === 0) {\n            return;\n        }\n        return promise;\n    }\n\n    getLocalFileName(imgPath: string, isMapTile: boolean = false) : string {\n        if (imgPath.indexOf('http') === 0) {\n            // strip hostname\n            imgPath = imgPath.substring(imgPath.indexOf('/', 9) + 1);\n            let queryIndex = imgPath.indexOf('?');\n            if (queryIndex > 0) {\n                // strip query\n                imgPath = imgPath.substring(0, queryIndex);\n            }\n        }\n        return isMapTile ? 'tiles/' + imgPath.replace('v4/mapbox.streets/', '') :\n            imgPath.replace(/\\/| |@/g, '_');\n    }\n\n    getLocalThumbFileName(imgPath: string) : string {\n        return 'thumb_' + this.getLocalFileName(imgPath);\n    }\n\n    getOfflineURL(imgPath: string, asThumbNail: boolean = false, isMapTile: boolean = false, asRawString: boolean = false) : string {\n        if (asThumbNail) {\n            return this.offlineThumbnailUrlCache[imgPath] ? this.fixUrlForWebview(this.offlineThumbnailUrlCache[imgPath])\n                : this.fixUrlForWebview(this.offlineThumbnailUrlCache[imgPath] =\n                    (this.nativeBaseURL ? this.nativeBaseURL + this.getLocalThumbFileName(imgPath)\n                        : this.getOnlineURL(imgPath)));\n        }\n        if (asRawString) {\n            return this.offlineImageUrlCache[imgPath] ? this.offlineImageUrlCache[imgPath]\n                : this.offlineImageUrlCache[imgPath] =\n                    (this.nativeBaseURL ? this.nativeBaseURL + this.getLocalFileName(imgPath, isMapTile)\n                        : this.getOnlineURL(imgPath));\n        }\n        return this.offlineImageUrlCache[imgPath] ? this.fixUrlForWebview(this.offlineImageUrlCache[imgPath])\n            :  this.fixUrlForWebview(this.offlineImageUrlCache[imgPath] =\n                (this.nativeBaseURL ?this.nativeBaseURL + this.getLocalFileName(imgPath, isMapTile)\n                    : this.getOnlineURL(imgPath)));\n    }\n\n    getOnlineURL(imgPath: string) {\n        return imgPath.indexOf('http') !== 0 ? Helper.MEDIASERVER_IMAGE_URL + imgPath : imgPath;\n    }\n\n    fixUrlForWebview(url) {\n        if (!this.platform.is('cordova')) return url;\n        let fixedUrl = (<any>window).Ionic.WebView.convertFileSrc(url);\n        //FIXME: needs a more reliable check if url can be used as is or needs a security trust bypass\n        if (fixedUrl.includes('mcm_images_tasks')) {\n            fixedUrl = this.sanitizer.bypassSecurityTrustUrl(fixedUrl);\n        }\n        return fixedUrl;\n    }\n\n    async removeDownloadedURLs(urls: string[], removeThumbs = true): Promise<any> {\n        if (!this.dataDirectory) {\n            return;\n        }\n        for (var i = 0; i < urls.length; i++) {\n            let imgFileName = urls[i]\n            // No image in task\n            if (imgFileName.trim() === \"\" || imgFileName.toLowerCase() === \"null\") {\n                continue\n            }\n\n\n            let outputName = this.getLocalFileName(imgFileName);\n            this.fileManager.getFile(this.dataDirectory, outputName, {create: false}).then(file => {\n                file.remove(() => console.log(\"deleted file \" + outputName),\n                    () => console.log(\"could not delete file \" + outputName))\n            }, () => console.log(\"could not delete file \" + outputName));\n            if (removeThumbs) {\n                outputName = this.getLocalThumbFileName(imgFileName);\n                this.fileManager.getFile(this.dataDirectory, outputName, {create: false}).then(file => {\n                    file.remove(() => console.log(\"deleted file \" + outputName),\n                        () => console.log(\"could not delete file \" + outputName))\n                }, () => console.log(\"could not delete file \" + outputName));\n            }\n        }\n    }\n\n    /**\n     *\n     * @param {string} imgPath\n     * @param {string} imageSize 's', 'thumb', 'xl' or 'xxl'\n     * @returns {Promise<string>}\n     */\n    async getAsyncImageURL(imgPath: string, imageSize: string): Promise<string> {\n        if (imageSize) {\n            let lastSlashIndex = imgPath.lastIndexOf('/');\n            imgPath = imgPath.substring(0, lastSlashIndex) + '/' + imageSize + imgPath.substring(lastSlashIndex);\n        }\n        if (this.lazyLoadedImagesCache[imgPath]) {\n            return this.lazyLoadedImagesCache[imgPath];\n        }\n        if (this.dataDirectory) {\n            // we need to check for downloaded files\n            await new Promise(success => {\n                this.downloadURLs([imgPath], false, (alreadyDownloaded, totalDownload, url) => {\n                    if (url == imgPath) {\n                        success();\n                    }\n                    return false;\n                }, false);\n            });\n        }\n        return this.lazyLoadedImagesCache[imgPath] = this.getOfflineURL(imgPath);\n    }\n\n\n    public async downloadAndUnzip(route: Route, progressCallback: any, tileCallback: any) {\n        if (!(<any>window).JJzip) {\n            // JJZip is only available on native platforms. In browser we don't need to download\n            return;\n        }\n\n        let url = Helper.MEDIASERVER_IMAGE_URL + 'mcm_maps/' + route.mapFileName;\n        let downloadRequest: FileTransferObject = this.transfer.create();\n        let dataDirectory = this.fileManager.dataDirectory;\n        let pathToFileInString  = dataDirectory + route.mapFileName;\n        await new Promise((success, error) => {\n            downloadRequest.onProgress((progress) => {\n                if (progress.loaded && progress.total && progress.loaded < progress.total) {\n                    if (progress.total > 0) {\n                        if (progressCallback(Math.round(100 * (progress.loaded / progress.total)))) {\n                            error('download was canceled');\n                            downloadRequest.abort();\n                        }\n                    }\n                }\n            });\n\n\n            downloadRequest.download(url, pathToFileInString).then((result) => {\n                (<any>window).JJzip.unzip(pathToFileInString, {target: dataDirectory + '/tiles'}, function (data) {\n                    /* Wow everything goes good, but just in case verify data.success */\n                    console.log(\"victory\");\n                    console.log(\"victory \" + JSON.stringify(data));\n                    success();\n                }, function (error) {\n                    /* Wow something goes wrong, check the error.message */\n                    console.log(\"no victory :(((\");\n                    console.log(error)\n                })\n            }, error).catch((err) => {console.log(\"ERROR DOWNLOADING: \", err)});\n        });\n    }\n\n    async getImageFromUserGallery(): Promise<{imageData: string, base64: string }> {\n        const options: CameraOptions = {\n            quality: 75,\n            targetHeight: 512,\n            targetWidth: 512,\n            destinationType: this.camera.DestinationType.DATA_URL,\n            encodingType: this.camera.EncodingType.JPEG,\n            mediaType: this.camera.MediaType.PICTURE,\n            correctOrientation: true,\n            sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\n        };\n        try {\n            const imageData = await this.camera.getPicture(options)\n            return {imageData: imageData, base64: 'data:image/jpeg;base64,' + imageData};\n        } catch (err) {\n            throw err;\n        }\n    }\n\n    async getImageFromCamera(): Promise<{imageData: string, base64: string }> {\n        const options: CameraOptions = {\n            quality: 75,\n            targetHeight: 512,\n            targetWidth: 512,\n            correctOrientation: true,\n            destinationType: this.camera.DestinationType.DATA_URL,\n            encodingType: this.camera.EncodingType.JPEG,\n            mediaType: this.camera.MediaType.PICTURE,\n        };\n\n        try {\n            const imageData = await this.camera.getPicture(options);\n            return {imageData: imageData, base64: 'data:image/jpeg;base64,' + imageData};\n        } catch (err) {\n            throw err;\n        }\n    }\n\n}\n\n\nexport interface DownloadProgressCallback {\n    (alreadyDownloaded: number, totalDownload: number, url: string): boolean\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/images-service.ts","/* tslint:disable */\nimport { Injectable } from '@angular/core';\nimport {\n  HttpClient, HttpRequest, HttpResponse,\n  HttpHeaders, HttpParams } from '@angular/common/http';\nimport { BaseService } from '../base-service';\nimport { ApiConfiguration } from '../api-configuration';\nimport { Observable } from 'rxjs/Observable';\nimport { map } from 'rxjs/operators/map';\nimport { filter } from 'rxjs/operators/filter';\n\n\n\n@Injectable()\nexport class SessionUserService extends BaseService {\n  constructor(\n    config: ApiConfiguration,\n    http: HttpClient\n  ) {\n    super(config, http);\n  }\n\n\n  /**\n   * @param params The `SessionUserService.UpdatePositionParams` containing the following parameters:\n   *\n   * - `userToken`: The session user's token\n   *\n   * - `sessionCode`: The session code\n   *\n   * - `longitude`: The session user's longitude\n   *\n   * - `latitude`: The session user's latitude\n   *\n   * @return Returns an empty response\n   */\n\n  updatePositionResponse(params: SessionUserService.UpdatePositionParams): Observable<HttpResponse<any>> {\n    let __params = new HttpParams();\n    let __headers = new HttpHeaders();\n    let __body: any = null;\n\n\n\n\n    let req = new HttpRequest<any>(\n      \"PUT\",\n      this.rootUrl + `/session/${params.sessionCode}/user/${params.userToken}/position/${params.latitude}/${params.longitude}`,\n      __body,\n      {\n        headers: __headers,\n        params: __params,\n        responseType: 'json'\n      });\n\n    return this.http.request<any>(req).pipe(\n      filter(_r => _r instanceof HttpResponse),\n      map(_r => {\n        let _resp = _r as HttpResponse<any>;\n        let _body: any = null;\n\n        return _resp.clone({body: _body}) as HttpResponse<any>;\n      })\n    );\n  }\n\n\n  /**\n   * @param params The `SessionUserService.UpdatePositionParams` containing the following parameters:\n   *\n   * - `userToken`: The session user's token\n   *\n   * - `sessionCode`: The session code\n   *\n   * - `longitude`: The session user's longitude\n   *\n   * - `latitude`: The session user's latitude\n   *\n   * @return Returns an empty response\n   */\n\n  updatePosition(params: SessionUserService.UpdatePositionParams): Observable<any> {\n    return this.updatePositionResponse(params).pipe(\n      map(_r => (<any>_r).body)\n    );\n  }\n\n\n  /**\n   * @param params The `SessionUserService.GetSessionUserByTokenParams` containing the following parameters:\n   *\n   * - `userToken`: The session user's token\n   *\n   * - `sessionCode`: The session code\n   *\n   * @return Returns requested sessionUser\n   */\n\n  getSessionUserByTokenResponse(params: SessionUserService.GetSessionUserByTokenParams): Observable<HttpResponse<any>> {\n    let __params = new HttpParams();\n    let __headers = new HttpHeaders();\n    let __body: any = null;\n\n\n    let req = new HttpRequest<any>(\n      \"GET\",\n      this.rootUrl + `/session/${params.sessionCode}/user/${params.userToken}`,\n      __body,\n      {\n        headers: __headers,\n        params: __params,\n        responseType: 'json'\n      });\n\n    return this.http.request<any>(req).pipe(\n      filter(_r => _r instanceof HttpResponse),\n      map(_r => {\n        let _resp = _r as HttpResponse<any>;\n        let _body: any = null;\n\n        return _resp.clone({body: _body}) as HttpResponse<any>;\n      })\n    );\n  }\n\n\n  /**\n   * @param params The `SessionUserService.GetSessionUserByTokenParams` containing the following parameters:\n   *\n   * - `userToken`: The session user's token\n   *\n   * - `sessionCode`: The session code\n   *\n   * @return Returns requested sessionUser\n   */\n\n  getSessionUserByToken(params: SessionUserService.GetSessionUserByTokenParams): Observable<any> {\n    return this.getSessionUserByTokenResponse(params).pipe(\n      map(_r => (<any>_r).body)\n    );\n  }\n\n\n  /**\n   * @param params The `SessionUserService.LeaveSessionParams` containing the following parameters:\n   *\n   * - `userToken`: The session user's token\n   *\n   * - `sessionCode`: The session code\n   *\n   * @return Returns an empty response\n   */\n\n  leaveSessionResponse(params: SessionUserService.LeaveSessionParams): Observable<HttpResponse<any>> {\n    let __params = new HttpParams();\n    let __headers = new HttpHeaders();\n    let __body: any = null;\n\n\n    let req = new HttpRequest<any>(\n      \"DELETE\",\n      this.rootUrl + `/session/${params.sessionCode}/user/${params.userToken}`,\n      __body,\n      {\n        headers: __headers,\n        params: __params,\n        responseType: 'json'\n      });\n\n    return this.http.request<any>(req).pipe(\n      filter(_r => _r instanceof HttpResponse),\n      map(_r => {\n        let _resp = _r as HttpResponse<any>;\n        let _body: any = null;\n\n        return _resp.clone({body: _body}) as HttpResponse<any>;\n      })\n    );\n  }\n\n\n  /**\n   * @param params The `SessionUserService.LeaveSessionParams` containing the following parameters:\n   *\n   * - `userToken`: The session user's token\n   *\n   * - `sessionCode`: The session code\n   *\n   * @return Returns an empty response\n   */\n\n  leaveSession(params: SessionUserService.LeaveSessionParams): Observable<any> {\n    return this.leaveSessionResponse(params).pipe(\n      map(_r => (<any>_r).body)\n    );\n  }\n}\n\nexport module SessionUserService {\n  export interface UpdatePositionParams {\n    userToken: string;\n    sessionCode: string;\n    longitude: number;\n    latitude: number;\n  }\n  export interface GetSessionUserByTokenParams {\n    userToken: string;\n    sessionCode: string;\n  }\n  export interface LeaveSessionParams {\n    userToken: string;\n    sessionCode: string;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/api/services/session-user.service.ts","/* tslint:disable */\nimport { Injectable } from '@angular/core';\nimport {\n  HttpClient, HttpRequest, HttpResponse,\n  HttpHeaders, HttpParams } from '@angular/common/http';\nimport { BaseService } from '../base-service';\nimport { ApiConfiguration } from '../api-configuration';\nimport { Observable } from 'rxjs/Observable';\nimport { map } from 'rxjs/operators/map';\nimport { filter } from 'rxjs/operators/filter';\n\nimport { SessionChatResponse } from '../models/session-chat-response';\nimport { SessionChatMessageResponse } from '../models/session-chat-message-response';\nimport { SessionChatMessageRequest } from '../models/session-chat-message-request';\n\n\n@Injectable()\nexport class SessionChatService extends BaseService {\n  constructor(\n    config: ApiConfiguration,\n    http: HttpClient\n  ) {\n    super(config, http);\n  }\n\n\n  /**\n   * @param params The `SessionChatService.GetMessagesParams` containing the following parameters:\n   *\n   * - `sessionCode`: The session code\n   *\n   * - `senderToken`: The senders token\n   *\n   * - `receiverToken`: The receiver token\n   *\n   * @return Returns the chat - inclusive chat history\n   */\n\n  getMessagesResponse(params: SessionChatService.GetMessagesParams): Observable<HttpResponse<SessionChatResponse>> {\n    let __params = new HttpParams();\n    let __headers = new HttpHeaders();\n    let __body: any = null;\n\n\n\n    let req = new HttpRequest<any>(\n      \"GET\",\n      this.rootUrl + `/session/${params.sessionCode}/chat/${params.senderToken}/${params.receiverToken}`,\n      __body,\n      {\n        headers: __headers,\n        params: __params,\n        responseType: 'json'\n      });\n\n    return this.http.request<any>(req).pipe(\n      filter(_r => _r instanceof HttpResponse),\n      map(_r => {\n        let _resp = _r as HttpResponse<any>;\n        let _body: SessionChatResponse = null;\n        _body = _resp.body as SessionChatResponse\n        return _resp.clone({body: _body}) as HttpResponse<SessionChatResponse>;\n      })\n    );\n  }\n\n\n  /**\n   * @param params The `SessionChatService.GetMessagesParams` containing the following parameters:\n   *\n   * - `sessionCode`: The session code\n   *\n   * - `senderToken`: The senders token\n   *\n   * - `receiverToken`: The receiver token\n   *\n   * @return Returns the chat - inclusive chat history\n   */\n\n  getMessages(params: SessionChatService.GetMessagesParams): Observable<SessionChatResponse> {\n    return this.getMessagesResponse(params).pipe(\n      map(_r => (<any>_r).body)\n    );\n  }\n\n\n  /**\n   * @param params The `SessionChatService.SetMessageReadParams` containing the following parameters:\n   *\n   * - `sessionCode`: The session code\n   *\n   * - `senderToken`: The senders token\n   *\n   * - `receiverToken`: The receiver token\n   *\n   * @return Returns sended chat message\n   */\n\n  setMessageReadResponse(params: SessionChatService.SetMessageReadParams): Observable<HttpResponse<SessionChatMessageResponse>> {\n    let __params = new HttpParams();\n    let __headers = new HttpHeaders();\n    let __body: any = null;\n\n\n\n    let req = new HttpRequest<any>(\n      \"PUT\",\n      this.rootUrl + `/session/${params.sessionCode}/chat/${params.senderToken}/${params.receiverToken}`,\n      __body,\n      {\n        headers: __headers,\n        params: __params,\n        responseType: 'json'\n      });\n\n    return this.http.request<any>(req).pipe(\n      filter(_r => _r instanceof HttpResponse),\n      map(_r => {\n        let _resp = _r as HttpResponse<any>;\n        let _body: SessionChatMessageResponse = null;\n        _body = _resp.body as SessionChatMessageResponse\n        return _resp.clone({body: _body}) as HttpResponse<SessionChatMessageResponse>;\n      })\n    );\n  }\n\n\n  /**\n   * @param params The `SessionChatService.SetMessageReadParams` containing the following parameters:\n   *\n   * - `sessionCode`: The session code\n   *\n   * - `senderToken`: The senders token\n   *\n   * - `receiverToken`: The receiver token\n   *\n   * @return Returns sended chat message\n   */\n\n  setMessageRead(params: SessionChatService.SetMessageReadParams): Observable<SessionChatMessageResponse> {\n    return this.setMessageReadResponse(params).pipe(\n      map(_r => (<any>_r).body)\n    );\n  }\n\n\n  /**\n   * @param params The `SessionChatService.SendMessageToUserParams` containing the following parameters:\n   *\n   * - `sessionCode`: The session code\n   *\n   * - `senderToken`: The senders token\n   *\n   * - `receiverToken`: The receiver token\n   *\n   * - `chatMessage`: The message\n   *\n   * @return Returns sended chat message\n   */\n\n  sendMessageToUserResponse(params: SessionChatService.SendMessageToUserParams): Observable<HttpResponse<SessionChatMessageResponse>> {\n    let __params = new HttpParams();\n    let __headers = new HttpHeaders();\n    let __body: any = null;\n\n\n\n    __body = params.chatMessage;\n    let req = new HttpRequest<any>(\n      \"POST\",\n      this.rootUrl + `/session/${params.sessionCode}/chat/${params.senderToken}/${params.receiverToken}`,\n      __body,\n      {\n        headers: __headers,\n        params: __params,\n        responseType: 'json'\n      });\n\n    return this.http.request<any>(req).pipe(\n      filter(_r => _r instanceof HttpResponse),\n      map(_r => {\n        let _resp = _r as HttpResponse<any>;\n        let _body: SessionChatMessageResponse = null;\n        _body = _resp.body as SessionChatMessageResponse\n        return _resp.clone({body: _body}) as HttpResponse<SessionChatMessageResponse>;\n      })\n    );\n  }\n\n\n  /**\n   * @param params The `SessionChatService.SendMessageToUserParams` containing the following parameters:\n   *\n   * - `sessionCode`: The session code\n   *\n   * - `senderToken`: The senders token\n   *\n   * - `receiverToken`: The receiver token\n   *\n   * - `chatMessage`: The message\n   *\n   * @return Returns sended chat message\n   */\n\n  sendMessageToUser(params: SessionChatService.SendMessageToUserParams): Observable<SessionChatMessageResponse> {\n    return this.sendMessageToUserResponse(params).pipe(\n      map(_r => (<any>_r).body)\n    );\n  }\n\n\n  /**\n   * @param params The `SessionChatService.GetNewMessagesParams` containing the following parameters:\n   *\n   * - `sessionCode`: The session code\n   *\n   * - `senderToken`: The senders token, User A\n   *\n   * - `receiverToken`: The receiver token, User B\n   *\n   * @return Returns new (unread) msgs for User A from User B\n   */\n\n  getNewMessagesResponse(params: SessionChatService.GetNewMessagesParams): Observable<HttpResponse<Array<SessionChatMessageResponse>>> {\n    let __params = new HttpParams();\n    let __headers = new HttpHeaders();\n    let __body: any = null;\n\n\n\n    let req = new HttpRequest<any>(\n      \"GET\",\n      this.rootUrl + `/session/${params.sessionCode}/chat/${params.senderToken}/${params.receiverToken}/new`,\n      __body,\n      {\n        headers: __headers,\n        params: __params,\n        responseType: 'json'\n      });\n\n    return this.http.request<any>(req).pipe(\n      filter(_r => _r instanceof HttpResponse),\n      map(_r => {\n        let _resp = _r as HttpResponse<any>;\n        let _body: Array<SessionChatMessageResponse> = null;\n        _body = _resp.body as Array<SessionChatMessageResponse>\n        return _resp.clone({body: _body}) as HttpResponse<Array<SessionChatMessageResponse>>;\n      })\n    );\n  }\n\n\n  /**\n   * @param params The `SessionChatService.GetNewMessagesParams` containing the following parameters:\n   *\n   * - `sessionCode`: The session code\n   *\n   * - `senderToken`: The senders token, User A\n   *\n   * - `receiverToken`: The receiver token, User B\n   *\n   * @return Returns new (unread) msgs for User A from User B\n   */\n\n  getNewMessages(params: SessionChatService.GetNewMessagesParams): Observable<Array<SessionChatMessageResponse>> {\n    return this.getNewMessagesResponse(params).pipe(\n      map(_r => (<any>_r).body)\n    );\n  }\n\n\n  /**\n   * @param params The `SessionChatService.SendMessageToUsersParams` containing the following parameters:\n   *\n   * - `sessionCode`: The session code\n   *\n   * - `senderToken`: The senders token\n   *\n   * - `chatMessage`: The message\n   *\n   * @return Returns sended chat messages\n   */\n\n  sendMessageToUsersResponse(params: SessionChatService.SendMessageToUsersParams): Observable<HttpResponse<Array<SessionChatMessageResponse>>> {\n    let __params = new HttpParams();\n    let __headers = new HttpHeaders();\n    let __body: any = null;\n\n\n    __body = params.chatMessage;\n    let req = new HttpRequest<any>(\n      \"POST\",\n      this.rootUrl + `/session/${params.sessionCode}/chat/${params.senderToken}`,\n      __body,\n      {\n        headers: __headers,\n        params: __params,\n        responseType: 'json'\n      });\n\n    return this.http.request<any>(req).pipe(\n      filter(_r => _r instanceof HttpResponse),\n      map(_r => {\n        let _resp = _r as HttpResponse<any>;\n        let _body: Array<SessionChatMessageResponse> = null;\n        _body = _resp.body as Array<SessionChatMessageResponse>\n        return _resp.clone({body: _body}) as HttpResponse<Array<SessionChatMessageResponse>>;\n      })\n    );\n  }\n\n\n    postMedia(file: FormData, session: string, sender: string): any {\n        let __headers = new HttpHeaders();\n        __headers.append('Content-Type', 'multipart/form-data');\n        __headers.append('Accept', 'application/json');\n\n\n\n        let req = new HttpRequest<any>(\n            \"POST\",\n            this.rootUrl + `/session/${session}/media/${sender}`, file,\n            {\n                headers: __headers\n            });\n\n        return this.http.request<any>(req).toPromise().catch(err=>{console.log(\"ERROR#####: \", err)});\n    }\n\n\n  /**\n   * @param params The `SessionChatService.SendMessageToUsersParams` containing the following parameters:\n   *\n   * - `sessionCode`: The session code\n   *\n   * - `senderToken`: The senders token\n   *\n   * - `chatMessage`: The message\n   *\n   * @return Returns sended chat messages\n   */\n\n  sendMessageToUsers(params: SessionChatService.SendMessageToUsersParams): Observable<Array<SessionChatMessageResponse>> {\n    return this.sendMessageToUsersResponse(params).pipe(\n      map(_r => (<any>_r).body)\n    );\n  }\n}\n\nexport module SessionChatService {\n  export interface GetMessagesParams {\n    sessionCode: string;\n    senderToken: string;\n    receiverToken: string;\n  }\n  export interface SetMessageReadParams {\n    sessionCode: string;\n    senderToken: string;\n    receiverToken: string;\n  }\n  export interface SendMessageToUserParams {\n    sessionCode: string;\n    senderToken: string;\n    receiverToken: string;\n    chatMessage: SessionChatMessageRequest;\n  }\n  export interface GetNewMessagesParams {\n    sessionCode: string;\n    senderToken: string;\n    receiverToken: string;\n  }\n  export interface SendMessageToUsersParams {\n    sessionCode: string;\n    senderToken: string;\n    chatMessage: SessionChatMessageRequest;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/api/services/session-chat.service.ts","/* tslint:disable */\nimport { Injectable } from '@angular/core';\nimport {\n  HttpClient, HttpRequest, HttpResponse,\n  HttpHeaders, HttpParams } from '@angular/common/http';\nimport { BaseService } from '../base-service';\nimport { ApiConfiguration } from '../api-configuration';\nimport { Observable } from 'rxjs/Observable';\nimport { map } from 'rxjs/operators/map';\nimport { filter } from 'rxjs/operators/filter';\n\nimport { SessionEventsResponse } from '../models/session-events-response';\nimport { EventsAddRequest } from '../models/events-add-request';\n\n\n@Injectable()\nexport class SessionEventService extends BaseService {\n  constructor(\n    config: ApiConfiguration,\n    http: HttpClient\n  ) {\n    super(config, http);\n  }\n\n\n  /**\n   * @param sessionCode The session code\n   * @return Returns all events of the session\n   */\n\n  getEventsResponse(sessionCode: string): Observable<HttpResponse<SessionEventsResponse>> {\n    let __params = new HttpParams();\n    let __headers = new HttpHeaders();\n    let __body: any = null;\n\n    let req = new HttpRequest<any>(\n      \"GET\",\n      this.rootUrl + `/session/${sessionCode}/event`,\n      __body,\n      {\n        headers: __headers,\n        params: __params,\n        responseType: 'json'\n      });\n\n    return this.http.request<any>(req).pipe(\n      filter(_r => _r instanceof HttpResponse),\n      map(_r => {\n        let _resp = _r as HttpResponse<any>;\n        let _body: SessionEventsResponse = null;\n        _body = _resp.body as SessionEventsResponse\n        return _resp.clone({body: _body}) as HttpResponse<SessionEventsResponse>;\n      })\n    );\n  }\n\n\n  /**\n   * @param sessionCode The session code\n   * @return Returns all events of the session\n   */\n\n  getEvents(sessionCode: string): Observable<SessionEventsResponse> {\n    return this.getEventsResponse(sessionCode).pipe(\n      map(_r => (<any>_r).body)\n    );\n  }\n\n\n  /**\n   * @param params The `SessionEventService.GetUserEventsParams` containing the following parameters:\n   *\n   * - `userToken`: The user token\n   *\n   * - `sessionCode`: The session code\n   *\n   * @return Returns all events of the session for given user token\n   */\n\n  getUserEventsResponse(params: SessionEventService.GetUserEventsParams): Observable<HttpResponse<SessionEventsResponse>> {\n    let __params = new HttpParams();\n    let __headers = new HttpHeaders();\n    let __body: any = null;\n\n\n    let req = new HttpRequest<any>(\n      \"GET\",\n      this.rootUrl + `/session/${params.sessionCode}/user/${params.userToken}/events`,\n      __body,\n      {\n        headers: __headers,\n        params: __params,\n        responseType: 'json'\n      });\n\n    return this.http.request<any>(req).pipe(\n      filter(_r => _r instanceof HttpResponse),\n      map(_r => {\n        let _resp = _r as HttpResponse<any>;\n        let _body: SessionEventsResponse = null;\n        _body = _resp.body as SessionEventsResponse\n        return _resp.clone({body: _body}) as HttpResponse<SessionEventsResponse>;\n      })\n    );\n  }\n\n\n  /**\n   * @param params The `SessionEventService.GetUserEventsParams` containing the following parameters:\n   *\n   * - `userToken`: The user token\n   *\n   * - `sessionCode`: The session code\n   *\n   * @return Returns all events of the session for given user token\n   */\n\n  getUserEvents(params: SessionEventService.GetUserEventsParams): Observable<SessionEventsResponse> {\n    return this.getUserEventsResponse(params).pipe(\n      map(_r => (<any>_r).body)\n    );\n  }\n\n\n  /**\n   * @param params The `SessionEventService.AddEventsParams` containing the following parameters:\n   *\n   * - `userToken`: userToken of sending user\n   *\n   * - `sessionCode`: The session code\n   *\n   * - `events`: An array of user events EventsAddRequest\n   *\n   * @return Returns added event\n   */\n\n  addEventsResponse(params: SessionEventService.AddEventsParams): Observable<HttpResponse<SessionEventsResponse>> {\n    let __params = new HttpParams();\n    let __headers = new HttpHeaders();\n    let __body: any = null;\n\n\n    __body = params.events;\n    let req = new HttpRequest<any>(\n      \"POST\",\n      this.rootUrl + `/session/${params.sessionCode}/user/${params.userToken}/events`,\n      __body,\n      {\n        headers: __headers,\n        params: __params,\n        responseType: 'json'\n      });\n\n    return this.http.request<any>(req).pipe(\n      filter(_r => _r instanceof HttpResponse),\n      map(_r => {\n        let _resp = _r as HttpResponse<any>;\n        let _body: SessionEventsResponse = null;\n        _body = _resp.body as SessionEventsResponse\n        return _resp.clone({body: _body}) as HttpResponse<SessionEventsResponse>;\n      })\n    );\n  }\n\n\n  /**\n   * @param params The `SessionEventService.AddEventsParams` containing the following parameters:\n   *\n   * - `userToken`: userToken of sending user\n   *\n   * - `sessionCode`: The session code\n   *\n   * - `events`: An array of user events EventsAddRequest\n   *\n   * @return Returns added event\n   */\n\n  addEvents(params: SessionEventService.AddEventsParams): Observable<SessionEventsResponse> {\n    return this.addEventsResponse(params).pipe(\n      map(_r => (<any>_r).body)\n    );\n  }\n\n\n  /**\n   * @param params The `SessionEventService.GetAuthorEventsParams` containing the following parameters:\n   *\n   * - `userToken`: The user token\n   *\n   * - `unixTime`: Unix time\n   *\n   * - `sessionCode`: The session code\n   *\n   * @return Returns author events that happened after given unix time\n   */\n\n  getAuthorEventsResponse(params: SessionEventService.GetAuthorEventsParams): Observable<HttpResponse<SessionEventsResponse>> {\n    let __params = new HttpParams();\n    let __headers = new HttpHeaders();\n    let __body: any = null;\n\n\n\n    let req = new HttpRequest<any>(\n      \"GET\",\n      this.rootUrl + `/session/${params.sessionCode}/user/${params.userToken}/authorEvents/${params.unixTime}`,\n      __body,\n      {\n        headers: __headers,\n        params: __params,\n        responseType: 'json'\n      });\n\n    return this.http.request<any>(req).pipe(\n      filter(_r => _r instanceof HttpResponse),\n      map(_r => {\n        let _resp = _r as HttpResponse<any>;\n        let _body: SessionEventsResponse = null;\n        _body = _resp.body as SessionEventsResponse\n        return _resp.clone({body: _body}) as HttpResponse<SessionEventsResponse>;\n      })\n    );\n  }\n\n\n  /**\n   * @param params The `SessionEventService.GetAuthorEventsParams` containing the following parameters:\n   *\n   * - `userToken`: The user token\n   *\n   * - `unixTime`: Unix time\n   *\n   * - `sessionCode`: The session code\n   *\n   * @return Returns author events that happened after given unix time\n   */\n\n  getAuthorEvents(params: SessionEventService.GetAuthorEventsParams): Observable<SessionEventsResponse> {\n    return this.getAuthorEventsResponse(params).pipe(\n      map(_r => (<any>_r).body)\n    );\n  }\n}\n\nexport module SessionEventService {\n  export interface GetUserEventsParams {\n    userToken: string;\n    sessionCode: string;\n  }\n  export interface AddEventsParams {\n    userToken: string;\n    sessionCode: string;\n    events: EventsAddRequest;\n  }\n  export interface GetAuthorEventsParams {\n    userToken: string;\n    unixTime: string;\n    sessionCode: string;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/api/services/session-event.service.ts","/* tslint:disable */\nimport { Injectable } from '@angular/core';\nimport {\n  HttpClient, HttpRequest, HttpResponse,\n  HttpHeaders, HttpParams } from '@angular/common/http';\nimport { BaseService } from '../base-service';\nimport { ApiConfiguration } from '../api-configuration';\nimport { Observable } from 'rxjs/Observable';\nimport { map } from 'rxjs/operators/map';\nimport { filter } from 'rxjs/operators/filter';\n\nimport { LeaderboardResponse } from '../models/leaderboard-response';\n\n\n@Injectable()\nexport class SessionUserLeaderboardService extends BaseService {\n  constructor(\n    config: ApiConfiguration,\n    http: HttpClient\n  ) {\n    super(config, http);\n  }\n\n\n  /**\n   * @param params The `SessionUserLeaderboardService.GetLeaderboardParams` containing the following parameters:\n   *\n   * - `userToken`: The session user's token\n   *\n   * - `sessionCode`: The session code\n   *\n   * @return Returns Leaderboard array\n   */\n\n  getLeaderboardResponse(params: SessionUserLeaderboardService.GetLeaderboardParams): Observable<HttpResponse<LeaderboardResponse>> {\n    let __params = new HttpParams();\n    let __headers = new HttpHeaders();\n    let __body: any = null;\n\n\n    let req = new HttpRequest<any>(\n      \"GET\",\n      this.rootUrl + `/session/${params.sessionCode}/user/${params.userToken}/leaderboard`,\n      __body,\n      {\n        headers: __headers,\n        params: __params,\n        responseType: 'json'\n      });\n\n    return this.http.request<any>(req).pipe(\n      filter(_r => _r instanceof HttpResponse),\n      map(_r => {\n        let _resp = _r as HttpResponse<any>;\n        let _body: LeaderboardResponse = null;\n        _body = _resp.body as LeaderboardResponse\n        return _resp.clone({body: _body}) as HttpResponse<LeaderboardResponse>;\n      })\n    );\n  }\n\n\n  /**\n   * @param params The `SessionUserLeaderboardService.GetLeaderboardParams` containing the following parameters:\n   *\n   * - `userToken`: The session user's token\n   *\n   * - `sessionCode`: The session code\n   *\n   * @return Returns Leaderboard array\n   */\n\n  getLeaderboard(params: SessionUserLeaderboardService.GetLeaderboardParams): Observable<LeaderboardResponse> {\n    return this.getLeaderboardResponse(params).pipe(\n      map(_r => (<any>_r).body)\n    );\n  }\n}\n\nexport module SessionUserLeaderboardService {\n  export interface GetLeaderboardParams {\n    userToken: string;\n    sessionCode: string;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/api/services/session-user-leaderboard.service.ts","/* tslint:disable */\nimport { Injectable } from '@angular/core';\n\n/**\n * Contains global configuration for API services\n */\n@Injectable()\nexport class ApiConfiguration {\n  // rootUrl: string = \"https://api.mathcitymap.eu/public/index.php\" // http://localhost/;\n  // rootUrl: string = \"https://api-dev.mathcitymap.eu/public/index.php\";\n  rootUrl: string = \"http://192.168.178.28/mcmapi\";\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/api/api-configuration.ts","import { SQLite, SQLiteObject, SQLiteDatabaseConfig } from '@ionic-native/sqlite'\nimport { DBC } from './DBC'\nimport * as Collections from 'typescript-collections'\nimport { checkAvailability } from \"@ionic-native/core\";\n\n// FIXME: Web fallback doesn't work anymore since google removed support for openDatabase\n//  Below is an ai generated example of how it could look like using @sqlite.org/sqlite-wasm: Note typeorm would also need to be adapted to use the same database storage\n// import initSqlite from '@sqlite.org/sqlite-wasm';\n//\n// class SQLiteWasmOPFSObject {\n//     private db: any;\n//\n//     constructor(db: any) {\n//         this.db = db;\n//     }\n//\n//     async executeSql(statement: string, params: any[] = []): Promise<any[]> {\n//         console.debug('SQL:', statement, params);\n//         const stmt = this.db.prepare(statement);\n//         stmt.bind(params);\n//\n//         const results = [];\n//         while (stmt.step()) {\n//             results.push(stmt.getAsObject());\n//         }\n//         stmt.free();\n//\n//         return results;\n//     }\n// }\n//\n// class SQLiteWasmOPFS {\n//     private dbInstance: SQLiteWasmOPFSObject | null = null;\n//\n//     async create(): Promise<SQLiteWasmOPFSObject> {\n//         if (this.dbInstance) return this.dbInstance;\n//\n//         const sqlite3 = await initSqlite();\n//\n//         // Try to open a persistent OPFS-backed database\n//         const db = await sqlite3.oo1.OpfsDb.open('mcm.sqlite3'); // <- magic happens here\n//\n//         this.dbInstance = new SQLiteWasmOPFSObject(db);\n//         return this.dbInstance;\n//     }\n// }\n\ndeclare var openDatabase: any;\n\nclass WebSQLObject extends SQLiteObject {\n  constructor() {\n    super(openDatabase('mcm', '1.0', 'MCM DB', 2 * 1024 * 1024));\n  }\n\n  executeSql(statement: string, params: any): Promise<any> {\n    return new Promise<SQLiteObject>((resolve, reject) => {\n      this._objectInstance.transaction(function (tx) {\n        console.debug(statement);\n        tx.executeSql(statement, params, function (tx, results) {\n          resolve(results);\n        }, function (tx, error) {\n          reject(error);\n        });\n      });\n    });\n  }\n}\n\nclass WebSQL extends SQLite {\n  create(config: SQLiteDatabaseConfig): Promise<SQLiteObject> {\n    return new Promise<SQLiteObject>((resolve, reject) => {\n      resolve(new WebSQLObject());\n    });\n  }\n}\n\nexport class DB_Handler {\n  private static mInstance: DB_Handler = null\n  private mSQLite: SQLite = null\n  private mDB: SQLiteObject = null\n  private mReady: boolean = false\n  private cache = {}\n\n\n  public static getInstance(): DB_Handler {\n    if (this.mInstance === null) {\n      this.mInstance = new DB_Handler();\n    }\n\n    return this.mInstance\n  }\n\n  private constructor() { }\n\n  ready(): Promise<void> {\n    if (this.mReady) {\n      return Promise.resolve();\n    }\n    return new Promise<void>((resolve, reject) => {\n      this.mSQLite = checkAvailability(SQLite.getPluginRef(), null, SQLite.getPluginName()) === true ? new SQLite() : new WebSQL();\n      this.mSQLite.create({\n        name: 'mcm_db.sqlite3',\n        location: 'default'\n      })\n        .then((db: SQLiteObject) => {\n          this.mDB = db\n          this.mReady = true;\n          console.log('Connected to DB')\n          // it's ok to always run onCreate because SQL has IF EXISTS\n          this.onCreate().then(() => {\n            this.mReady = true;\n            resolve()\n          })\n        })\n        .catch(e => {\n          console.error('Error connecting to DB', JSON.stringify(e))\n          reject(e)\n        });\n    })\n  }\n\n  private onCreate(): Promise<void> {\n    // Create Tables\n    let CREATE_STATE_TABLE: string = DBC.DB_STATE.getCreateStatement()\n    let CREATE_TASK_TABLE: string = DBC.DB_TASK.getCreateStatement()\n    let CREATE_ROUTE_TABLE: string = DBC.DB_ROUTE.getCreateStatement()\n    let CREATE_RELROUTETASK_TABLE: string = DBC.DB_RELROUTETASK.getCreateStatement()\n    let CREATE_USERS_TABLE: string = DBC.DB_USERS.getCreateStatement()\n    let CREATE_SCORE_TABLE: string = DBC.DB_SCORE.getCreateStatement()\n\n    return new Promise<void>((resolve, reject) => {\n      Promise.all<void>([\n        this.mDB.executeSql(CREATE_STATE_TABLE, null),\n        this.mDB.executeSql(CREATE_TASK_TABLE, null),\n        this.mDB.executeSql(CREATE_ROUTE_TABLE, null),\n        this.mDB.executeSql(CREATE_RELROUTETASK_TABLE, null),\n        this.mDB.executeSql(CREATE_USERS_TABLE, null),\n        this.mDB.executeSql(CREATE_SCORE_TABLE, null)\n      ]).then(() => {\n        resolve()\n      }).catch(error => {\n        reject(error)\n      })\n    })\n\n\n  }\n\n  protected initTableVersions(): Promise<void> {\n    return new Promise<void>((resolve, reject) => {\n      let sql = `INSERT INTO ${DBC.DATABASE_TABLE_STATE} (${DBC.DB_STATE.fields[1]},${DBC.DB_STATE.fields[2]}) VALUES (?,?)`\n      Promise.all([\n        this.mDB.executeSql(sql, [\"version_task\", \"0\"]),\n        this.mDB.executeSql(sql, [\"version_route\", \"0\"]),\n        this.mDB.executeSql(sql, [\"version_rel_route_task\", \"0\"])\n      ]).then(() => {\n        resolve()\n      }).catch(reject)\n    })\n  }\n\n  // TODO:\n  /*\n  Get the table versions in a hashmap\n   */\n  private _getTableVersions(data: any): Collections.Dictionary<string, string> {\n    var result = new Collections.Dictionary<string, string>()\n    for (var i = 0; i < data.rows.length; i++) {\n      var row = data.rows.item(i);\n      result.setValue(row.option, row.value)\n    }\n\n    return result\n  }\n\n  getDB(): SQLiteObject {\n    return this.mDB;\n  }\n\n  getTableVersions(): Promise<Collections.Dictionary<string, string>> {\n    return new Promise<Collections.Dictionary<string, string>>((resolve, reject) => {\n      let sqlQuery = `SELECT ${DBC.DB_STATE.fields[1]},${DBC.DB_STATE.fields[2]} FROM ${DBC.DATABASE_TABLE_STATE}`\n\n      this.mDB.executeSql(sqlQuery, [])\n        .then(result => {\n          console.log(\"TABLE VERSIONS:\", result.rows.length)\n          // console.log(JSON.stringify(result.rows.item(1).option))\n          if (result.rows.length < 3) {\n            console.warn(\"ZERO RESULTS: call initTableVersions\")\n            this.initTableVersions().then(() => {\n              console.log(\"RECEIVED RESULTS, REPEATING SQL\")\n              this.mDB.executeSql(sqlQuery, []).then(result => {\n                console.log(\"RECEIVED RESULTS\", result.rows.length)\n                resolve(this._getTableVersions(result))\n              }).catch(reject)\n            }).catch(reject)\n          } else {\n            // we have results\n            resolve(this._getTableVersions(result))\n          }\n        })\n        .catch(error => {\n          console.error(\"DB_Handler.getTableVersions(): Error:\", error)\n          reject(error)\n        })\n    })\n  }\n\n  //  Wird im ImageDownloader verwendet, dieser bentigt von allen Trails die Infos public und image\n  // 15.05.18 - Select only public trails\n  getTrailsImageInfo(): Promise<[string[]]> {\n    return new Promise<[string[]]>((resolve, reject) => {\n      this.mDB.executeSql(`SELECT public,image FROM ${DBC.DATABASE_TABLE_ROUTE} WHERE public = 1`, null)\n        .then(result => {\n          var info: [string[]] = null\n          for (var i = 0; i < result.rows.length; i++) {\n            let item = [result.rows.item(i).public, result.rows.item(i).image]\n            if (info === null) {\n              info = [item]\n            } else {\n              info.push(item)\n            }\n          }\n          resolve(info)\n        })\n        .catch(error => {\n          reject(error)\n        })\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/classes/DB_Handler.ts","\nimport * as Collections from 'typescript-collections'\nimport { DBC_Plan } from './DBC_Plan'\n\nexport abstract class DBC {\n    static readonly DATABASE_NAME: string = \"mcm_app\"\n    static readonly DATABASE_VERSION: number = 32\n\n    // // Table names (For table definitions look at the corresponding classes DBC_tablename)\n    static readonly DATABASE_TABLE_STATE: string = \"mcm_state\"\n    static readonly DATABASE_TABLE_TASK: string = \"mcm_task\"\n    static readonly DATABASE_TABLE_TASKMETA: string = \"mcm_task_meta\"\n    static readonly DATABASE_TABLE_ROUTE: string = \"mcm_route\"\n    static readonly DATABASE_TABLE_ROUTEMETA: string = \"mcm_route_meta\"\n    static readonly DATABASE_TABLE_REL_ROUTE_TASK: string = \"mcm_rel_route_task\"\n    static readonly DATABASE_TABLE_USERS: string = \"mcm_users\"\n    static readonly DATABASE_TABLE_SCORE: string = \"mcm_score\"\n\n\n    // // Option Names for STATE DB\n    static readonly ON_ROUTE_DATA: string = \"route_id_data_dl\"\n    static readonly ON_ROUTE_DONE: string = \"route_id_done\"\n    static readonly ON_ROUTE_PRIVATE_ACCESS: string = \"route_id_private_access\"\n    static readonly ON_TASK_HINT1_TAKEN: string = \"task_id_hint1_taken\"\n    static readonly ON_TASK_HINT2_TAKEN: string = \"task_id_hint2_taken\"\n    static readonly ON_TASK_HINT3_TAKEN: string = \"task_id_hint3_taken\"\n    static readonly ON_TASK_SOLVED: string = \"task_id_solved\"\n    static readonly ON_TASK_SOLVED_LOW: string = \"task_id_solved_low\"\n    static readonly ON_ACTIVE_USER: string = \"active_user\"\n    static readonly ON_GAMIFICATION: string = \"gamification\"\n\n    // /* TABLE DEFINITIONS */\n    // // DB_STATE\n    static readonly DB_STATE: DBC_Plan = new DBC_Plan(\n        DBC.DATABASE_TABLE_STATE,\n        [\n            \"_id\",\n            \"option\",\n            \"value\",\n            \"timestamp\"\n        ],\n        [\n            \"INTEGER\",\n            \"VARCHAR\",\n            \"VARCHAR\",\n            \"TIMESTAMP\"\n        ],\n        [\n            \"PRIMARY KEY AUTOINCREMENT\",\n            \"(64) NOT NULL\",\n            \"(256) NOT NULL\",\n            \"NOT NULL DEFAULT CURRENT_TIMESTAMP\"\n        ]\n    )\n\n    // //DB_TASK\n    static readonly DB_TASK: DBC_Plan = new DBC_Plan(\n        DBC.DATABASE_TABLE_TASK,\n        [\n            \"_id\",\n            \"user_id\",\n            \"public\",\n            \"lat\",\n            \"lon\",\n            \"title\",\n            \"description\",\n            \"image\",\n            \"solution_type\",\n            \"solution\",\n            \"hint1\",\n            \"hint2\",\n            \"hint3\",\n            \"assistive_equipment\",\n            \"author\",\n            \"mail\",\n            \"grade\",\n            \"tags\",\n            \"timestamp\",\n            \"solutionsample\",\n            \"attr\",\n            \"create_date\",\n            \"lang_code\",\n            \"visible\",\n            \"parent_task_id\",\n            \"position\",\n            \"ar_link\",\n            \"code\",\n            \"task_format\",\n            \"position_in_parent\"\n        ],\n        [\n            \"INTEGER\",\n            \"INTEGER\",\n            \"VARCHAR\",\n            \"VARCHAR\",\n            \"VARCHAR\",\n            \"TEXT\",\n            \"TEXT\",\n            \"TEXT\",\n            \"TEXT\",\n            \"TEXT\",\n            \"TEXT\",\n            \"TEXT\",\n            \"TEXT\",\n            \"TEXT\",\n            \"TEXT\",\n            \"TEXT\",\n            \"VARCHAR\",\n            \"TEXT\",\n            \"TIMESTAMP\",\n            \"TEXT\",\n            \"TEXT\",\n            \"TIMESTAMP\",\n            \"VARCHAR\",\n            \"INTEGER\",\n            \"INTEGER\",\n            \"INTEGER\",\n            \"VARCHAR\",\n            \"VARCHAR\",\n            \"VARCHAR\",\n            \"INTEGER\"\n        ],\n        [\n            \"PRIMARY KEY AUTOINCREMENT\",\n            \"NOT NULL\",\n            \"(1) NOT NULL\",\n            \"(64) NOT NULL\",\n            \"(64) NOT NULL\",\n            \"NOT NULL\",\n            \"NOT NULL\",\n            \"\",\n            \"NOT NULL\",\n            \"NOT NULL\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"(2) NOT NULL DEFAULT '13'\",\n            \"\",\n            \"NOT NULL DEFAULT CURRENT_TIMESTAMP\",\n            \"NOT NULL\",\n            \"\",\n            \"NOT NULL\",\n            \"(2)\",\n            \"(1) NOT NULL DEFAULT 1\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\"\n        ]\n    )\n\n    // DB_ROUTE\n    static readonly DB_ROUTE: DBC_Plan = new DBC_Plan(\n        DBC.DATABASE_TABLE_ROUTE,\n        [\n            \"_id\",\n            \"user_id\",\n            \"public\",\n            \"title\",\n            \"country_code\",\n            \"city\",\n            \"image\",\n            \"code\",\n            \"grade\",\n            \"tags\",\n            \"duration\",\n            \"length\",\n            \"bounding_box\",\n            \"center\",\n            \"timestamp\",\n            \"description\",\n            \"create_date\",\n            \"attr\",\n            \"lang_code\",\n            \"map_version\",\n            \"map_filename\",\n            \"map_date\",\n            \"path_geojson\",\n            \"path_info\",\n            \"min_zoom\"\n        ],\n        [\n            \"INTEGER\",\n            \"INTEGER\",\n            \"VARCHAR\",\n            \"TEXT\",\n            \"TEXT\",\n            \"TEXT\",\n            \"TEXT\",\n            \"VARCHAR\",\n            \"TEXT\",\n            \"VARCHAR\",\n            \"VARCHAR\",\n            \"VARCHAR\",\n            \"TEXT\",\n            \"TEXT\",\n            \"TIMESTAMP\",\n            \"TEXT\",\n            \"TIMESTAMP\",\n            \"TEXT\",\n            \"VARCHAR\",\n            \"TEXT\",\n            \"TEXT\",\n            \"TEXT\",\n            \"TEXT\",\n            \"TEXT\",\n            \"INTEGER\"\n        ],\n        [\n            \"PRIMARY KEY AUTOINCREMENT\",\n            \"NOT NULL\",\n            \"(1) NOT NULL\",\n            \"NOT NULL\",\n            \"NOT NULL\",\n            \"NOT NULL\",\n            \"\",\n            \"(64)\",\n            \"(64)\",\n            \"\",\n            \"(64)\",\n            \"(64)\",\n            \"\",\n            \"\",\n            \"NOT NULL DEFAULT CURRENT_TIMESTAMP\",\n            \"\",\n            \"NOT NULL\",\n            \"\",\n            \"(2)\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\",\n            \"\"\n        ]\n    )\n\n    // // DB_RELROUTETASK\n    static readonly DB_RELROUTETASK: DBC_Plan = new DBC_Plan(\n        DBC.DATABASE_TABLE_REL_ROUTE_TASK,\n        [\n            \"_id\",\n            \"force_support_tasks\",\n            \"route_id\",\n            \"task_id\",\n            \"timestamp\"\n        ],\n        [\n            \"INTEGER\",\n            \"INTEGER\",\n            \"INTEGER\",\n            \"INTEGER\",\n            \"TIMESTAMP\"\n        ],\n        [\n            \"PRIMARY KEY AUTOINCREMENT\",\n            \"(1)\",\n            \"(64) NOT NULL\",\n            \"(64) NOT NULL\",\n            \"NOT NULL DEFAULT CURRENT_TIMESTAMP\"\n        ]\n    )\n\n    // // DB_USERS\n    static readonly DB_USERS: DBC_Plan = new DBC_Plan(\n        DBC.DATABASE_TABLE_USERS,\n        [\n            \"_id\",\n            \"name\",\n            \"create_date\"\n        ],\n        [\n            \"INTEGER\",\n            \"VARCHAR\",\n            \"TIMESTAMP\"\n        ],\n        [\n            \"PRIMARY KEY AUTOINCREMENT\",\n            \"(32) NOT NULL\",\n            \"NOT NULL DEFAULT CURRENT_TIMESTAMP\"\n        ]\n    )\n\n    // // DB_SCORE\n    static readonly DB_SCORE: DBC_Plan = new DBC_Plan(\n        DBC.DATABASE_TABLE_SCORE,\n        [\n            \"_id\",\n            \"user_id\",\n            \"route_id\",\n            \"score\",\n            \"tasks_solved\",\n            \"tasks_solved_low\",\n            \"task_details\",\n            \"time\",\n            \"distance\"\n        ],\n        [\n            \"INTEGER\",\n            \"INTEGER\",\n            \"INTEGER\",\n            \"INTEGER\",\n            \"TEXT\",\n            \"TEXT\",\n            \"TEXT\",\n            \"INTEGER\",\n            \"INTEGER\",\n        ],\n        [\n            \"PRIMARY KEY AUTOINCREMENT\",\n            \"(64) NOT NULL\",\n            \"(64) NOT NULL\",\n            \"(64) NOT NULL\",\n            \"\",\n            \"\",\n            \"\",\n            \"(64)\",\n            \"(64)\"\n        ]\n    )\n\n    /*\n    DB MAP: Tablename -> DB Instance\n     */\n    static MAP_DB: Collections.Dictionary<string, DBC_Plan> = null\n\n    static initialize() {\n        if (DBC.MAP_DB === null) {\n            DBC.MAP_DB = new Collections.Dictionary<string, DBC_Plan>()\n            DBC.MAP_DB.setValue(DBC.DATABASE_TABLE_REL_ROUTE_TASK, DBC.DB_RELROUTETASK)\n            DBC.MAP_DB.setValue(DBC.DATABASE_TABLE_ROUTE, DBC.DB_ROUTE)\n            DBC.MAP_DB.setValue(DBC.DATABASE_TABLE_STATE, DBC.DB_STATE)\n            DBC.MAP_DB.setValue(DBC.DATABASE_TABLE_TASK, DBC.DB_TASK)\n            DBC.MAP_DB.setValue(DBC.DATABASE_TABLE_USERS, DBC.DB_USERS)\n            DBC.MAP_DB.setValue(DBC.DATABASE_TABLE_SCORE, DBC.DB_SCORE)\n        }\n    }\n}\nDBC.initialize()\n\n\n\n// WEBPACK FOOTER //\n// ./src/classes/DBC.ts","import { ChangeDetectorRef, Component } from '@angular/core';\nimport { ViewController } from 'ionic-angular';\n\n@Component({\n    selector: 'mcm-download-progress-popup',\n    templateUrl:'./mcm-download-progress-popup.component.html',\n})\nexport class MCMDownloadProgressPopupComponent{\n    data = null;\n    private progress = 0;\n    constructor(private viewCtrl: ViewController, private changeDetectorRef: ChangeDetectorRef) {\n        this.data = viewCtrl.data;\n        this.data.updateView = () => {\n            // make sure that angular detects changes\n            changeDetectorRef.detectChanges();\n            this.progress = this.data.currentProgress == 0 ? 0 :\n                Math.round((100/this.data.total) * this.data.currentProgress);\n        }\n    }\n\n    onCancelClick() {\n        if (this.viewCtrl.data.cancelCallback) {\n            this.viewCtrl.data.cancelCallback();\n        }\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/mcm-download-progress-popup/mcm-download-progress-popup.component.ts","import { Component } from '@angular/core';\nimport { AlertController, NavParams } from 'ionic-angular';\nimport { Route } from '../../entity/Route';\nimport { OrmService } from '../../services/orm-service';\nimport { ViewController } from 'ionic-angular/navigation/view-controller';\nimport { ModalsService } from '../../services/modals-service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { NavController } from \"ionic-angular/navigation/nav-controller\";\nimport {SpinnerDialog} from '@ionic-native/spinner-dialog';\nimport {TranslationService} from \"../../app/api/services/translation.service\";\nimport {TrailTranslation} from \"../../app/api/models/trail-translation\";\n\ndeclare var MathJax;\n\n\n@Component({\n    selector: 'route-info',\n    templateUrl: 'RouteInfo.html',\n})\nexport class RouteInfo {\n    protected route: Route;\n\n\n    protected totalTasks: number;\n    private currentProgress = 0;\n\n    protected translation: TrailTranslation;\n    protected translationFetched: boolean;\n    protected translatePage: boolean = false;\n\n\n    constructor(public navParams: NavParams,\n                private ormService: OrmService,\n                private viewCtrl: ViewController,\n                public alertCtrl: AlertController,\n                public navCtrl: NavController,\n                public translateService: TranslateService,\n                private spinnerDialog: SpinnerDialog,\n                private translationService: TranslationService) {\n    }\n\n    async ionViewWillEnter() {\n        let routeId = this.navParams.get('routeId');\n        this.route = this.viewCtrl.data.route = await this.ormService.findRouteById(routeId);\n        //Fetch tasks in Route so Tools of tasks can be shown properly\n        await this.route.getTasks();\n        this.totalTasks = await this.route.getTaskCount();\n        let score = this.route.getScoreForUser(await this.ormService.getActiveUser());\n        this.currentProgress = score.getTasksSolved().length + score.getTasksSolvedLow().length + score.getTasksFailed().length;\n        MathJax.typeset();\n        let {translation, isFetched} = await this.translationService.getTranslationForRoute(this.route.code);\n        this.translation = translation;\n        this.translationFetched = isFetched;\n    }\n\n    async doDownload(route: Route) {\n        // retrieve modalsService via viewCtrl.data to avoid circular dependency\n        let modalsService: ModalsService = this.viewCtrl.data.modalsService;\n        modalsService.doDownload(route);\n    }\n\n    showRoute(route: Route) {\n        if (route.downloaded) {\n            this.viewCtrl.dismiss({showRoute: true, route: route});\n        }\n    }\n\n    async removeRoute() {\n        this.spinnerDialog.show();\n        await this.ormService.removeDownloadedRoute(this.route, true);\n        this.spinnerDialog.hide();\n    }\n\n    displayRemoveTrailModal() {\n        const modalsService: ModalsService = this.viewCtrl.data.modalsService;\n        modalsService.showDialog('a_route_info_modal_removeRoute', 'a_route_info_modal_removeRoute_msg',\n            'no', () => {},\n            'yes', async () => {\n                await this.removeRoute();\n            });\n    }\n\n    async toggleTranslation() {\n        if (!this.translation) {\n            let {translation, isFetched} = await this.translationService.getTranslationForRoute(this.route.code, true);\n            this.translation = translation;\n            this.translationFetched = isFetched;\n        }\n        this.translatePage = this.translation && !this.translatePage;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/modals/RouteInfo/RouteInfo.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { Route } from '../../entity/Route';\nimport { ViewController } from 'ionic-angular/navigation/view-controller';\n\nimport { Task } from '../../entity/Task';\nimport { Score } from \"../../entity/Score\";\nimport { State } from \"../../entity/State\";\n\n\n/**\n * Generated class for the RouteInfoPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'centered-task',\n  templateUrl: 'CenteredTask.html',\n})\nexport class CenteredTask{\n  public route: Route;\n  public score: Score;\n  public state: State;\n\n  public tasks: Task[] = [];\n\n  // public mustBeColored: boolean;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private viewCtrl: ViewController) {\n  }\n\n\n  showRoute(route: Route, selectedTask: Task) {\n    this.viewCtrl.dismiss({route: route, selectedTask: selectedTask});\n  }\n\n  async ionViewWillEnter() {\n  \tthis.route = this.navParams.get('route');\n  \tthis.score = this.navParams.get('score');\n  \t//this.state = this.navParams.get('state');\n  \tthis.tasks = await this.route.getTasks();\n/*     console.log('-------------------', this.totalTasks); */\n  }\n\n  cancel(){\n    this.viewCtrl.dismiss();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/modals/CenteredTask/CenteredTask.ts","import {HttpClient, HttpHeaders} from \"@angular/common/http\";\nimport {Injectable} from \"@angular/core\";\nimport {ApiConfiguration} from \"../api-configuration\";\nimport {BaseService} from \"../base-service\";\nimport {Helper} from \"../../../classes/Helper\";\n\nexport interface ImageUrlResponse {\n    success: boolean,\n    errorMsgs: Array<any>,\n    responseData: {\n        mediaCategory: string,\n        smallUrl: string,\n        mediumUrl: string,\n        largeUrl: string,\n        thumbUrl: string\n    }\n}\n\n@Injectable()\nexport class ProblemReportService extends BaseService{\n\n    constructor(\n        config: ApiConfiguration,\n        http: HttpClient\n    ) {\n        super(config, http);\n    }\n    public uploadImage(file: Blob, taskCode: string): Promise<ImageUrlResponse> {\n        let headers = new HttpHeaders().append('Authorization', 'Basic bWF0aGNpdHltYXA6bWNtMjAxNg==');\n        // headers = headers.append('Content-Type', 'multipart/form-data;')\n        //     .append('Accept', 'application/json')\n\n        let body = new FormData();\n        body.append('file', file, `${taskCode}.jpg`);\n        body.append('appKey', \"mcm\");\n        body.append('filename', `${taskCode}.jpg`);\n        body.append('mediaType', 'image');\n        body.append('mediaCategory', 'pr');\n\n        console.log('REQUEST BODY', body);\n        console.log('REQUEST HEADER', headers);\n\n        return this.http.post<ImageUrlResponse>(Helper.MEDIASERVER_BASE_URL + \"/mcm/uploadImage\", body, {headers: headers}).toPromise();\n    }\n\n    public sendReports(taskCode: string, problemType: string, text: string, imageUrl: string) {\n        return this.http.post(this.rootUrl + \"/problem-reports/tasks/new\", {taskCode, problemType, text, imageUrl}).toPromise();\n    }\n\n    public convertDataUriToBlob(dataURI) {\n        // convert base64 to raw binary data held in a string\n        // doesn't handle URLEncoded DataURIs - see SO answer #6850276 for code that does this\n        let byteString = atob(dataURI.split(',')[1]);\n\n        // separate out the mime component\n        let mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0]\n\n        // write the bytes of the string to an ArrayBuffer\n        let ab = new ArrayBuffer(byteString.length);\n\n        // create a view into the buffer\n        let ia = new Uint8Array(ab);\n\n        // set the bytes of the buffer to the correct values\n        for (let i = 0; i < byteString.length; i++) {\n            ia[i] = byteString.charCodeAt(i);\n        }\n\n        // write the ArrayBuffer to a blob, and you're done\n        return new Blob([ab], {type: mimeString});\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/api/services/problem-report.service.ts","import { Component, ViewChild } from '@angular/core';\nimport { ViewController } from 'ionic-angular/navigation/view-controller';\nimport { ModalController, NavController, NavParams } from \"ionic-angular\";\nimport { MCMJoinSessionModal } from \"../MCMJoinSessionModal/MCMJoinSessionModal\";\nimport { Session } from '../../app/api/models/session';\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\n\n\n@Component({\n    selector: 'mcm-terms-and-conditions-modal',\n    templateUrl:'./MCMTermsAndConditionsModal.html'\n})\nexport class MCMTermsAndConditionsModal {\n    @ViewChild('input') input;\n\n    tacCheckbox: boolean = false;\n    showError: boolean;\n    session: Session;\n    navCtrl: NavController;\n\n    constructor(private navParams: NavParams, public modalCtrl: ModalController, private viewCtrl: ViewController,\n                private inAppBrowser: InAppBrowser) {\n        this.session = this.navParams.data.session;\n        this.navCtrl = this.navParams.data.navCtrl;\n    }\n\n    cancel() {\n        this.viewCtrl.dismiss();\n    }\n\n    async addJoinSession() {\n        let modal = this.modalCtrl.create(MCMJoinSessionModal, {session: this.session, navCtrl: this.navCtrl});\n        this.cancel();\n        modal.present();\n    }\n\n    openTermsAndConditions() {\n        this.inAppBrowser.create(\"https://mathcitymap.eu/de/datenschutzerklaerung/\", \"_blank\");\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/modals/MCMTermsAndConditionsModal/MCMTermsAndConditionsModal.ts","import { Component, ViewChild } from '@angular/core';\nimport { ViewController } from 'ionic-angular/navigation/view-controller';\nimport {NavController, NavParams} from 'ionic-angular';\nimport { Session } from '../../app/api/models/session';\nimport { OrmService } from '../../services/orm-service';\nimport { ModalsService } from '../../services/modals-service';\nimport { ChatAndSessionService } from '../../services/chat-and-session-service';\n\n@Component({\n    selector: 'mcm-join-session-modal',\n    templateUrl:'./MCMJoinSessionModal.html'\n})\nexport class MCMJoinSessionModal {\n    @ViewChild('input') input;\n\n    teamName: string;\n    teamMemberNames: string;\n    teamMemberArray: string[] = [];\n    showError: boolean;\n    codeInput: boolean = false;\n    session: Session;\n    navCtrl: NavController;\n\n    constructor(private viewCtrl: ViewController, private navParams: NavParams, private ormService: OrmService,\n                private modalsService: ModalsService, private sessionService: ChatAndSessionService) {\n        this.session = navParams.data.session;\n        this.navCtrl = navParams.data.navCtrl;\n    }\n\n    ionViewDidEnter() {\n        setTimeout(() => {\n            this.input.setFocus();\n        }, 150);\n    }\n\n    cancel() {\n        this.viewCtrl.dismiss();\n    }\n\n    async start() {\n        if(this.teamMemberNames != null && this.teamMemberNames != \"\") {\n            this.teamMemberArray.push(this.teamMemberNames);\n            this.teamMemberNames = \"\";\n        }\n        let route = await this.ormService.findRouteById(this.session.trail_id);\n        try{\n            await this.sessionService.setActiveSession(this.session, this.teamName, this.teamMemberArray);\n            this.cancel();\n            await this.ormService.unlockRoute(route);\n            this.modalsService.showRoute(route, this.navCtrl)\n        }\n        catch(e){\n            this.cancel();\n            this.modalsService.showDialog('a_session_not_available_yet', 'a_session_not_available_yet_text',\n                'a_g_ok', () => {});\n        }\n     }\n\n    checkInputField() {\n        if(this.teamName != \"\" && this.teamName != null){\n            if(this.teamMemberNames != \"\" && this.teamMemberNames != null) {\n                this.codeInput = true;\n            }\n            else if(this.teamMemberArray.length != 0) {\n                this.codeInput = true;\n            }\n            else {\n                this.codeInput = false;\n            }\n\n        }\n        else {\n            this.codeInput = false;\n        }\n        return this.codeInput;\n    }\n\n\n\n    addTeamMemberName(name: string) {\n        if(this.teamMemberNames != \"\" && this.teamMemberNames != null) {\n            this.teamMemberArray.push(name);\n            this.teamMemberNames = '';\n        }\n    }\n\n    removeTeamMemberName(index: number) {\n        this.teamMemberArray.splice(index,1);\n    }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/modals/MCMJoinSessionModal/MCMJoinSessionModal.ts","import { Injectable, NgZone } from '@angular/core';\nimport { ReplaySubject } from 'rxjs/ReplaySubject';\nimport { IPlayerApiScriptOptions, IPlayerOutputs, IPlayerSize } from '../models';\n\nexport function win() {\n  return window;\n}\n\nexport function YT() {\n  return win()['YT'];\n}\n\nexport function Player() {\n  return YT().Player;\n}\n\nexport const defaultSizes = {\n  height: 270,\n  width: 367\n};\n\n@Injectable()\nexport class YoutubePlayerService {\n  api: ReplaySubject<typeof YT>;\n\n  private ytApiLoaded = false;\n\n  constructor(private zone: NgZone) {\n    this.createApi();\n  }\n\n  loadPlayerApi(options: IPlayerApiScriptOptions) {\n    const doc = win().document;\n    if (!this.ytApiLoaded) {\n      this.ytApiLoaded = true;\n      const playerApiScript = doc.createElement(\"script\");\n      playerApiScript.type = \"text/javascript\";\n      playerApiScript.src = `${options.protocol}://www.youtube.com/iframe_api`;\n      doc.body.appendChild(playerApiScript);\n    }\n  }\n\n  setupPlayer(\n    elementId: string, outputs: IPlayerOutputs, sizes: IPlayerSize,\n    videoId = '', playerVars: YT.PlayerVars) {\n    const createPlayer = () => {\n      if (Player) {\n        this.createPlayer(elementId, outputs, sizes, videoId, playerVars);\n      }\n    };\n    this.api.subscribe(createPlayer);\n  }\n\n  play(player: YT.Player) {\n    player.playVideo();\n  }\n\n  pause(player: YT.Player) {\n    player.pauseVideo();\n  }\n\n  playVideo(media: any, player: YT.Player) {\n    const id = media.id.videoId ? media.id.videoId : media.id;\n    player.loadVideoById(id);\n    this.play(player);\n  }\n\n  isPlaying(player: YT.Player) {\n    // because YT is not loaded yet 1 is used - YT.PlayerState.PLAYING\n    const isPlayerReady: any = player && player.getPlayerState;\n    const playerState = isPlayerReady ? player.getPlayerState() : {};\n    const isPlayerPlaying = isPlayerReady\n      ? playerState !== YT().PlayerState.ENDED && playerState !== YT().PlayerState.PAUSED\n      : false;\n    return isPlayerPlaying;\n  }\n\n  createPlayer(\n    elementId: string, outputs: IPlayerOutputs, sizes: IPlayerSize,\n    videoId = '', playerVars: YT.PlayerVars = {}) {\n    const playerSize = {\n      height: sizes.height || defaultSizes.height,\n      width: sizes.width || defaultSizes.width\n    };\n    const ytPlayer = Player();\n    return new ytPlayer(elementId, {\n      ...playerSize,\n      events: {\n        onReady: (ev: YT.PlayerEvent) => {\n          this.zone.run(() => outputs.ready && outputs.ready.next(ev.target));\n        },\n        onStateChange: (ev: YT.PlayerEvent) => {\n          this.zone.run(() => outputs.change && outputs.change.next(ev));\n        }\n      },\n      playerVars,\n      videoId,\n    });\n  }\n\n  toggleFullScreen(player: YT.Player, isFullScreen: boolean | null | undefined) {\n    let { height, width } = defaultSizes;\n\n    if (!isFullScreen) {\n      height = window.innerHeight;\n      width = window.innerWidth;\n    }\n    player.setSize(width, height);\n  }\n\n  // adpoted from uid\n  generateUniqueId() {\n    const len = 7;\n    return Math.random().toString(35).substr(2, len);\n  }\n\n  private createApi() {\n    this.api = new ReplaySubject(1);\n    const onYouTubeIframeAPIReady = () => {\n      if (win()) {\n        this.api.next(YT);\n      }\n    };\n    win()['onYouTubeIframeAPIReady'] = onYouTubeIframeAPIReady;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ngx-youtube-player/services/youtube-player.service.ts","import { Storage } from '@ionic/storage';\nimport { ImagesService } from '../services/images-service';\n\nvar storageInstance: any;\ndeclare var URL: any;\n\nexport var tilesDb = {\n    storage: null,\n    initialize: function () {\n        if (storageInstance) {\n            this.storage = storageInstance;\n        } else {\n            this.storage = storageInstance = new Storage({name: \"mapboxTilesStorage\"});\n        }\n        return this.storage.ready();\n    },\n    getItem: function (key) {\n        return Promise.resolve(null);\n    },\n\n    saveTiles: function (tileUrls, progressCallback) {\n        let urlToKey = {};\n        tileUrls.map(element => urlToKey[element.url] = element.key);\n        return ImagesService.INSTANCE.downloadURLs(tileUrls.map(element => element.url), false, (done, total, url) => {\n            // tilesDb._saveTile(urlToKey[url]);\n            return progressCallback(done, total);\n        }, true);\n    },\n\n    clear: function () {\n        return this.storage.clear();\n    },\n\n    _saveTile: async function (key) {\n        let count = await this.storage.get(key);\n        if (!count) {\n            count = 1;\n        } else {\n            count++;\n        }\n        await this.storage.set(key, count);\n    },\n\n    removeItems: async function (keys) {\n        let promises = [];\n        for (let key of keys) {\n            promises.push(this.storage.get(key));\n        }\n        Promise.all(promises).then(counts => {\n            let urlsToRemove = [];\n            for (var i = 0; i < counts.length; i++) {\n                let count = counts[i];\n                let key = keys[i];\n                if (count > 1) {\n                    this.storage.set(key, count - 1);\n                } else if (count === 1) {\n                    this.storage.remove(key);\n                    urlsToRemove.push(key);\n                }\n            }\n            ImagesService.INSTANCE.removeDownloadedURLs(urlsToRemove, false);\n        });\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/classes/tilesDb.ts","import {ChangeDetectorRef, Component, ElementRef, ViewChild} from '@angular/core';\nimport {Content, Events, IonicPage, NavParams, Platform} from 'ionic-angular';\nimport {ChatAndSessionService, ChatMessage, SessionInfo, UserInfo} from \"../../services/chat-and-session-service\";\nimport {SessionUser} from \"../../app/api/models/session-user\";\nimport {Session} from \"../../app/api/models/session\";\nimport {SessionUserResponse} from \"../../app/api/models/session-user-response\";\nimport {File} from \"@ionic-native/file\";\nimport {Media, MediaObject} from \"@ionic-native/media\";\nimport {RecordStateEnum} from \"./recordStateEnum\";\nimport {PhotoViewer} from \"@ionic-native/photo-viewer\";\nimport {Helper} from \"../../classes/Helper\";\nimport {SpinnerDialog} from \"@ionic-native/spinner-dialog\";\nimport {ImagesService} from \"../../services/images-service\";\n\n@IonicPage()\n@Component({\n    selector: 'page-chat',\n    templateUrl: 'chat.html',\n})\nexport class ChatPage {\n\n    @ViewChild(Content) content: Content;\n    @ViewChild('chat_input') messageInput: ElementRef;\n    msgList: ChatMessage[] = [];\n    user: UserInfo;\n    sessionInfo: SessionInfo;\n    sessionUser: SessionUser;\n    session: Session;\n    toUser: UserInfo;\n    editorMsg = '';\n    editorImg = null;\n    showEmojiPicker = false;\n    isScrolledToBottom = true;\n\n    private scrollEndSubscription: any;\n\n    private localPath: string = null;\n    private audioFilePath: string = null;\n    private fileDirectory: string = null;\n\n    private audio: MediaObject;\n    private audioIndex: number = null;\n    private canPlayback: boolean = true;\n    private showTextArea: boolean = true;\n    private audioPlaying: boolean = false;\n    private showAudioButtons: boolean = true;\n    private showPictureButtons: boolean = true;\n    private startAudioRecord: number = 0;\n    private startAudioPlaying: number = 0;\n    private audioDuration: number = 0;\n    private currentPosition: number = 0;\n    private durationInterval;\n    private positionInterval;\n    private durCheckInterval;\n    private timeZoneOpposite: number = 0;\n\n    private recordState: RecordStateEnum = RecordStateEnum.Idle;\n\n    constructor(navParams: NavParams,\n                protected file: File,\n                protected media: Media,\n                protected platform: Platform,\n                private chatService: ChatAndSessionService,\n                private events: Events,\n                private changeDetector: ChangeDetectorRef,\n                private chatAndSessionService: ChatAndSessionService,\n                private photoViewer: PhotoViewer,\n                private spinnerDialog: SpinnerDialog,\n                private imageService: ImagesService) {\n\n        this.chatService.getUserInfo()\n            .then((res) => {\n                this.user = res;\n            });\n\n        // TODO Does chat.ts need access to all session objects? refactor!\n        this.chatService.getActiveSession().then((res: SessionInfo) => {\n            this.sessionUser = res.sessionUser;\n            this.session = res.session;\n            this.sessionInfo = res;\n            // TODO sender, receiver(s) is handlet automaticly from session parameters.\n            // teams, which are *not* admin of a session, get as receiver the admin\n            // the admin of a sessionget as recivers *all* users from a session\n            // TODO gui should have an option to select a team as active receiver.\n            let defaultReceiver: SessionUserResponse = this.chatService.getReceivers()[0];\n            this.toUser = {\n                id: defaultReceiver.id,\n                name: defaultReceiver.team_name,\n                token: defaultReceiver.token\n            };\n        });\n    }\n\n    async ionViewWillLeave() {\n        // unsubscribe\n        this.events.unsubscribe('chat:received');\n        if (this.scrollEndSubscription) {\n            this.scrollEndSubscription.unsubscribe();\n            this.scrollEndSubscription = null;\n        }\n        this.chatService.setUserSeesNewMessages(false);\n\n        if (this.sessionInfo != null) {\n            let details = JSON.stringify({});\n            this.chatAndSessionService.addUserEvent(\"event_trail_chat_close\", details, \"0\");\n        }\n    }\n\n    ionViewDidEnter() {\n        let timezoneOffset = new Date().getTimezoneOffset();\n        this.timeZoneOpposite = (timezoneOffset * 60000)\n        //get message list\n        this.getMsg();\n\n        // Subscribe to received  new message events\n        this.events.subscribe('chat:received', msg => {\n            this.pushNewMsg(msg);\n        });\n        this.scrollEndSubscription = this.content.ionScrollEnd.subscribe(event => {\n            if (!event || !event.scrollElement) return;\n            let height = event.scrollElement.children[0].scrollHeight;\n            let scrolledToBottom = height - event.scrollHeight - event.scrollTop < 0;\n\n            if (this.isScrolledToBottom != scrolledToBottom) {\n                console.debug(`isScrolledToBottom: ${scrolledToBottom}`);\n                this.chatService.setUserSeesNewMessages(scrolledToBottom);\n            }\n            this.isScrolledToBottom = scrolledToBottom;\n        });\n        this.chatService.setUserSeesNewMessages(true);\n        this.chatAndSessionService.setNewMsgNumber(0);\n    }\n\n    onFocus() {\n        this.showEmojiPicker = false;\n        this.content.resize();\n    }\n\n    switchEmojiPicker() {\n        this.showEmojiPicker = !this.showEmojiPicker;\n        if (!this.showEmojiPicker) {\n            this.focus();\n        } else {\n            this.setTextareaScroll();\n        }\n        this.content.resize();\n        this.scrollToBottom();\n    }\n\n    /**\n     * @name getMsg\n     * @returns {Promise<ChatMessage[]>}\n     */\n    getMsg() {\n        let chatMsgs: Array<any> = [];\n        this.chatService.getReceivers().forEach(receiver => {\n            chatMsgs.push(this.chatService\n                .getMsgList(this.sessionInfo, receiver.token).toPromise()\n                .then(res => {\n                    this.msgList = res;\n                    this.scrollToBottom();\n                }));\n        });\n\n        Promise.all(chatMsgs).then(() => {\n            console.debug('received all messages!');\n        });\n    }\n\n    /**\n     * @name sendMsg\n     */\n    async sendMsg() {\n        this.setInputWrapButtons(true);\n\n        //does not allow sending empty messages\n        if(this.editorMsg.trim() == '' && !this.editorImg && this.recordState != RecordStateEnum.Stop) return;\n\n        //failsafe to stop you from seding more than 1 time of message\n        if ((this.editorMsg && this.editorImg) ||\n            (this.editorMsg && this.recordState == RecordStateEnum.Stop) ||\n            (this.editorImg && this.recordState == RecordStateEnum.Stop))\n            return;\n\n        let timezoneOffset = new Date().getTimezoneOffset();\n\n        let newMsg: ChatMessage = {\n            messageId: null,\n            userId: this.user.token,\n            userName: this.user.name,\n            userAvatar: this.user.avatar,\n            toUserId: this.toUser.token,\n            time: Date.now() + (timezoneOffset * 60000),\n            message: this.editorMsg,\n            media: [],\n            status: 'pending'\n        };\n        this.editorMsg = '';\n\n        //If we are sending an image\n        if (this.editorImg) {\n            this.localPath = null;\n            let blob = new Blob([this.editorImg], {type: 'image/jpeg'});\n            let myFormData = new FormData();\n            myFormData.append('media', blob, 'image.jpeg');\n            let resultPath = await this.chatAndSessionService.postMedia(myFormData, this.sessionInfo);\n            this.editorImg = null;\n            if (resultPath) {\n                newMsg.media.push(resultPath);\n                //TODO: ask Iwan about how wordpress interprets event messages\n                let details = JSON.stringify({'message': resultPath});\n                this.chatAndSessionService.addUserEvent(\"event_trail_chat_msg_send\", details, \"0\");\n            } else {\n                console.log(\"ERROR: unable to send media\");\n                return;\n            }\n        }\n\n        //If we are sending audio file\n        else if (this.recordState == RecordStateEnum.Stop) {\n            if (!this.canPlayback) {\n                this.pauseAudio();\n            }\n            this.recordState = RecordStateEnum.Idle;\n            let audioType = 'aac';\n            await this.file.readAsArrayBuffer(this.fileDirectory, 'audioFile.aac').then(async (data) => {\n                const blob = new Blob([data], {type: 'audio/' + audioType});\n                let myFormData = new FormData();\n                myFormData.append('media', blob, 'audio.' + audioType);\n                myFormData.append('mediaDuration', this.audioDuration.toString());\n                newMsg.audioDuration = this.audioDuration;\n                this.audioDuration = 0;\n                let resultPath = await this.chatAndSessionService.postMedia(myFormData, this.sessionInfo);\n                //newMsg.isAudio = true;\n                this.audio = null;\n                if (resultPath) {\n                    newMsg.media.push(resultPath);\n                    //TODO: ask Iwan about how wordpress interprets event messages\n                    let details = JSON.stringify({'message': resultPath});\n                    this.chatAndSessionService.addUserEvent(\"event_trail_chat_msg_send\", details, \"0\");\n                } else {\n                    console.log(\"ERROR: unnable to send media\");\n                    return;\n                }\n            }).catch(err => {\n                console.log(\"ERROR: \", err)\n            });\n        }\n        //If we are sending just text message\n        else {\n            if (this.sessionInfo != null) {\n                let details = JSON.stringify({'message': newMsg.message});\n                this.chatAndSessionService.addUserEvent(\"event_trail_chat_msg_send\", details, \"0\");\n            }\n        }\n\n        if (!this.showEmojiPicker) {\n            this.focus();\n        }\n\n        await this.chatService.checkForNewMessages(this.sessionInfo);\n        this.chatService.sendMsg(newMsg, this.sessionInfo)\n            .then((msgs: ChatMessage[]) => {\n                msgs.forEach((msg: ChatMessage) => {\n                    let index = this.getMsgIndexById(msg.messageId);\n                    if (msg.messageId && index !== -1) {\n                        this.msgList[index].status = 'success';\n                    } else {\n                        msg.status = 'success';\n                        this.isScrolledToBottom = true;\n                        this.pushNewMsg(msg);\n                    }\n                });\n            })\n    }\n\n\n    /**\n     * @name imageChat\n     */\n    async getImage() {\n        this.setInputWrapButtons(false);\n\n        this.imageService.getImageFromUserGallery().then(res => {\n            this.editorImg = res.imageData;\n            this.localPath = res.base64;\n        }).catch(err => {\n            // Handle error\n            console.log(\"ERROR#####: \", err);\n            this.setInputWrapButtons(true);\n        });\n    }\n\n    openCamera() {\n        this.setInputWrapButtons(false);\n\n        this.imageService.getImageFromCamera().then(res => {\n            this.editorImg = res.imageData;\n            this.localPath = res.base64;\n        }).catch(err => {\n            // Handle error\n            console.log(\"Camera issue:\" + err);\n            this.setInputWrapButtons(true);\n        });\n    }\n\n    removeImage() {\n        this.localPath = null;\n        this.editorImg = null;\n        this.setInputWrapButtons(true);\n    }\n\n    /**\n     * @name pushNewMsg\n     * @param msg\n     */\n    pushNewMsg(msg: ChatMessage) {\n        let userId = this.user.token;\n\n        // check if msg already displayed\n\n        if (this.getMsgIndexById(msg.messageId) >= 0) {\n            return;\n        }\n\n        // Verify user relationships\n        if (!(msg.userId === userId || msg.toUserId === userId)) {\n            return;\n        }\n        this.msgList.push(msg);\n        this.changeDetector.detectChanges();\n\n        if (this.isScrolledToBottom) {\n            this.scrollToBottom();\n        }\n    }\n\n    getMsgIndexById(id: string) {\n        return this.msgList.findIndex(e => e.messageId === id)\n    }\n\n    scrollToBottom() {\n        setTimeout(() => {\n            if (this.content && this.content.scrollToBottom) {\n                this.content.scrollToBottom();\n            }\n        }, 200)\n    }\n\n    private focus() {\n        if (this.messageInput && this.messageInput.nativeElement) {\n            this.messageInput.nativeElement.focus();\n        }\n    }\n\n    private setTextareaScroll() {\n        const textarea = this.messageInput.nativeElement;\n        textarea.scrollTop = textarea.scrollHeight;\n    }\n\n    micButtonClick() {\n        this.showTextArea = false;\n        this.showPictureButtons = false;\n\n        switch (this.recordState) {\n            case RecordStateEnum.Record:\n                this.recordState = RecordStateEnum.Stop;\n                this.stopRecording();\n                break;\n            case RecordStateEnum.Stop:\n                this.recordState = RecordStateEnum.Idle;\n                this.showTextArea = true;\n                this.showPictureButtons = true;\n                this.pauseAudio();\n                break;\n            default:\n                this.recordState = RecordStateEnum.Record;\n                this.startRecording();\n                break;\n        }\n    }\n\n    updateAudioDuration(){\n        let now = new Date().getTime();\n        this.audioDuration = now - this.startAudioRecord;\n    }\n\n    updateAudioPosition(message?){\n        let now = new Date().getTime();\n        if(message){\n            if((now - this.startAudioPlaying) < message.audioDuration){\n                message.currentPosition  = now - this.startAudioPlaying;\n            }else{\n                message.currentPosition = message.audioDuration;\n                setTimeout(() =>{\n                    this.clearPositionInterval(message);\n                }, 1000);\n            }\n        }else {\n            if((now - this.startAudioPlaying) < this.audioDuration){\n                this.currentPosition = now - this.startAudioPlaying;\n            }else{\n                this.currentPosition = this.audioDuration;\n                setTimeout(() =>{\n                    this.clearPositionInterval();\n                }, 1000);\n            }\n        }\n    }\n\n    startRecording() {\n        console.log('start recording');\n        let filename = '';\n        this.pauseAudio();\n\n        if(this.platform.is('android')){\n            this.fileDirectory = this.file.dataDirectory;\n            filename =  'audioFile.aac';\n        } else if(this.platform.is('ios')){\n            filename = 'audioFile.aac';\n            this.fileDirectory = this.file.documentsDirectory;\n        }\n        this.file.createFile(this.fileDirectory, filename, true).then(filePath => {\n            this.audio = this.media.create(this.fileDirectory.replace(/^file:\\/\\//, '') + filename);\n            //this.audio.release();\n            this.startAudioRecord = new Date().getTime();\n            this.audio.startRecord();\n            this.updateAudioDuration();\n            this.durationInterval = window.setInterval(() => {\n                this.updateAudioDuration();\n            }, 1000);\n            this.audioFilePath = filePath.toInternalURL();\n\n        }).catch(err => {console.log(\"creation file error:\", err)});\n\n        // Stop Recording after 1 minute\n        setTimeout(() => {\n            if (this.recordState != RecordStateEnum.Idle) {\n                this.recordState = RecordStateEnum.Stop;\n                this.stopRecording();\n            }\n        }, 60000);\n    }\n\n    async stopRecording() {\n        this.audio.stopRecord();\n        if (this.durationInterval) {\n            clearInterval(this.durationInterval);\n            this.durationInterval = null;\n        }\n        //if (this.platform.is('ios')) {\n            this.audio.setVolume(0);\n            this.audio.play();\n            this.audioDuration = await this.getAudioDuration();\n            this.audio.pause();\n            this.audio.setVolume(1);\n            this.audio.seekTo(0);\n        //} else {\n        //    this.audioDuration = await this.getAudioDuration();\n        //}\n        this.startAudioRecord = 0;\n        this.canPlayback = true;\n    }\n\n    async getAudioDuration (): Promise<number> {\n        return new Promise<number>((resolve) => {\n            this.durCheckInterval = window.setInterval(() => {\n                console.log(\"Looking for File Duration\");\n                if (!this.audio) {\n                    this.clearAudioDurationInterval();\n                    resolve(0);\n                }\n                if (this.audio.getDuration() != -1) {\n                    // this.currentAudioFile.setVolume(1.0);\n                    this.clearAudioDurationInterval();\n                    resolve(this.audio.getDuration() * 1000);\n                }\n            }, 1000);\n        });\n    }\n\n    private clearAudioDurationInterval () {\n        if (this.durCheckInterval) {\n            clearInterval(this.durCheckInterval);\n            this.durCheckInterval = null;\n        }\n    }\n\n    playAudio(message?, index?) {\n        if (this.audioPlaying) {\n            this.pauseAudio();\n        }\n        let filePath = null;\n        if (message) filePath  = message.media[0];\n        if (filePath) this.audioIndex = index;\n        else {\n            this.canPlayback = false;\n            filePath = this.audioFilePath;\n        }\n\n        this.audio = this.media.create(filePath);\n\n        this.audio.play();\n        this.startAudioPlaying = new Date().getTime();\n        this.positionInterval = window.setInterval(() => {\n            this.updateAudioPosition(message);\n        }, 10);\n        this.audio.setVolume(0.8);\n\n        this.audio.onStatusUpdate.subscribe(status => {\n            switch (status) {\n                case 2: // Running\n                    this.audioPlaying = true;\n                    break;\n                case 3: // Paused\n                case 4: // Finished/Stopped\n                    if (!isNaN(index)) this.audioIndex = null;\n                    else this.canPlayback = true;\n\n                    this.audio.release();\n                    this.audioPlaying = false;\n                    this.clearPositionInterval(message);\n                    break;\n            }\n        });\n    }\n\n    clearPositionInterval(message?) {\n        if(this.positionInterval){\n            if(message){\n                message.currentPosition = 0;\n            }else{\n                this.currentPosition = 0;\n            }\n            clearInterval(this.positionInterval);\n            this.positionInterval = null;\n        }\n    }\n\n    pauseAudio(message?) {\n        this.clearPositionInterval(message);\n        if (this.audio) {\n          this.audio.pause();\n          this.canPlayback = true;\n        }\n    }\n\n    isAudio(path: string) {\n        return (path.substring(path.lastIndexOf('.')) == '.mp3');\n    }\n\n    changeButtonsStatus() {\n        if (this.editorMsg.length == 0) {\n            this.setInputWrapButtons(true);\n        } else {\n            this.showAudioButtons = false;\n            this.showPictureButtons = false;\n        }\n    }\n\n    setInputWrapButtons(setValue: boolean) {\n        this.showTextArea = setValue;\n        this.showAudioButtons = setValue;\n        this.showPictureButtons = setValue;\n    }\n\n    openInPhotoviewer(image) {\n        if (Helper.isPluginAvailable(PhotoViewer)) {\n            this.spinnerDialog.show();\n            setTimeout(() => {\n                // use short timeout to let spinner dialog appear\n                this.photoViewer.show(image);\n                setTimeout(() => {\n                    // photoviewer doesn't have callback when user closes it => hide spinner in background\n                    this.spinnerDialog.hide();\n                }, 1000);\n            }, 100)\n        }\n    }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat/chat.ts","import {Pipe, PipeTransform} from \"@angular/core\";\nimport {Helper} from \"../../classes/Helper\";\n\n@Pipe({\n    name: 'search'\n})\nexport class SearchPipe implements PipeTransform {\n    public transform(value, keys: string, term: string) {\n        if (!term) return value;\n        let result = (value || []).filter(item => keys.split(',').some(key => item.hasOwnProperty(key) && new RegExp(term, 'gi').test(item[key])));\n        Helper.searchResults = result.length;\n        console.log(\"searchResults\", Helper.searchResults);\n        return result;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/pipes/search.pipe.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n    name: 'linkHttps'\n})\n/**\n * Adds 'https://' in front of url if missing or transforms 'http://' to 'https://\n*/\nexport class LinkHttpsPipe implements PipeTransform {\n    transform(url: string) {\n        url = url.replace('http://','https://');\n        return url.startsWith(\"https://\") ? url : \"https://\" + url;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pipes/linkHttps.pipe.ts","import { Component } from '@angular/core';\nimport {IonicPage, ModalController, NavController} from 'ionic-angular';\nimport { NavParams } from 'ionic-angular/navigation/nav-params';\nimport {Helper} from \"../../classes/Helper\";\nimport { Storage } from \"@ionic/storage\";\nimport {GpsService} from \"../../services/gps-service\";\nimport {timeout} from 'promise-timeout';\nimport {MCMIconModal} from '../../modals/MCMIconModal/MCMIconModal';\nimport {MCMModalType} from '../../app/app.component';\nimport {ChatAndSessionService} from '../../services/chat-and-session-service';\nimport {OrmService} from '../../services/orm-service';\nimport {ModalsService} from '../../services/modals-service';\n\n@IonicPage()\n@Component({\n    selector: 'page-dashboard',\n    templateUrl: 'dashboard.html',\n})\nexport class DashboardPage {\n\n    devMode: boolean;\n    tabBarElement: any;\n\n    constructor(public navCtrl: NavController,\n                public navParams: NavParams,\n                private helper: Helper,\n                private storage: Storage,\n                private gpsService: GpsService,\n                private chatAndSessionService: ChatAndSessionService,\n                private ormService: OrmService,\n                private modalCtrl: ModalController,\n                private modalsService: ModalsService) {\n                this.tabBarElement = document.querySelector('.tabbar');\n    }\n\n    async ngOnInit(){\n        /**\n         * The first time the app is opened it will ask for geolocation to prevent the map and list to show data\n         * from the default one (Frankfurt) for a few seconds\n         * The devmode variable is fetched due to not being able to do it trhough the helper service because of the delayed response.\n         */\n        this.devMode = (await this.storage.get('devMode') === 'true')\n\n        if (!this.gpsService.getLastPosition()) {\n            // try to get position\n            try {\n                await timeout(this.gpsService.getCurrentPosition().catch(err => {\n                    console.error(\"Error loading GPS data\", err)\n                }), 2000);\n            } catch (e) {\n                console.log(\"could not obtain position: \" + e.message);\n                // make position check async\n                this.gpsService.getCurrentPosition().then((position) => {\n                    if (position && position.coords) {\n                    }\n                }, err => {\n                    console.error(\"Error loading GPS data\", err)\n                });\n            }\n        }\n        console.log('check for active session');\n        let activeSession = await this.chatAndSessionService.getActiveSession();\n        if (activeSession != null) {\n            console.log('active session found');\n            let that = this;\n            let route = await this.ormService.findRouteById(activeSession.session.trail_id);\n            let modal = this.modalCtrl.create(MCMIconModal, {\n                title: 'a_session_return_title',\n                message: 'a_session_return_text',\n                type: 'text',\n                modalType: MCMModalType.hint,\n                narrativeEnabled: route.isNarrativeEnabled(),\n                narrative: route.isNarrativeEnabled() ? route.getAttributes().narrativeName : '',\n                buttons: [\n                    {\n                        title: 'a_session_return_stay',\n                        callback: function () {\n                            modal.dismiss();\n                            that.modalsService.showRoute(route, that.navCtrl);\n                        }\n                    },\n                    {\n                        title: 'a_private_session_quit',\n                        callback: function () {\n                            if (this.sessionInfo != null) {\n                                let details = JSON.stringify({});\n                                that.chatAndSessionService.addUserEvent(\"event_session_leave\", details, \"0\");\n                            }\n                            that.chatAndSessionService.exitActiveSession();\n                            modal.dismiss();\n                            clearInterval(this.refreshIntervalId);\n                        }\n                    }\n                ]\n            }, {showBackdrop: true, enableBackdropDismiss: true});\n\n            modal.present();\n        }\n\n    }\n\n    pushSettingsPage() {\n        this.navCtrl.push('SettingsPage');\n    }\n    pushInfoPage() {\n        this.navCtrl.push('InfoPage');\n    }\n\n    switchTab(index: number, addRoute = false){\n       if(addRoute){\n           this.helper.setActivateAddRoute(true);\n       }\n       if(index == 3 && !this.devMode){\n           return;\n       }\n       this.navCtrl.parent.select(index);\n    }\n\n    ionViewWillEnter(){\n        this.devMode = this.helper.getDevMode();\n        if (this.tabBarElement != null) {\n            this.tabBarElement.style.display = 'none';\n        }\n    }\n    ionViewDidLeave() {\n        this.tabBarElement.style.display = 'flex';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/dashboard/dashboard.ts","import {Component, ViewChild, ElementRef, OnDestroy} from '@angular/core';\nimport {IonicPage, NavController, NavParams} from 'ionic-angular';\nimport {File} from '@ionic-native/file';\nimport {OnInit} from \"@angular/core\";\nimport * as L from 'leaflet';\nimport 'leaflet.markercluster';\n//import 'leaflet-offline';\nimport {checkAvailability} from \"@ionic-native/core\";\n\nimport {DB_Updater} from '../../../../classes/DB_Updater';\nimport {Helper} from '../../../../classes/Helper';\nimport {tilesDb} from '../../../../classes/tilesDb';\n\nimport {OrmService} from '../../../../services/orm-service';\nimport {Route} from '../../../../entity/Route';\nimport {geoJSON, LatLngBounds} from 'leaflet';\nimport {ModalsService} from '../../../../services/modals-service';\nimport {SpinnerDialog} from '@ionic-native/spinner-dialog';\nimport {TranslateService} from '@ngx-translate/core';\n\n\nimport {GpsService} from '../../../../services/gps-service';\nimport 'rxjs/add/operator/filter';\n//import 'leaflet-rotatedmarker';\nimport {Subscription} from 'rxjs/Subscription';\nimport {LanguageService} from '../../../../services/language-service';\n\nimport mapboxgl from 'mapbox-gl/dist/mapbox-gl.js'\nimport {forEach} from \"typescript-collections/dist/lib/arrays\";\nimport {ZoomService} from \"../../../../services/zoom-service\";\nimport {MAPBOX_ACCESS_TOKEN} from \"../../../../env/env\";\n\n// import * as mapboxgl from 'mapbox-gl/dist/mapbox-gl.js';\n// import 'mapbox-gl-leaflet/leaflet-mapbox-gl.js';\n\n@IonicPage()\n@Component({\n    selector: 'routes-map',\n    templateUrl: 'RoutesMap.html'\n})\nexport class RoutesMapPage implements OnInit, OnDestroy {\n\n    @ViewChild('map') mapContainer: ElementRef;\n    map: any;\n    center: L.PointTuple;\n    imageObject: any;\n    routeDetails: Route;\n    mapBoxUserMarker: any;\n    isFilePluginAvailable: boolean;\n    routes: Route[];\n\n    prevPos: any;\n\n    eventSubscription: Subscription;\n    private watchSubscription: Subscription;\n\n    showAllRoutes: boolean;\n    isRouteDownloaded: string;\n\n    constructor(\n        private updater: DB_Updater,\n        private ormService: OrmService,\n        public modalsService: ModalsService,\n        public navCtrl: NavController,\n        private spinner: SpinnerDialog,\n        private translateService: TranslateService,\n        private gpsService: GpsService,\n        public helper: Helper,\n        private navParams: NavParams,\n        private languageService: LanguageService,\n        private zoom: ZoomService) {\n        this.eventSubscription = this.ormService.eventEmitter.subscribe(async (event) => {\n            if (this.map && this.map.getLayer('unclustered-point')) {\n                if (!this.showAllRoutes) this.routes = await this.ormService.getDownloadedRoutes();\n                this.redrawMapBoxMarker()\n                console.log(\"REDRAWED\")\n                this.routeDetails = null;\n            }\n        });\n    }\n\n\n    async ionViewWillEnter() {\n        console.log(\"ionViewWillEnter:\");\n        this.zoom.disableZooming();\n\n        this.gpsService.isLocationOn();\n\n        if (this.map && this.map.getLayer('unclustered-point')) {\n            if (this.showAllRoutes) this.routes = await this.ormService.getVisibleRoutes();\n            else this.routes = await this.ormService.getDownloadedRoutes();\n            this.redrawMapBoxMarker()\n        }\n    }\n\n    async ngOnInit() {\n        this.isFilePluginAvailable = checkAvailability(File.getPluginRef(), null, File.getPluginName()) === true;\n\n        if (this.navParams.data && this.navParams.data.showAllRoutes != null) {\n            if (this.navParams.data.showAllRoutes) this.showAllRoutes = true;\n            else this.showAllRoutes = false;\n        }\n        this.languageService.initialize().then(async () => {\n            //this.loadMap();\n            this.loadMapBox();\n            await this.initializeMap();\n        });\n\n    }\n\n    ngOnDestroy() {\n        this.zoom.enableZooming();\n        this.navCtrl.setRoot('RoutesListPage', {showAllRoutes: this.showAllRoutes});        if (this.eventSubscription) {\n            this.eventSubscription.unsubscribe();\n            this.eventSubscription = null;\n        }\n        if (this.watchSubscription) {\n            this.watchSubscription.unsubscribe();\n            this.watchSubscription = null;\n        }\n    }\n\n\n    markerGroup: any = null;\n    merkerMapBoxGroup: any = null;\n\n    async initializeMap() {\n        let activeUser = await this.ormService.getActiveUser();\n        if (!activeUser) {\n            let online = await this.modalsService.showNoInternetModalIfOffline();\n            if (online) {\n                this.spinner.show(null, this.translateService.instant('a_toast_update_start'), true);\n                try {\n                    await this.updater.checkForUpdates();\n                } catch (e) {\n                    console.error('caught error while checking for updates:');\n                    console.error(e);\n                }\n            }\n        }\n        if (this.showAllRoutes) this.routes = await this.ormService.getVisibleRoutes();\n        else this.routes = await this.ormService.getDownloadedRoutes();\n        this.map.on('load', () => {\n            const waiting = () => {\n                if (!this.map.isStyleLoaded()) {\n                    setTimeout(waiting, 200);\n                } else {\n                    this.redrawMapBoxMarker();\n                }\n            };\n            waiting();\n        });\n        this.spinner.hide();\n    }\n\n    redrawMapBoxMarker() {\n        const map = this.map;\n        //clean layers to be redrawn\n        if (this.map.getLayer('unclustered-point')) {\n            console.log(\"###removing unclustered points layer\");\n            this.map.removeLayer('unclustered-point');\n            this.markerGroup = null;\n        }\n\n        if (this.map.getLayer('clusters')) {\n            console.log(\"###removing unclustered points layer\");\n            this.map.removeLayer('clusters');\n            this.markerGroup = null;\n        }\n        if (this.map.getLayer('cluster-count')) {\n            console.log(\"###removing unclustered points layer\");\n            this.map.removeLayer('cluster-count');\n            this.markerGroup = null;\n        }\n\n        let GeoJson =\n            {\n                \"type\": \"FeatureCollection\",\n                \"features\": []\n            };\n\n        for (let route in this.routes) {\n\n            let icon;\n\n            if (this.routes[route].downloaded) {\n                if (this.routes[route].completed) {\n                    icon = 'completed-route';\n                } else {\n                    icon = 'downloaded-route';\n                }\n            } else if (this.routes[route].public == \"1\") {\n                icon = 'public-route';\n            } else {\n                icon = 'private-route';\n            }\n\n            let routeCenter = this.routes[route].getCenterLatLng();\n            let data = {\n                \"type\": \"Feature\",\n                \"properties\": {\n                    'routeIndex': route,\n                    'icon': icon\n                },\n                \"geometry\": {\n                    \"type\": \"Point\",\n                    \"coordinates\": [\n                        routeCenter.lng,\n                        routeCenter.lat\n                    ]\n                }\n            };\n            GeoJson.features.push(data);\n        }\n\n        if (this.map.getSource(\"routes\")) this.map.getSource('routes').setData(GeoJson);\n        else {\n            this.map.addSource(\"routes\", {\n                type: \"geojson\",\n                data: GeoJson,\n                cluster: true,\n                clusterRadius: 30\n            });\n        }\n\n        this.map.addLayer({\n            id: \"clusters\",\n            type: \"circle\",\n            source: \"routes\",\n            filter: [\"has\", \"point_count\"],\n            paint: {\n                'circle-color': '#11b4da',\n                'circle-radius': 20\n            }\n        });\n\n        map.addLayer({\n            id: 'cluster-count',\n            type: 'symbol',\n            source: 'routes',\n            filter: ['has', 'point_count'],\n            layout: {\n                'text-field': '{point_count_abbreviated}',\n                'text-font': ['DIN Offc Pro Medium', 'Arial Unicode MS Bold'],\n                'text-size': 15\n            }\n        });\n\n        map.addLayer({\n            id: 'unclustered-point',\n            type: 'symbol',\n            source: 'routes',\n            filter: ['!', ['has', 'point_count']],\n            layout: {\n                'icon-size': 0.23,\n                'icon-image': ['get', 'icon'],\n                'icon-allow-overlap': true\n            }\n        });\n\n    }\n\n    loadMapBox() {\n\n        let isLoadedViaHttp = window.location.href.indexOf('http') === 0\n        let keepPositionBecauseOfReload = false;\n\n        mapboxgl.accessToken = MAPBOX_ACCESS_TOKEN;\n\n        //Either draws the map for all routes or for downloaded ones only\n        if (this.showAllRoutes) {\n            this.map = new mapboxgl.Map({\n                style: 'mapbox://styles/mapbox/streets-v11?optimize=true',\n                center: [8.66158515, 50.1208566], // Frankfurt-am Main\n                zoom: 16,\n                container: 'map',\n                trackResize: false\n            });\n        } else {\n            this.map = new mapboxgl.Map({\n                style: 'mapbox://styles/mapbox/streets-v11?optimize=true',\n                center: [8.66158515, 50.1208566], // Frankfurt-am Main\n                zoom: 16,\n                container: 'mapDownloaded',\n                trackResize: false\n            });\n        }\n        this.loadImagesToMap();\n        this.map.touchZoomRotate.disableRotation();\n        //removes labels for points of interest\n        this.map.on('load', () => {\n            this.map.style.stylesheet.layers.forEach(layer => {\n                if (layer.id === \"poi-label\") {\n                    this.map.removeLayer(layer.id);\n                }\n            });\n        });\n\n        if (isLoadedViaHttp && window.location.search && window.location.search.indexOf('pos=') > -1) {\n            keepPositionBecauseOfReload = true;\n            let startIndex = window.location.search.indexOf('pos=') + 4;\n            let bboxString = window.location.search.substring(startIndex).split(\"&|/\")[0]\n                .replace(/LngLat\\(/g, '')\n                .replace(/%20/g, ' ')\n                .replace(/\\)/g, '');\n            console.log(\"BBOX: \", bboxString);\n            let coords = bboxString.split(\",\").map(parseFloat);\n            const bounds = [[coords[0], coords[1]], [coords[2], coords[3]]];\n            console.log(\"BOUNDS: \", bounds);\n            this.map.fitBounds(bounds);\n        }\n\n\n        this.map.on('click', e => {\n            //check if details open and reset content. for now just reset content\n            this.routeDetails = null;\n            console.log('cleared route details');\n        });\n\n        let that = this;\n        //Zoom clusters\n        that.map.on('click', 'clusters', function (e) {\n            let features = that.map.queryRenderedFeatures(e.point, {\n                layers: ['clusters']\n            });\n            let clusterId = features[0].properties.cluster_id;\n            that.map.getSource('routes').getClusterExpansionZoom(\n                clusterId,\n                function (err, zoom) {\n                    if (err) return;\n\n                    that.map.easeTo({\n                        center: features[0].geometry.coordinates,\n                        zoom: zoom\n                    });\n                }\n            );\n        });\n\n\n        that.map.on('click', 'unclustered-point', async function (e) {\n            let features = that.map.queryRenderedFeatures(e.point, {\n                layers: ['unclustered-point']\n            });\n            let index = features[0].properties.routeIndex;\n            let route = that.routes[index];\n            // Routedetails currently is always false since map click triggers first and clears it\n            if (that.routeDetails == route) {\n                that.zoom.enableZooming();\n                that.modalsService.showRoute(route, that.navCtrl).then(() => {\n                    that.zoom.disableZooming();\n                });\n            } else {\n                if (route.downloaded){\n                    that.isRouteDownloaded = 'downloaded';\n                    console.log(\"THIS.ROUTE: \", route);\n                    that.routeDetails = await that.ormService.findRouteByCode(route.code);\n                }\n                else {\n                    that.routeDetails = route;\n                    that.isRouteDownloaded = null;\n                }\n                that.map.panTo(features[0].geometry.coordinates);\n            }\n        });\n\n\n        if (isLoadedViaHttp) {\n            // when loaded via http (for development), keep track of map position\n            this.map.on('moveend', event => {\n                let bounds: mapboxgl.LngLatBounds = this.map.getBounds();\n                let boundsString = bounds.toString();\n                boundsString = boundsString.substring(13, boundsString.length - 1);\n                window.history.replaceState(\n                    {},\n                    \"\",\n                    `${window.location.origin}?pos=${boundsString}/${window.location.hash}`\n                );\n            });\n        }\n\n        this.gpsService.getCurrentPosition()\n            .then(resp => {\n                if (resp && resp.coords) {\n                    console.warn('found you');\n                    // let markerGroup = L.featureGroup();\n\n                    let el = document.createElement('div');\n                    el.className = 'marker';\n                    el.style.backgroundImage = \"url(assets/icons/mapposition.png)\";\n                    el.style.backgroundSize = 'cover';\n                    el.style.width = 100 + 'px';\n                    el.style.height = 100 + 'px';\n                    el.addEventListener('click', function () {\n                        //window.alert(marker.properties.message);\n                        console.log(\"HEY clicked\");\n                    });\n\n\n                    this.mapBoxUserMarker = new mapboxgl.Marker(el)\n                        .setLngLat([resp.coords.longitude, resp.coords.latitude])\n                        .addTo(this.map);\n\n                    if (!keepPositionBecauseOfReload) {\n                        this.map.panTo([resp.coords.longitude, resp.coords.latitude]);\n                    }\n\n                    if (this.watchSubscription) {\n                        this.watchSubscription.unsubscribe();\n                    }\n                    this.watchSubscription = this.gpsService.watchPosition().subscribe(resp => {\n                        if (resp && resp.coords) {\n                            const lnglat = [resp.coords.longitude, resp.coords.latitude];\n                            this.mapBoxUserMarker.setLngLat(lnglat);\n\n\n                            //Rotate the user marker\n                            if (this.prevPos != null) {\n                                let angle = Helper.getAngle(this.prevPos, resp.coords);\n                                this.mapBoxUserMarker.setRotation(angle);\n                            }\n                            this.prevPos = resp.coords;\n                        }\n                    });\n                }\n            })\n            .catch(error => {\n                console.log(\"error: \", error);\n                console.error(`Location error: ${JSON.stringify(error)}`);\n            })\n    }\n\n    async doDownload() {\n        await this.modalsService.doDownload(this.routeDetails);\n        console.log(\"DID DOWNLOAD\");\n        this.redrawMapBoxMarker()\n    }\n\n    async presentRouteInfoModal() {\n        this.routeDetails = await this.modalsService.presentRouteInfoModal(this.routeDetails, this.navCtrl);\n        this.redrawMapBoxMarker()\n    }\n\n    showRouteDetail(item: any) {\n        console.log(\"##### ROUTE: \", item);\n        this.zoom.enableZooming();\n        this.modalsService.showRoute(item, this.navCtrl).then(async () => {\n            this.zoom.disableZooming();\n            await this.reactOnRemovedRoute();\n        })\n    }\n\n    async switchToList() {\n        this.navCtrl.setRoot('RoutesListPage', {showAllRoutes: this.showAllRoutes});\n    }\n\n    async reactOnRemovedRoute() {\n        if (this.showAllRoutes) this.routes = await this.ormService.getVisibleRoutes();\n        else this.routes = await this.ormService.getDownloadedRoutes();\n        this.redrawMapBoxMarker()\n    }\n\n    loadImagesToMap() {\n        let map = this.map;\n        map.loadImage('assets/icons/marker-route-private.png', function (error, image) {\n            map.addImage('private-route', image);\n        });\n\n        map.loadImage('assets/icons/marker-route-public.png', function (error, image) {\n            map.addImage('public-route', image);\n        });\n\n        map.loadImage('assets/icons/marker-route-downloaded.png', function (error, image) {\n            map.addImage('downloaded-route', image);\n        });\n\n        map.loadImage('assets/icons/marker-route-done.png', function (error, image) {\n            map.addImage('completed-route', image);\n        });\n\n\n    }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/tabs/RoutesMap/RoutesMap.ts","import {Component} from '@angular/core';\nimport {IonicPage, NavController, NavParams} from 'ionic-angular';\nimport {InAppBrowser} from '@ionic-native/in-app-browser';\nimport {TranslateService} from \"@ngx-translate/core\";\nimport {DomSanitizer, SafeResourceUrl} from \"@angular/platform-browser\";\nimport {Helper} from \"../../classes/Helper\";\nimport {ZoomService} from \"../../services/zoom-service\";\n\n/**\n * Generated class for the PortalPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n    selector: 'page-portal',\n    templateUrl: 'portal.html',\n})\nexport class PortalPage {\n\n    languageUrl = {\n        de: 'portal',\n        en: 'portal-en',\n        es: 'portal-es',\n        pt: 'portal-pt',\n        fr: 'portail',\n        it: 'portale',\n        sk: 'portal-sk',\n        id: 'portal-id',\n        tr: 'portal-tr',\n        el: '',\n        zh: ''\n    };\n    currentLang:string;\n    sanitizedUrl: SafeResourceUrl;\n\n    constructor(public navCtrl: NavController, public navParams: NavParams,\n                public iab: InAppBrowser, private translateService: TranslateService,\n                private sanitizer: DomSanitizer, private zoom: ZoomService) {\n        this.currentLang = this.translateService.currentLang ? this.translateService.currentLang : this.translateService.defaultLang;\n        this.sanitizedUrl = this.sanitizer.bypassSecurityTrustResourceUrl(Helper.WEBSERVER_URL + \"en/\" + this.languageUrl[this.currentLang]);\n    }\n\n    ionViewWillEnter() {\n        this.zoom.disableZooming();\n    }\n\n    ionViewWillLeave() {\n        this.zoom.enableZooming();\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/portal/portal.ts","import { Component } from '@angular/core';\nimport { NavParams } from 'ionic-angular/navigation/nav-params';\n\n@Component({\n    selector: 'mcm-intro-modal',\n    templateUrl: './MCMIntroModal.html'\n})\nexport class MCMIntroModal {\n\n    title: string;\n    message: string;\n    buttons: any[];\n    narrative: string;\n    routeTitle: string;\n\n    constructor(params: NavParams) {\n\n        this.buttons = params.data.buttons;\n        this.narrative = params.data.narrative;\n        this.title = params.data.title;\n        this.message = params.data.message;\n        this.routeTitle = params.data.routeTitle\n\n\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/modals/MCMIntroModal/MCMIntroModal.ts","import { Component, ViewChild } from '@angular/core';\nimport { ViewController } from 'ionic-angular/navigation/view-controller';\nimport { NavController, NavParams } from \"ionic-angular\";\nimport {HomePage} from \"../../pages/home/home\";\nimport { App } from \"ionic-angular\";\nimport { Session } from '../../app/api/models/session';\nimport { Score } from '../../entity/Score';\nimport { Task } from '../../entity/Task';\n\n@Component({\n    selector: 'mcm-session-finished-modal',\n    templateUrl:'./MCMSessionFinishedModal.html'\n})\nexport class MCMSessionFinishedModal {\n    @ViewChild('input') input;\n\n    showError: boolean;\n    private session: Session;\n    private score: Score;\n    private tasks: Task[];\n    private numberOfSolvedTasks: number;\n    private iconPath: string;\n    private narrative: string;\n\n    constructor(private viewCtrl: ViewController,\n                private navCtrl: NavController,\n                private appCtrl: App,\n                private navParams: NavParams) {\n        this.session = navParams.data.session;\n        this.score = navParams.data.score;\n        this.tasks = navParams.data.tasks;\n        this.numberOfSolvedTasks = 0;\n        let solvedTasks = this.score.getTasksSolved();\n        let solvedLowTasks = this.score.getTasksSolvedLow();\n        let savedTasks = this.score.getTasksSaved();\n        this.tasks.map(task => {\n           if (savedTasks.indexOf(task.id) >= 0 || solvedTasks.indexOf(task.id) >= 0 || solvedLowTasks.indexOf(task.id) >= 0) {\n               this.numberOfSolvedTasks++;\n           }\n        });\n        if(navParams.data.narrative) {\n            this.narrative = navParams.data.narrative;\n            switch (this.narrative) {\n                case 'pirates':\n                    this.iconPath = 'pirates/';\n                    break;\n                default:\n                    this.iconPath = '';\n            }\n        } else {\n            this.iconPath = '';\n        }\n    }\n\n    // ionViewDidEnter() {\n    //     setTimeout(() => {\n    //         this.input.setFocus();\n    //     }, 150);\n    // }\n\n     cancel() {\n        this.viewCtrl.dismiss();\n    }\n\n     backToStart() {\n        this.appCtrl.getRootNav().popToRoot(HomePage);\n        this.cancel();\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/modals/MCMSessionFinishedModal/MCMSessionFinishedModal.ts","import { Component, ViewChild } from '@angular/core';\nimport { ViewController } from 'ionic-angular/navigation/view-controller';\nimport { NavController, NavParams } from \"ionic-angular\";\nimport {HomePage} from \"../../pages/home/home\";\nimport { App } from \"ionic-angular\";\nimport { Session } from '../../app/api/models/session';\nimport { Score } from '../../entity/Score';\nimport { Task } from '../../entity/Task';\n\n@Component({\n    selector: 'mcm-trail-finished-modal',\n    templateUrl:'./MCMTrailFinishedModal.html'\n})\nexport class MCMTrailFinishedModal {\n    @ViewChild('input') input;\n\n    showError: boolean;\n    private score: Score;\n    private callback: Function;\n    private tasks: Task[];\n    private numberOfSolvedTasks: number;\n    private iconPath: string;\n    private narrative: string;\n\n    constructor(private viewCtrl: ViewController,\n                private navCtrl: NavController,\n                private appCtrl: App,\n                private navParams: NavParams) {\n        this.score = navParams.data.score;\n        this.tasks = navParams.data.tasks;\n        this.callback = navParams.data.callback;\n        this.numberOfSolvedTasks = 0;\n        let solvedTasks = this.score.getTasksSolved();\n        let solvedLowTasks = this.score.getTasksSolvedLow();\n        let savedTasks = this.score.getTasksSaved();\n        this.tasks.map(task => {\n           if (savedTasks.indexOf(task.id) >= 0 || solvedTasks.indexOf(task.id) >= 0 || solvedLowTasks.indexOf(task.id) >= 0) {\n               this.numberOfSolvedTasks++;\n           }\n        });\n        if(navParams.data.narrative) {\n            this.narrative = navParams.data.narrative;\n            switch (this.narrative) {\n                case 'pirates':\n                    this.iconPath = 'pirates/';\n                    break;\n                default:\n                    this.iconPath = '';\n            }\n        } else {\n            this.iconPath = '';\n        }\n    }\n\n    // ionViewDidEnter() {\n    //     setTimeout(() => {\n    //         this.input.setFocus();\n    //     }, 150);\n    // }\n\n     cancel() {\n        this.viewCtrl.dismiss();\n    }\n\n     backToStart() {\n        this.appCtrl.getRootNav().popToRoot(HomePage);\n        this.cancel();\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/modals/MCMTrailFinishedModal/MCMTrailFinishedModal.ts","import { Component, ViewChild } from '@angular/core';\nimport { ViewController } from 'ionic-angular/navigation/view-controller';\nimport { MCMTermsAndConditionsModal } from \"../MCMTermsAndConditionsModal/MCMTermsAndConditionsModal\";\nimport { SessionService } from '../../app/api/services/session.service';\nimport { OrmService } from '../../services/orm-service';\nimport {ModalController, NavController, NavParams} from 'ionic-angular';\nimport { Route } from '../../entity/Route';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ModalsService } from '../../services/modals-service';\n\n\n\n@Component({\n    selector: 'mcm-route-by-code-modal',\n    templateUrl:'./MCMRouteByCodeModal.html'\n})\nexport class MCMRouteByCodeModal {\n    @ViewChild('input') input;\n\n    code: string = '';\n    codeInput: boolean = false;\n    showError: boolean;\n    navCtrl: NavController;\n\n    constructor(private ormService: OrmService, public modalCtrl: ModalController, private viewCtrl: ViewController,\n                private sessionService: SessionService, private navParams: NavParams) {\n        this.navCtrl = navParams.data.navCtrl;\n    }\n\n    ionViewDidEnter() {\n        setTimeout(() => {\n            this.input.setFocus();\n        }, 150);\n    }\n\n    cancel() {\n        this.viewCtrl.dismiss();\n    }\n\n    checkInputField() {\n        if(this.code.length >= 4) {\n            return this.codeInput = true;\n        } else {\n            return this.codeInput = false;\n        }\n    }\n\n    async addTrailOrSessionByCode() {\n        let route = await this.ormService.findRouteByCode(this.code);\n        if (!route) {\n            let session;\n            try {\n                session = await this.sessionService.getSessionByCode(this.code).toPromise();\n            } catch (e) {\n            }\n            if (session) {\n                let modal = this.modalCtrl.create(MCMTermsAndConditionsModal, {\n                    session: session,\n                    navCtrl: this.navCtrl\n                });\n                this.cancel();\n                modal.present();\n            } else {\n                this.showError = true;\n            }\n        } else {\n            await this.ormService.unlockRoute(route);\n            this.viewCtrl.dismiss(route);\n        }\n    }\n\n    public static async show(navCtrl: NavController, modalCtrl: ModalController,\n                                          translateService: TranslateService, modalsService: ModalsService): Promise<Route> {\n        return new Promise<Route>((success) => {\n            let modal = modalCtrl.create(MCMRouteByCodeModal, {navCtrl: navCtrl});\n            modal.onDidDismiss(function (route: Route) {\n                if (route) {\n                    modalsService.showDialog(null, translateService.instant('a_private_route_added', {'T': route.title}),\n                        translateService.instant('a_g_ok'), function(){\n                            modalsService.presentRouteInfoModal(route, navCtrl);\n                            }\n                        );\n                }\n                success(route);\n            });\n            modal.present();\n        });\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/modals/MCMRouteByCodeModal/MCMRouteByCodeModal.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport \"reflect-metadata\"\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import {BrowserModule, HAMMER_GESTURE_CONFIG, HammerGestureConfig} from '@angular/platform-browser';\nimport {ErrorHandler, NgModule} from '@angular/core';\nimport {IonicApp, IonicErrorHandler, IonicModule} from 'ionic-angular';\nimport {StatusBar} from '@ionic-native/status-bar';\nimport {Network} from '@ionic-native/network';\nimport {Geolocation} from '@ionic-native/geolocation';\nimport {SQLite} from '@ionic-native/sqlite';\nimport {IonicStorageModule} from '@ionic/storage';\nimport {DB_Updater} from '../classes/DB_Updater';\nimport {HttpModule} from '@angular/http';\nimport {File} from '@ionic-native/file';\nimport {FileTransfer} from '@ionic-native/file-transfer';\nimport {SpinnerDialog} from '@ionic-native/spinner-dialog';\nimport {Diagnostic} from '@ionic-native/diagnostic';\nimport {ModalsService} from '../services/modals-service';\nimport {LanguageService} from '../services/language-service';\nimport {Globalization} from '@ionic-native/globalization';\nimport {CustomKeyBoard} from '../components/customKeyBoard/custom-keyboard';\nimport {Camera} from \"@ionic-native/camera\";\n\nimport {MyApp} from './app.component';\n\n/* Translation */\nimport {HttpClientModule, HttpClient} from '@angular/common/http';\nimport {createTranslateLoader} from '../providers/translate-loader';\nimport {TranslateModule, TranslateLoader} from '@ngx-translate/core';\n\nimport {OrmService} from '../services/orm-service';\nimport {ImagesService} from '../services/images-service';\nimport {RouteInfo} from '../modals/RouteInfo/RouteInfo';\nimport {LinkyModule} from 'angular-linky';\nimport {\n    MCMDownloadProgressPopupComponent\n} from '../components/mcm-download-progress-popup/mcm-download-progress-popup.component';\nimport {BroadcastService} from '../services/broadcast-service';\nimport {MCMIconModal} from '../modals/MCMIconModal/MCMIconModal';\nimport {MCMIntroModal} from \"../modals/MCMIntroModal/MCMIntroModal\";\nimport {MCMRouteByCodeModal} from '../modals/MCMRouteByCodeModal/MCMRouteByCodeModal';\nimport {MCMTermsAndConditionsModal} from \"../modals/MCMTermsAndConditionsModal/MCMTermsAndConditionsModal\";\nimport {MCMJoinSessionModal} from \"../modals/MCMJoinSessionModal/MCMJoinSessionModal\";\nimport {MCMSessionFinishedModal} from \"../modals/MCMSessionFinishedModal/MCMSessionFinishedModal\";\nimport {CenteredTask} from '../modals/CenteredTask/CenteredTask';\nimport {GpsService} from '../services/gps-service';\nimport {LocationAccuracy} from '@ionic-native/location-accuracy';\nimport {YoutubePlayerModule} from '../components/ngx-youtube-player/modules/ngx-youtube-player.module';\nimport {ComponentsModule} from '../components/components.module';\nimport {Helper} from '../classes/Helper';\nimport {Autoresize} from \"../directives/autoresize\";\nimport {ApiModule} from './api/api.module';\nimport {ChatAndSessionService} from '../services/chat-and-session-service';\nimport {ChatPageModule} from '../pages/chat/chat.module';\nimport {LocalNotifications} from '@ionic-native/local-notifications';\nimport {InAppBrowser} from '@ionic-native/in-app-browser';\nimport {AppVersion} from '@ionic-native/app-version';\nimport {Media} from '@ionic-native/media';\nimport {ProgressBarModule} from \"angular-progress-bar\";\nimport {ScreenOrientation} from \"@ionic-native/screen-orientation\";\nimport {MCMTrailFinishedModal} from \"../modals/MCMTrailFinishedModal/MCMTrailFinishedModal\";\nimport {DirectivesModule} from \"../directives/directives.module\";\nimport {MCMReportProblemModal} from \"../modals/MCMReportProblemModal/MCMReportProblemModal\";\nimport {ZoomService} from \"../services/zoom-service\";\n\n\n@NgModule({\n    declarations: [\n        MyApp,\n        RouteInfo,\n        MCMDownloadProgressPopupComponent,\n        MCMIconModal, MCMRouteByCodeModal, MCMTermsAndConditionsModal, MCMJoinSessionModal, MCMSessionFinishedModal, MCMIntroModal, MCMTrailFinishedModal,\n        MCMReportProblemModal,\n        CenteredTask,\n        Autoresize,\n        CustomKeyBoard\n    ],\n    imports: [\n        HttpModule,\n        HttpClientModule,\n        BrowserModule,\n        IonicModule.forRoot(MyApp, {\n            tabsHideOnSubPages: true,\n            swipeBackEnabled: false\n        }),\n        IonicStorageModule.forRoot(),\n        TranslateModule.forRoot({\n            loader: {\n                provide: TranslateLoader,\n                useFactory: (createTranslateLoader),\n                deps: [HttpClient],\n\n            }, useDefaultLang: true\n        }),\n        ComponentsModule,\n        LinkyModule,\n        YoutubePlayerModule,\n        ApiModule,\n        ChatPageModule,\n        ProgressBarModule,\n        DirectivesModule\n    ],\n    bootstrap: [IonicApp],\n    entryComponents: [\n        MyApp,\n        RouteInfo,\n        MCMDownloadProgressPopupComponent,\n        MCMIconModal, MCMRouteByCodeModal, MCMTermsAndConditionsModal, MCMJoinSessionModal, MCMSessionFinishedModal, MCMIntroModal, MCMTrailFinishedModal,\n        MCMReportProblemModal,\n        CenteredTask,\n        CustomKeyBoard\n    ],\n    providers: [\n        StatusBar,\n        Network,\n        Geolocation,\n        Diagnostic,\n        LocationAccuracy,\n        SQLite,\n        File,\n        FileTransfer,\n        DB_Updater,\n        SpinnerDialog,\n        OrmService,\n        ImagesService,\n        BroadcastService,\n        ZoomService,\n        ModalsService,\n        GpsService,\n        LanguageService,\n        Helper,\n        ChatAndSessionService,\n        LocalNotifications,\n        InAppBrowser,\n        AppVersion,\n        Globalization,\n        Camera,\n        Media,\n        ScreenOrientation,\n        {provide: ErrorHandler, useClass: IonicErrorHandler},\n        {provide: HAMMER_GESTURE_CONFIG, useClass: HammerGestureConfig}\n    ]\n})\nexport class AppModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import {NavController, ModalController} from \"ionic-angular\";\nimport {OrmService} from './orm-service';\nimport {DeepLinker} from \"ionic-angular/navigation/deep-linker\";\nimport {Route} from '../entity/Route';\nimport {Score} from \"../entity/Score\";\nimport {MCMDownloadProgressPopupComponent} from '../components/mcm-download-progress-popup/mcm-download-progress-popup.component';\nimport {RouteInfo} from '../modals/RouteInfo/RouteInfo';\nimport {Injectable} from '@angular/core';\n\nimport {Task} from '../entity/Task';\nimport {CenteredTask} from '../modals/CenteredTask/CenteredTask';\nimport {AlertController} from 'ionic-angular';\nimport {TranslateService} from '@ngx-translate/core';\nimport {TaskMapState} from \"../pages/home/tabs/TasksMap/TasksMap\";\nimport {SpinnerDialog} from '@ionic-native/spinner-dialog';\nimport {ConnectionQuality, Helper} from '../classes/Helper';\nimport {DB_Updater} from \"../classes/DB_Updater\";\n\n\n@Injectable()\nexport class ModalsService {\n\n    constructor(public modalCtrl: ModalController,\n                public ormService: OrmService,\n                public alertCtrl: AlertController,\n                public deepLinker: DeepLinker,\n                public translateService: TranslateService,\n                private spinner: SpinnerDialog,\n                private dbUpdater: DB_Updater,\n                private helper: Helper) {\n    }\n\n    async doDownload(route: Route): Promise<boolean> {\n        if (!await this.showNoInternetModalIfOffline()) {\n            return;\n        }\n        console.log(`doDownload ${JSON.stringify(route.id)}`);\n\n        let cancelHasBeenClicked = false;\n        let data: any = {\n            total: 0,\n            currentProgress: 0,\n            cancelCallback: () => {\n                console.log(\"cancel has been clicked\");\n                cancelHasBeenClicked = true;\n            },\n            titleKey: 'a_rdl_title_map'\n        };\n        let downloadModal = this.modalCtrl.create(MCMDownloadProgressPopupComponent, data, {\n            showBackdrop: true,\n            enableBackdropDismiss: false\n        });\n        downloadModal.present();\n        await this.ormService.downloadRoute(route, function (doneDownload, totalDownload, titleKey) {\n            data.total = totalDownload;\n            data.currentProgress = doneDownload;\n            if (titleKey) {\n                data.titleKey = titleKey;\n            }\n\n            if (data.updateView) {\n                data.updateView();\n            }\n            // make sure that updated values are bound to DOM\n            return cancelHasBeenClicked;\n        }, this.dbUpdater);\n        downloadModal.dismiss();\n        return !cancelHasBeenClicked;\n    }\n\n    async showRoute(route: Route, navCtrl: NavController, startRoute: boolean = false, selectedTask: Task = null) {\n        if (route.downloaded) {\n            // 15.05.18 - Perform dataset refresh of related tasks of the route if online\n            await this.dbUpdater.updateRouteTasksData(route, this.translateService.instant(\"a_language_code\"))\n            if(startRoute){\n                this.navigateToRoute(route, navCtrl, null);\n                return;\n            }\n\n        }\n        await this.presentRouteInfoModal(route, navCtrl);\n    }\n\n    async showDialog(titleKey: string, messageKey: string,\n                     button1Key?: string, button1Handler?: () => void,\n                     button2Key?: string, button2Handler?: () => void,\n                     narrative: string = 'default') {\n        button1Key = button1Key || 'a_g_ok';\n        let buttons = [{\n            text: this.translateService.instant(button1Key),\n            handler: button1Handler\n        }];\n        if (button2Key && button2Handler) {\n            buttons.push({\n                text: this.translateService.instant(button2Key),\n                handler: button2Handler\n            })\n        }\n        let confirm = this.alertCtrl.create({\n            title: titleKey ? this.translateService.instant(titleKey) : null,\n            message: messageKey ? this.translateService.instant(messageKey) : null,\n            buttons: buttons,\n            cssClass: narrative\n        });\n        confirm.present();\n        return confirm;\n    }\n\n    showYesNoDialog(titleKey: string, messageKey: string,\n                    yesKey?: string,\n                    noKey?: string): Promise<boolean> {\n        yesKey = yesKey || 'yes';\n        noKey = noKey || 'no';\n        return new Promise<boolean>((resolve, reject) => {\n            this.showDialog(titleKey, messageKey, yesKey, () => resolve(true), noKey, () => resolve(false));\n        });\n    }\n\n    private navigateToRoute(route: Route, navCtrl: NavController, selectedTask: Task = null): void {\n        this.spinner.show(null, null, false);\n        setTimeout(() => {\n            if (navCtrl.parent && navCtrl.parent.parent) {\n                navCtrl.parent.parent.push('TasksMap', {\n                    routeId: route.id,\n                    headerTitle: route.title,\n                    selectedTask: selectedTask\n                }, {}, () => {\n                    // necessary because of bug which does not update URL\n                    this.deepLinker.navChange('forward');\n                });\n            } else if (navCtrl.parent == null) {\n                navCtrl.push('TasksMap', {\n                    routeId: route.id,\n                    headerTitle: route.title,\n                    selectedTask: selectedTask\n                }, {}, () => {\n                    // necessary because of bug which does not update URL\n                    this.deepLinker.navChange('forward');\n                });\n            }\n        }, 10);\n    }\n\n    presentRouteInfoModal(route: Route, navCtrl: NavController): Promise<Route> {\n        let self = this;\n        return new Promise(success => {\n            //Passing navCtrl to prevent issues of dismissing 2 modals and having no navCtrl to use for showRoute.\n            let data = {\n                routeId: route.id,\n                modalsService: this,\n                route: null\n            };\n            let routeInfoModal = this.modalCtrl.create(RouteInfo, data);\n            routeInfoModal.onDidDismiss(result => {\n                if (result && result.showRoute) {\n                    self.showRoute(result.route, navCtrl, true);\n                    success(result.route);\n                } else {\n                    // route is set by RouteInfo\n                    success(data.route);\n                }\n            });\n            routeInfoModal.present();\n        });\n    }\n\n    async presentTaskListModal(route: Route, score: Score, state: TaskMapState, narrative: string = 'default', navCtrl: NavController, callback: any) {\n        let testModal = this.modalCtrl.create(CenteredTask, {\n            route: route,\n            score: score,\n            state: state,\n            tasks: await route.getTasks(),\n            modalsService: this\n        }, {cssClass: narrative});\n        testModal.onDidDismiss(data => {\n            /* coming from List/Map View */\n            if (data && data.route != null && navCtrl != null && !callback) this.navigateToRoute(data.route, navCtrl, data.selectedTask);\n            /* already on taskMap */\n            else if (data && data.selectedTask != null && navCtrl != null && callback) callback(data.selectedTask);\n            /*          else if(data && data.route != null && navCtrl != null && fromTaskMap) console.log('You wanna see the marker now?'); */\n        });\n        testModal.present();\n        return testModal;\n    }\n\n    async showNoInternetModalIfOffline(): Promise<boolean> {\n        if (this.helper.isOnline) {\n            let quality = await this.helper.checkConnection();\n            if (quality == ConnectionQuality.FAST) {\n                return true;\n            } else {\n                return await this.showYesNoDialog('a_slow_connection_title',\n                    'a_slow_connection', 'a_alert_continue', 'a_alert_cancel');\n            }\n        } else {\n            await this.showDialog(null, 'a_toast_need_internet_for_update');\n            return false;\n        }\n    }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/modals-service.ts","/* tslint:disable */\nimport { HttpClient } from '@angular/common/http';\nimport { ApiConfiguration } from './api-configuration';\n\n/**\n * Base class for API services\n */\nexport class BaseService {\n  constructor(\n    protected config: ApiConfiguration,\n    protected http: HttpClient\n  ) {\n  }\n\n  private _rootUrl: string;\n\n  /**\n   * Returns the root url for API operations. If not set directly in this\n   * service, will fallback to ApiConfiguration.rootUrl.\n   */\n  get rootUrl(): string {\n    return this._rootUrl || this.config.rootUrl;\n  }\n\n  /**\n   * Sets the root URL for API operations in this service.\n   */\n  set rootUrl(rootUrl: string) {\n    this._rootUrl = rootUrl;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/api/base-service.ts","import { Injectable } from \"@angular/core\";\nimport { Diagnostic } from '@ionic-native/diagnostic';\nimport { Platform } from 'ionic-angular';\nimport { LocationAccuracy } from '@ionic-native/location-accuracy';\nimport { checkAvailability } from \"@ionic-native/core\";\n\n\nimport { AlertController } from 'ionic-angular';\nimport { Observable } from 'rxjs/Observable';\nimport { ReplaySubject } from 'rxjs/ReplaySubject';\nimport { Subscription } from 'rxjs/Subscription';\nimport { Subscriber } from 'rxjs/Subscriber';\nimport { Geolocation, GeolocationOptions, Geoposition } from '@ionic-native/geolocation';\n\n@Injectable()\nexport class GpsService {\n    public static INSTANCE: GpsService;\n\n    constructor(private diagnostic: Diagnostic,\n                private alertCtrl: AlertController,\n                public platform: Platform,\n                private locationAcc: LocationAccuracy,\n                private geolocation: Geolocation) {\n        GpsService.INSTANCE = this;\n        this.subject.emptyCallback = () => {\n            if (this.geolocationSubscription) {\n                // no more observers left -> unsubscribe\n                this.geolocationSubscription.unsubscribe();\n                this.geolocationSubscription = null;\n                console.log(\"unsubscribing from geolocation.watchPosition()\");\n            }\n        }\n    }\n\n    private subject = new CustomReplaySubject<Geoposition>(1);\n    private geolocationSubscription: Subscription;\n    private lastPosition: Geoposition;\n\n\n    public async isLocationOn() {\n        await this.platform.ready();\n        console.log(\"platform: \" + this.platform.platforms());\n\n        //if the platform is not browser\n        if (this.platform.is(\"android\") &&\n            checkAvailability(LocationAccuracy.getPluginRef(), null, LocationAccuracy.getPluginName()) === true)\n            this.diagnostic.isLocationEnabled().then(async (enabled) => {\n                //if the location is off\n                console.log(\"LOCATION##: \", enabled);\n                if (!enabled) await this.turnLocationOn();\n            })\n    }\n\n\n    async locationAlert() {\n        let confirm = this.alertCtrl.create({\n            title: 'Location Off',\n            message: 'Do you want to turn on your device location?',\n            buttons: [\n                {\n                    text: 'NO',\n                    handler: () => {\n                        console.log('Disagree clicked');\n                    }\n                },\n                {\n                    text: 'YES',\n                    handler: () => {\n                        this.turnLocationOn();\n                    }\n                }\n            ]\n        });\n        confirm.present();\n    }\n\n\n    async turnLocationOn() {\n        this.locationAcc.canRequest().then((can) => {\n            if (can) this.locationAcc.request(this.locationAcc.REQUEST_PRIORITY_HIGH_ACCURACY).then(function (suc) {\n                console.log(\"Device Location is now turned ON\");\n            }, function (rip) {\n                console.log(\"Device Location is still OFF \");\n            })\n\n        })\n\n    }\n\n    /**\n     * Watch the current device's position.  Clear the watch by unsubscribing from\n     * Observable changes.\n     *\n     * ```typescript\n     * const subscription = this.geolocation.watchPosition()\n     *                               .filter((p) => p.coords !== undefined) //Filter Out Errors\n     *                               .subscribe(position => {\n     *   console.log(position.coords.longitude + ' ' + position.coords.latitude);\n     * });\n     *\n     * // To stop notifications\n     * subscription.unsubscribe();\n     * ```\n     *\n     * @param {GeolocationOptions} options  The [geolocation options](https://developer.mozilla.org/en-US/docs/Web/API/PositionOptions).\n     * @returns {Observable<Geoposition>} Returns an Observable that notifies with the [position](https://developer.mozilla.org/en-US/docs/Web/API/Position) of the device, or errors.\n     */\n    watchPosition(options?: GeolocationOptions): CustomReplaySubject<Geoposition> {\n        if (!this.geolocationSubscription) {\n            console.log(\"subscribing to geolocation.watchPosition()\");\n            if (!options) {\n                options = {\n                    enableHighAccuracy: true\n                }\n            }\n            this.geolocationSubscription = this.geolocation.watchPosition(options).subscribe(next => {\n                this.subject.next(next);\n                if (next && next.coords) {\n                    console.debug(`watchPosition: ${next.coords.latitude}, ${next.coords.longitude}`);\n                    this.lastPosition = next;\n                }\n            });\n        }\n        return this.subject;\n    }\n\n    /**\n     * Get the device's current position.\n     *\n     * @param {GeolocationOptions} options  The [geolocation options](https://developer.mozilla.org/en-US/docs/Web/API/PositionOptions).\n     * @returns {Promise<Geoposition>} Returns a Promise that resolves with the [position](https://developer.mozilla.org/en-US/docs/Web/API/Position) of the device, or rejects with an error.\n     */\n    async getCurrentPosition(options?: GeolocationOptions): Promise<Geoposition> {\n        if (!options) {\n            options = {\n                enableHighAccuracy: true\n            }\n        }\n        try {\n            let position = await this.geolocation.getCurrentPosition(options);\n            this.subject.next(position);\n            if (position && position.coords) {\n                console.debug(`getCurrentPosition: ${position.coords.latitude}, ${position.coords.longitude}`);\n                this.lastPosition = position;\n            }\n            return  position;\n        } catch (e) {\n            console.log('gps-service.ts: getCurrentPosition() caught exception', e);\n            return null;\n        }\n    }\n\n    getLastPosition(): Geoposition {\n        return this.lastPosition;\n    }\n}\n\nclass CustomReplaySubject<T> extends ReplaySubject<T> {\n    public emptyCallback: Function;\n\n    public _subscribe(subscriber: Subscriber<T>): Subscription {\n        let result = super._subscribe(subscriber);\n        let originalUnsubscribe = result.unsubscribe;\n        result.unsubscribe = () => {\n            originalUnsubscribe.apply(result);\n            if (!this.hasObservers() && this.emptyCallback) {\n                this.emptyCallback();\n            }\n        };\n        return result;\n    }\n\n    hasObservers(): boolean {\n        return this.observers.length > 0;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/gps-service.ts","import {Column, Entity, OneToMany, PrimaryGeneratedColumn} from \"typeorm\";\nimport {Task, TaskFormat} from './Task';\nimport {Helper} from '../classes/Helper';\nimport {LatLng, LatLngBounds} from 'leaflet';\nimport {Score} from \"./Score\";\nimport {Task2Route} from './Task2Route';\nimport {User} from './User';\nimport {TranslateService} from '@ngx-translate/core';\nimport {OrmService} from '../services/orm-service';\nimport {GpsService} from '../services/gps-service';\nimport {MAPBOX_ACCESS_TOKEN} from \"../env/env\";\n\n@Entity('mcm_route')\nexport class Route {\n// CREATE TABLE IF NOT EXISTS mcm_route (_id INTEGER PRIMARY KEY AUTOINCREMENT,user_id INTEGER NOT NULL,public VARCHAR (1) NOT NULL,title TEXT NOT NULL,country_code TEXT NOT NULL,city TEXT NOT NULL,image TEXT ,code VARCHAR (64),\n// grade TEXT (64),tags VARCHAR ,duration VARCHAR (64),length VARCHAR (64),bounding_box TEXT ,center TEXT ,timestamp TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,description TEXT ,create_date TIMESTAMP NOT NULL,attr TEXT TEXT)\");\n\n    @PrimaryGeneratedColumn({name: '_id'})\n    id: number;\n\n    @Column({name: 'user_id'})\n    userId: number;\n\n    @Column({length: 1})\n    public: string;\n\n    @Column()\n    title: string;\n\n    @Column({name: 'country_code'})\n    countryCode: string;\n\n    @Column()\n    city: string;\n\n    @Column()\n    image: string;\n\n    @Column({length: 64})\n    code: string;\n\n    @Column({length: 64})\n    grade: string;\n\n    @Column()\n    tags: string;\n\n    @Column()\n    length: string;\n\n    @Column({length: 64})\n    duration: string;\n\n    @Column({name: 'bounding_box'})\n    boundingBox: string;\n\n    @Column()\n    center: string;\n\n    @Column()\n    description: string;\n\n    @Column({name: 'create_date'})\n    createDate: string;\n\n    @Column()\n    timestamp: string;\n\n    @Column()\n    attr: string;\n\n    @Column({name: 'map_version'})\n    mapVersion: string;\n\n    @Column({name: 'map_filename'})\n    mapFileName: string;\n\n    @Column({name: 'map_date'})\n    mapDate: string;\n\n    @Column({name: 'path_geojson'})\n    pathGeojson: string;\n\n    @Column({name: 'path_info'})\n    pathInfo: string;\n\n    // TODO: change table's schema\n    /*@Column(\"simple-json\")\n    narrativeStrings: { welcome: string, welcomeMessage: string, ending: string, aboutObject: string,\n        wellDone: string, notPerfect: string, firstGo: string, wrongAnswer: string, tryAgain: string, takeHint: string,\n        skipTask: string, congratulations: string, goodLuck: string };*/\n\n\n    @Column({name: 'lang_code'})\n    langCode: string;\n\n    tasks: Task[];\n\n    narrativeStrings = [];\n    matchingStrings = {\n        \"a_alert_welcome\": \"welcome\",\n        \"a_alert_welcome_msg\" : \"welcomeMessage\",\n        \"a_alert_congrats_msg\" : \"ending\",\n        \"a_did_you_know\" : \"aboutObject\",\n        \"a_alert_right_answer_title\" : \"wellDone\",\n        \"a_alert_right_answer_title_low\" : \"notPerfect\",\n        \"a_alert_right_answer_1\" : \"firstGo\",\n        \"a_alert_false_answer_title\" : \"wrongAnswer\",\n        \"a_alert_false_answer_1\" : \"tryAgain\",\n        \"a_alert_false_answer_2\" : \"takeHint\",\n        \"a_skipTask_confirm\" : \"skipTask\",\n        \"a_alert_congrats\" : \"congratulations\",\n        \"good_luck_next_time\" : \"goodLuck\"\n    };\n\n    async getTasks(): Promise<Task[]> {\n        if (this.tasks) {\n            return this.tasks;\n        }\n        if (this.task2Routes) {\n            this.task2Routes.sort((a, b) => a.id - b.id);\n            this.tasks = await Promise.all(this.task2Routes.map(async (value, index) => {\n                    let task = await value.getTaskWithSubtasks();\n                    if (!task) {\n                        return Promise.resolve(undefined);\n                    }\n                    task.position = index + 1;\n                    return Promise.resolve(task);\n                })\n            );\n            this.tasks = this.tasks.filter(task => {\n                return !!task\n            });\n        } else {\n            // relation was not loaded yet -> reload route to get tasks\n            this.tasks = await (await OrmService.INSTANCE.findRouteById(this.id)).getTasks();\n        }\n        return this.tasks;\n    }\n\n    @OneToMany(type => Task2Route, task2Route => task2Route.route, {eager: true})\n    task2Routes: Task2Route[];\n\n    @Column({name: 'downloaded'})\n    downloaded: boolean;\n\n    @Column({name: 'downloadedDate'})\n    downloadedDate: string;\n\n    @Column({name: 'completedDate'})\n    completedDate: string;\n\n    @Column({name: 'unlocked'})\n    unlocked: boolean;\n\n    @Column({name: 'completed'})\n    completed: boolean;\n\n    @OneToMany(type => Score, score => score.route, {eager: true})\n    scores: Score[];\n\n    @Column({name: 'min_zoom'})\n    min_zoom: number\n\n    async getTaskCount(): Promise<number> {\n        let allTasks: Task[];\n        if(this.tasks) {\n            allTasks = this.tasks;\n        }\n        if (this.task2Routes) {\n            allTasks = this.task2Routes.map(t2R => {\n                return t2R.task;\n            }).filter(task => {return !!task});\n        }\n        if (allTasks) {\n            let tasks = allTasks.filter(task => {return task.taskFormat !== TaskFormat.GROUP});\n            let groups = allTasks.filter(task => {return task.taskFormat === TaskFormat.GROUP});\n            let count = tasks.length;\n            for (let group of groups) {\n                if (!group.getLegitSubtasks()) {\n                    // relation was not loaded yet -> reload group to get tasks\n                    count += (await OrmService.INSTANCE.findTaskById(group.id)).getLegitSubtasks().length;\n                } else {\n                    count += group.getLegitSubtasks().length;\n                }\n            }\n            return count;\n        } else {\n            // relation was not loaded yet -> reload route to get tasks\n            await (await OrmService.INSTANCE.findRouteById(this.id)).getTaskCount();\n        }\n    }\n\n    getScoreForUser(user: User): Score {\n        let userScore = this.scores.filter(value => value.userId == user.id);\n        let score = userScore.length > 0 ? userScore[0] : new Score();\n        score.userId = user.id;\n        score.route = this;\n        return score;\n    }\n\n    getImageURL(): string {\n        return this.image;\n    }\n\n    private boundingBoxLatLng: LatLngBounds = null;\n    private viewBoundingBoxLatLng: LatLngBounds = null;\n    private centerLatLng: LatLng = null;\n    private distance: number = null;\n\n    private calcBoundingBoxAndCenter() {\n        const padding: number = 0.0015;\n        if (!this.boundingBox) {\n            return;\n        }\n        const jsonBB = JSON.parse(this.boundingBox);\n        const jsonCenter = JSON.parse(this.center);\n        if (!jsonBB) {\n            return;\n        }\n        const northWest = jsonBB[0];\n        const southEast = jsonBB[1];\n        const south = southEast[0] - padding;\n        const north = northWest[0] + padding;\n        const west = northWest[1] - padding;\n        const east = southEast[1] + padding;\n        this.viewBoundingBoxLatLng = new LatLngBounds([northWest[0], southEast[1]], [southEast[0], northWest[1]]);\n        this.boundingBoxLatLng = new LatLngBounds([[north, east], [south, west]]);\n        this.centerLatLng = new LatLng(jsonCenter[0], jsonCenter[1]);\n    }\n\n    getAssistiveEquipment(translateService: TranslateService): string {\n        let equipment = \"\";\n        if (this.tasks) {\n            for (let i = 0; i < this.tasks.length; i++) {\n                let equipmentArray = this.tasks[i].getAssistiveEquipment();\n                for (let j = 0; j < equipmentArray.length; j++) {\n                    let translation = translateService.instant(equipmentArray[j]);\n                    if (equipment.indexOf(translation) == -1) {\n                        if (equipment != \"\") {\n                            equipment = equipment + \", \";\n                        }\n                        equipment = equipment + translation;\n                    }\n                }\n            }\n        }\n\n        return equipment;\n    }\n\n    getSettingValue(key: string): boolean{\n        if(this.isSettingAvailable(key)){\n            let attr = this.getAttributes();\n            return attr[key] === \"true\" || attr[key] === \"1\";\n        }\n        else return null;\n    }\n\n    getSettingStringValue(key: string, translateService: TranslateService): string{\n        let value = this.getSettingValue(key);\n        if(value !== null){\n            return value ? translateService.instant('a_settings_active') : translateService.instant('a_settings_inactive');\n        }\n        else{\n            return \"\";\n        }\n    }\n\n    /*\n    Checks if setting with given key is available\n    @param key string\n    @return boolean\n     */\n    isSettingAvailable(key: string): boolean{\n        let attr = this.getAttributes();\n        // fix missing values\n        if (!attr.sampleSolution) {\n            attr.sampleSolution = \"true\";\n        }\n        if (!attr.hints) {\n            attr.hints = \"true\";\n        }\n        if (!attr.answerValidation) {\n            attr.answerValidation = \"true\";\n        }\n        if (!attr.answerFeedback) {\n            attr.answerFeedback = \"true\";\n        }\n        this.attr = JSON.stringify(attr);\n        return attr.hasOwnProperty(key);\n    }\n\n    getBoundingBoxLatLng(): LatLngBounds {\n        if (!this.boundingBoxLatLng) {\n            this.calcBoundingBoxAndCenter();\n        }\n        return this.boundingBoxLatLng;\n    }\n\n    getViewBoundingBoxLatLng(): LatLngBounds {\n        if (!this.viewBoundingBoxLatLng) {\n            this.calcBoundingBoxAndCenter();\n        }\n        return this.viewBoundingBoxLatLng;\n    }\n\n    getCenterLatLng(): LatLng {\n        if (!this.centerLatLng) {\n            this.calcBoundingBoxAndCenter();\n        }\n        return this.centerLatLng;\n    }\n\n    getDistance(): number {\n        if (GpsService.INSTANCE.getLastPosition() && this.distance == null) {\n            this.distance = Helper.INSTANCE.getDistanceToCenterByLatLng(this.getCenterLatLng());\n        }\n        return this.distance;\n    }\n\n    getAttributes(): any {\n        if (!this.attr) {\n            return {};\n        }\n        return Helper.safeJsonDecode(this.attr);\n    }\n\n    getNarrativeName(): string {\n        //return string for testing with a specific narrative on all routes (works best together with isNarrativeEnabled true);\n        //return 'pirates';\n        let name = this.getAttributes().narrativeName;\n        if (name) {\n            return name.toLowerCase();\n        } else {\n            return \"\";\n        }\n    }\n\n    getTilesMap(narrative) {\n        if (this.getAttributes().tilesUrl) {\n            return this.getAttributes().tilesUrl;\n        } else {\n            switch (narrative) {\n                case 'pirates':\n                    // return 'mapbox://styles/igurjanow/ck0ezs4vd02ou1co75ep12pyz';\n                    return 'https://api.mapbox.com/styles/v1/igurjanow/ck0ezs4vd02ou1co75ep12pyz/tiles/256/{z}/{x}/{y}@2x?access_token='+MAPBOX_ACCESS_TOKEN\n                default:\n                    // return 'mapbox://styles/mapbox/outdoors-v11';\n                    return Helper.mapquestUrl\n\n            }\n        }\n    }\n\n    getTilesServerSubdomains(narrative) {\n        if (this.getAttributes().tilesSubdomains) {\n            return this.getAttributes().tilesSubdomains;\n        } else {\n            switch (narrative) {\n                case 'pirates':\n                    return ['a', 'b'];\n                default:\n                    return Helper.subDomains;\n            }\n        }\n    }\n\n    isGamificationDisabled() {\n        if (this.getAttributes().gamification) {\n            return this.getAttributes().gamification === \"false\";\n        } else {\n            return false;\n        }\n    }\n\n    isSampleSolutionEnabled() {\n        if (this.getAttributes().sampleSolution) {\n            return this.getAttributes().sampleSolution === \"true\";\n        } else {\n            return true;\n        }\n    }\n\n    isHintsEnabled() {\n        if (this.getAttributes().hints) {\n            return this.getAttributes().hints === \"true\";\n        } else {\n            return true;\n        }\n    }\n\n    isAnswerValidationEnabled() {\n        if (this.getAttributes().answerValidation) {\n            return this.getAttributes().answerValidation === \"true\";\n        } else {\n            return true;\n        }\n    }\n\n    isAnswerFeedbackEnabled() {\n        if (this.getAttributes().answerFeedback) {\n            return this.getAttributes().answerFeedback === \"true\";\n        } else {\n            return true;\n        }\n    }\n\n    isNarrativeEnabled() {\n        // return true for testing with narrative enabled for all routes\n        //return true\n        return !!(this.getAttributes().narrativeName);\n    }\n\n    setNarrativeStrings() {\n        let strings = this.getAttributes().narrativeStrings;\n        if (strings != null) {\n            this.narrativeStrings = JSON.parse(strings);\n        }\n    }\n\n    hasNarrativeString($mcmKey) {\n        if(this.narrativeStrings == null || this.narrativeStrings.length == 0) {\n            this.setNarrativeStrings();\n        }\n        let key = this.matchingStrings[$mcmKey];\n        let newString = this.narrativeStrings[key];\n\n        return newString? true : false;\n    }\n\n    getNarrativeString($mcmKey) {\n        if(this.narrativeStrings == null || this.narrativeStrings.length == 0) {\n            this.setNarrativeStrings();\n        }\n        let key = this.matchingStrings[$mcmKey];\n        let newString = this.narrativeStrings[key];\n        if(newString && $mcmKey === 'a_alert_welcome_msg'){\n            newString = newString.replace('###TITLE###', this.title);\n        }\n        return newString? newString : $mcmKey;\n    }\n\n    isSubtaskRequired(taskId) {\n        const task2Route =  this.task2Routes.find(task2Route => {\n            return task2Route.task.id == taskId;\n        });\n        return task2Route ? task2Route.forceSupportTask : false;\n    }\n\n    getPathGeoJson() {\n        if (this.pathGeojson && this.pathInfo !== 'undefined') {\n            return JSON.parse(this.pathGeojson);\n        }\n        return null;\n    }\n\n    getPathInfo() {\n        if (this.pathInfo && this.pathInfo !== 'undefined') {\n            return JSON.parse(this.pathInfo);\n        }\n        return null;\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/entity/Route.ts","import {Injectable} from '@angular/core';\nimport {Events, Platform, ToastController} from 'ionic-angular';\nimport {Observable, TimeInterval} from \"rxjs/Rx\";\nimport {Session} from '../app/api/models/session';\nimport {Storage} from \"@ionic/storage\";\nimport {SessionService} from '../app/api/services/session.service';\nimport {SessionUser} from '../app/api/models/session-user';\nimport {ReplaySubject} from 'rxjs/ReplaySubject';\nimport {Subject} from 'rxjs/Subject';\nimport {GpsService} from './gps-service';\nimport {Subscription} from 'rxjs/Subscription';\nimport {SessionUserService} from '../app/api/services/session-user.service';\nimport {SessionChatMessageResponse} from \"../app/api/models/session-chat-message-response\";\nimport {SessionChatService} from \"../app/api/services/session-chat.service\";\nimport {SessionChatResponse} from \"../app/api/models/session-chat-response\";\nimport {\n    ILocalNotification, ILocalNotificationActionType,\n    LocalNotifications\n} from '@ionic-native/local-notifications';\nimport {TranslateService} from '@ngx-translate/core';\nimport {checkAvailability} from '@ionic-native/core';\nimport {SessionEventService} from \"../app/api/services/session-event.service\";\nimport {EventsAddRequest} from \"../app/api/models/events-add-request\";\nimport {EventAddRequest} from \"../app/api/models/event-add-request\";\nimport {SessionUserLeaderboardService} from \"../app/api/services/session-user-leaderboard.service\";\nimport {LeaderboardResponse} from \"../app/api/models/leaderboard-response\";\nimport * as moment from 'moment';\nimport {SessionUserResponse} from \"../app/api/models/session-user-response\";\nimport {SessionUsersResponse} from \"../app/api/models/session-users-response\";\nimport {forEach} from \"typescript-collections/dist/lib/arrays\";\nimport {SessionEventsResponse} from \"../app/api/models/session-events-response\";\n\nexport class ChatMessage {\n    messageId: string;\n    userId: string;\n    userName: string;\n    userAvatar: string;\n    toUserId: string;\n    time: number | string;\n    message: string;\n    media: string[];\n    status: string;\n    audioDuration?: number;\n    currentPosition?: number;\n}\n\nexport class LeaderBoardItemRespone {\n}\n\nexport class UserInfo {\n    id: string;\n    name?: string;\n    token: string;\n    avatar?: string;\n}\n\n// TODO Refactor, so that only important session params are exposed\nexport class SessionInfo {\n    session: Session;\n    sessionUser: SessionUser;\n    started: boolean;\n    authorEvents_lastPull: number; // Unix timestamp\n}\n\nexport enum SessionEventTitle {\n    AUTHOR_KICK_USER = 'event_author_kick_user',\n    AUTHOR_UPDATE_SESSION = 'event_author_update_session',\n    AUTHOR_ASSIGN_TASK = 'event_author_assign_task',\n    AUTHOR_PING_USER = 'event_author_ping_user',\n    USER_PONG_RESPONSE = 'event_pong_response'\n}\n\n@Injectable()\nexport class ChatAndSessionService {\n    private static POSITION_PUSH_INTERVAL_IN_SECS = 1;\n    private static CHAT_PULL_INTERVAL_IN_SECS = 15;\n    private static EVENTS_POST_INTERVAL_IN_SECS = 10;\n    private static CHAT_PULL_INTERVAL_USER_SEES_MESSAGES_IN_SECS = 2;\n    private static STORAGE_KEY_SESSION = 'ChatAndSessionService.activeSession';\n    private static USER_EVENTS = [];\n    private static DEFAULT_LAT = 999;\n    private static DEFAULT_LON = 999;\n\n    private subject = new ReplaySubject<SessionInfo>(1);\n    private timerBackground = Observable.interval(ChatAndSessionService.CHAT_PULL_INTERVAL_IN_SECS * 1000).timeInterval();\n    private timerUserSeesMessages = Observable.interval(ChatAndSessionService.CHAT_PULL_INTERVAL_USER_SEES_MESSAGES_IN_SECS * 1000).timeInterval();\n    private sendEventsTimer = Observable.interval(ChatAndSessionService.EVENTS_POST_INTERVAL_IN_SECS * 1000);\n    private getLeaderboardTimer = Observable.interval(ChatAndSessionService.EVENTS_POST_INTERVAL_IN_SECS * 1000);\n    private getAuthorEventsTimer = Observable.interval(ChatAndSessionService.CHAT_PULL_INTERVAL_IN_SECS * 1000);\n    private pushPositionTimer = Observable.interval(ChatAndSessionService.POSITION_PUSH_INTERVAL_IN_SECS * 1000);\n    private getLeaderboardSubscription: Subscription;\n    private sendEventsSubscription: Subscription;\n    private positionSubscription: Subscription;\n    private chatSubscription: Subscription;\n    private getAuthorEventsSubscription: Subscription;\n    private lastPositionPush: number = 0;\n    private transientActiveSession: SessionInfo;\n    private coordinatesList: Coordinates[] = [];\n\n\n    // TODO should be reloaded if session changes\n    // if a new team enters session, authors receiver list should be updated\n    private receivers: SessionUserResponse[] = [];\n    private userSeesNewMessages: boolean;\n    private alreadySeenMessages = {};\n    private pastLocalNotifications: ILocalNotification[] = [];\n\n    private leaderBoard: LeaderboardResponse = {leaderboard: []};\n    private newMsgNumber: number = 0;\n\n    constructor(private events: Events,\n                private storage: Storage,\n                private sessionService: SessionService,\n                private sessionUserService: SessionUserService,\n                private sessionChatService: SessionChatService,\n                private sessionEventService: SessionEventService,\n                private gpsService: GpsService,\n                private localNotifications: LocalNotifications,\n                private translate: TranslateService,\n                private toast: ToastController,\n                private leaderBoardService: SessionUserLeaderboardService,\n                private platform: Platform) {\n    }\n\n    public async updateSession(sessionInfo) {\n        await this.storage.set(ChatAndSessionService.STORAGE_KEY_SESSION, sessionInfo);\n    }\n\n    public async init() {\n        console.log(\"Init chatservice\");\n        await this.getActiveSession();\n        this.subscribeForAndSendEvents(this.transientActiveSession);\n        if (checkAvailability(LocalNotifications.pluginRef, null, LocalNotifications.pluginName) === true) {\n            this.localNotifications.on('click')\n                .subscribe((next) => {\n                    console.log('local notification has been pressed');\n                    console.log(next);\n                });\n        }\n    }\n\n    async exit() {\n        this.subscribeForAndSendEvents(null);\n    }\n\n    /**\n     * Converts api SessionChatMessageResponse to ChatMessage\n     * @param msg\n     * @param sessionUser\n     */\n    private getChatMessage(msg: SessionChatMessageResponse, sessionUser: SessionUser): ChatMessage {\n        msg.time = this.formatTime(msg.time);\n        let timezoneOffset = new Date().getTimezoneOffset();\n        let chatMessage: ChatMessage = {\n            messageId: msg.messageId,\n            userId: msg.senderId, // if author id eq current user\n            userName: msg.username, // team user name\n            userAvatar: './assets/to-user.jpg', // TODO User Avatar\n            toUserId: msg.receiverId, // toUserId (depends if this is written  or received\n            time: Date.parse(msg.time) - (timezoneOffset * 60000),\n            message: msg.message,\n            status: msg.status,\n            media: msg.media\n        };\n        if(chatMessage.media.length > 0 && chatMessage.media[0].substring(chatMessage.media[0].lastIndexOf('.')) == '.mp3'){\n            chatMessage.audioDuration = msg.mediaDuration;\n        }\n        return chatMessage;\n    }\n\n    /**\n     * Helper: Converts formats time field because iOS does not accept yyyy-mm-dd (ISO 8601) date format\n     * @param time\n     */\n    private formatTime(time: string) {\n        if (this.platform.is('ios')) {\n            let originalTime = time;\n            let dateParts = originalTime.substring(0, 10).split('-');\n            let timePart = originalTime.substr(11);\n            return dateParts[1] + '/' + dateParts[2] + '/' + dateParts[0] + ' ' + timePart;\n        } else return time;\n    }\n\n    /**\n     * Returns all Chat Messages\n     * @param sessionInfo\n     * @param receiverToken\n     */\n    getMsgList(sessionInfo: SessionInfo, receiverToken: string): Observable<ChatMessage[]> {\n        let params: SessionChatService.GetMessagesParams = {\n            sessionCode: sessionInfo.session.code,\n            senderToken: sessionInfo.sessionUser.token,\n            receiverToken: receiverToken\n        };\n        return this.sessionChatService.getMessages(params).map(\n            (chatResponse: SessionChatResponse): ChatMessage[] => {\n                let chatMessages: ChatMessage[] = [];\n                chatResponse.messages.forEach((msg: SessionChatMessageResponse) => {\n                    chatMessages.push(this.getChatMessage(msg, sessionInfo.sessionUser));\n                });\n                return chatMessages;\n            }\n        );\n    }\n\n    getNewMsgs(sessionInfo: SessionInfo, receiverToken: string): Observable<ChatMessage[]> {\n        let params: SessionChatService.GetNewMessagesParams = {\n            sessionCode: sessionInfo.session.code,\n            senderToken: sessionInfo.sessionUser.token,\n            receiverToken: receiverToken\n        };\n        return this.sessionChatService.getNewMessages(params).map(\n            (newMessages: SessionChatMessageResponse[]): ChatMessage[] => {\n                this.newMsgNumber += newMessages.length;\n                let chatMessages: ChatMessage[] = [];\n                newMessages.forEach((msg: SessionChatMessageResponse) => {\n                    chatMessages.push(this.getChatMessage(msg, sessionInfo.sessionUser));\n                });\n                return chatMessages;\n            }\n        );\n    }\n\n    /**\n     * Sends a message to all receivers\n     *\n     * FIXME Send message to selected receivers\n     *\n     * @param msg\n     * @param sessionInfo\n     */\n    sendMsg(msg: ChatMessage, sessionInfo: SessionInfo) {\n        let msgsSend: Array<any> = [];\n        console.log(\"Sending chat message: \", msg);\n        this.receivers.forEach(receiver => {\n            msgsSend.push(this.sessionChatService.sendMessageToUser({\n                receiverToken: receiver.token,\n                senderToken: sessionInfo.sessionUser.token,\n                sessionCode: sessionInfo.session.code,\n                chatMessage: msg // FIXME ChatMessage convert to SessionChatMessageRequest (msg = string)\n            }).toPromise().then((msg: SessionChatMessageResponse) => {\n                return this.getChatMessage(msg, sessionInfo.sessionUser);\n            }));\n        });\n\n        return Promise.all(msgsSend).then((msgs: ChatMessage[]) => {\n            console.info(\"New Chat Messages were send: [\".concat(msgs.length.toString(), \"]\"));\n            return msgs;\n        });\n    }\n\n    async postMedia(file: FormData, sessionInfo: SessionInfo){\n        try {\n            let x = await this.sessionChatService.postMedia(file, sessionInfo.session.code, sessionInfo.sessionUser.token);\n            return this.sessionService.rootUrl.replace(\"index.php\", \"\") + x.body;\n        }\n        catch (e) {\n            console.log(\"ERROR sending media to chat: \", e);\n            return null;\n        }\n    }\n\n    async getUserInfo(): Promise<UserInfo> {\n        let sessionInfo = await this.getActiveSession();\n        if (sessionInfo != null) {\n            const userInfo: UserInfo = {\n                id: sessionInfo.sessionUser.id,\n                name: sessionInfo.sessionUser.team_name,\n                token: sessionInfo.sessionUser.token,\n                avatar: './assets/user.jpg' // FIXME User Avatar\n            };\n            return new Promise<UserInfo>(resolve => resolve(userInfo));\n        }\n    }\n\n    async setActiveSession(session: Session, teamName: string, teamMembers: string[]) {\n        console.log(\"Joining session.\");\n        let sessionUser = await this.sessionService.joinSession({\n            sessionCode: session.code,\n            request: {teamName: teamName, teamMembers: teamMembers}\n        }).toPromise();\n        if (sessionUser) {\n            console.log(\"Successfully joined. Storing active session\");\n            let sessionInfo = {\n                session: session,\n                sessionUser: sessionUser,\n                started: false,\n                authorEvents_lastPull: moment().unix()\n            };\n            await this.storage.set(ChatAndSessionService.STORAGE_KEY_SESSION, sessionInfo);\n            this.transientActiveSession = sessionInfo;\n            console.log(\"Session stored\");\n        } else {\n            console.log(\"Error joining session.\");\n        }\n    }\n\n    async getActiveSession(): Promise<SessionInfo> {\n        console.log(\"Getting Active session.\");\n        this.transientActiveSession = await this.storage.get(ChatAndSessionService.STORAGE_KEY_SESSION);\n        console.log(this.transientActiveSession);\n        if (this.transientActiveSession) {\n            console.log(\"Found active session. Checking if still active.\");\n            // Leave Session automatically when time has run out\n            let currentTimeUnix = moment().unix();\n            console.log(\"Current time: \" + currentTimeUnix);\n            let endTimeInUnix = moment(this.transientActiveSession.session.ends_at).unix();\n            console.log(\"End time: \" + endTimeInUnix);\n            if (currentTimeUnix > endTimeInUnix) {\n                console.log(\"Session ended. Exit session.\")\n                this.exitActiveSession();\n            } else {\n                console.log(\"Session running.\");\n            }\n        }\n        return this.transientActiveSession;\n    }\n\n    public getSessionInfo(): SessionInfo {\n        return this.transientActiveSession;\n    }\n\n    async exitActiveSession() {\n        await this.sendUserEvents();\n        await this.storage.remove(ChatAndSessionService.STORAGE_KEY_SESSION);\n        this.subscribeForAndSendEvents(null);\n        if (this.transientActiveSession != null) {\n            await this.sessionUserService.leaveSession({\n                userToken: this.transientActiveSession.sessionUser.token,\n                sessionCode: this.transientActiveSession.session.code\n            }).toPromise();\n        }\n        // Reset watch parameters\n        this.receivers = [];\n        this.alreadySeenMessages = {};\n        this.pastLocalNotifications = [];\n        this.leaderBoard = {leaderboard: []};\n        this.newMsgNumber = 0;\n        this.transientActiveSession = null;\n    }\n\n    getSubject(): Subject<SessionInfo> {\n        return this.subject;\n    }\n\n    private async subscribeForAndSendEvents(sessionInfo: SessionInfo) {\n        this.subject.next(sessionInfo);\n        if (sessionInfo) {\n            if (this.positionSubscription) {\n                this.positionSubscription.unsubscribe();\n            }\n\n            this.positionSubscription = this.pushPositionTimer.subscribe(async tick => {\n                let position = this.gpsService.getLastPosition();\n                if(position && position.coords){\n                    this.coordinatesList.push(position.coords);\n                }else{\n                    this.coordinatesList.push({\n                        accuracy: 0,\n                        altitude: null,\n                        altitudeAccuracy: null,\n                        heading: null,\n                        latitude: ChatAndSessionService.DEFAULT_LAT,\n                        longitude: ChatAndSessionService.DEFAULT_LON,\n                        speed:  null\n                    });\n                }\n                if (this.coordinatesList.length >= 15) {\n                    console.log(\"calculate sums\");\n                    let lat = 0;\n                    let lon = 0;\n                    forEach(this.coordinatesList, function (coords) {\n                        lat += coords.latitude;\n                        lon += coords.longitude;\n                    });\n                    lat = lat / this.coordinatesList.length;\n                    lon = lon / this.coordinatesList.length;\n                    console.log(lat + \", \" + lon);\n                    this.coordinatesList = [];\n                    try {\n                        await this.sessionUserService.updatePosition({\n                            sessionCode: sessionInfo.session.code,\n                            userToken: sessionInfo.sessionUser.token,\n                            latitude: lat,\n                            longitude: lon\n                        }).toPromise();\n                    } catch (e) {\n                        console.error(\"ChatAndSessionService: Could not push position\", e);\n                    }\n                }\n            });\n\n            if (this.sendEventsSubscription) {\n                this.sendEventsSubscription.unsubscribe()\n            }\n\n            this.sendEventsSubscription = this.sendEventsTimer.subscribe(tick => {\n                console.log('tick tock');\n                this.sendUserEvents()\n            });\n\n            if (this.getLeaderboardSubscription) {\n                this.getLeaderboardSubscription.unsubscribe()\n            }\n\n            this.getLeaderboardSubscription = this.getLeaderboardTimer.subscribe(tick => {\n                this.fetchLeaderboard();\n            });\n\n            if (this.getAuthorEventsSubscription) {\n                this.getAuthorEventsSubscription.unsubscribe()\n            }\n\n            this.getAuthorEventsSubscription = this.getAuthorEventsTimer.subscribe(tick => {\n                this.fetchAuthorEvents();\n            });\n\n            this.determineDefaultReceivers(sessionInfo).then(receivers => {\n                this.receivers = receivers;\n            });\n\n            this.refreshChatSubscription(sessionInfo);\n            if (!await this.localNotifications.hasPermission()) {\n                await this.localNotifications.requestPermission();\n            }\n        } else {\n            this.receivers = [];\n            if (this.positionSubscription) {\n                this.positionSubscription.unsubscribe();\n                this.positionSubscription = null;\n            }\n\n            // TODO i think this type of code is a little bit confusing. refactor to subscribe/unsubscribe methods.\n            if (this.chatSubscription) {\n                this.chatSubscription.unsubscribe();\n                this.chatSubscription = null;\n            }\n            if (this.sendEventsSubscription) {\n                this.sendEventsSubscription.unsubscribe();\n                this.sendEventsSubscription = null;\n            }\n            if (this.getLeaderboardSubscription) {\n                this.getLeaderboardSubscription.unsubscribe();\n                this.getLeaderboardSubscription = null;\n            }\n            if (this.getAuthorEventsSubscription) {\n                this.getAuthorEventsSubscription.unsubscribe();\n                this.getAuthorEventsSubscription = null;\n            }\n        }\n    }\n\n    private refreshChatSubscription(sessionInfo: SessionInfo) {\n        console.debug('refreshChatSubscription()');\n        if (this.chatSubscription) {\n            this.chatSubscription.unsubscribe();\n        }\n\n        this.chatSubscription = this.getRelevantTimer().subscribe(tick => {\n            this.checkForNewMessages(sessionInfo);\n        });\n    }\n\n    private getRelevantTimer(): Observable<TimeInterval<any>> {\n        if (this.userSeesNewMessages) {\n            return this.timerUserSeesMessages;\n        } else {\n            return this.timerBackground;\n        }\n    }\n\n    public async checkForNewMessages(sessionInfo: SessionInfo) {\n        console.log(\"check for new msgs ...\");\n        this.receivers.forEach(async receiver => {\n            let messages = await this.getNewMsgs(sessionInfo, receiver.token).toPromise();\n            // foreach msg -> publish new event\n            messages.forEach((msg: ChatMessage) => {\n                // console.log(\"chat msgs received: \", msg);\n                this.events.publish('chat:received', msg);\n                let alreadySeen = this.alreadySeenMessages[msg.messageId];\n                if (!alreadySeen) {\n                    this.alreadySeenMessages[msg.messageId] = true;\n                    if (!this.userSeesNewMessages) {\n                        console.info(`scheduling notfication for ${msg.userName}: ${msg.message}`);\n                        let notification;\n                        this.pastLocalNotifications.push(notification = {\n                            id: this.pastLocalNotifications.length + 1,\n                            title: msg.userName,\n                            text: msg.message,\n                            silent: false,\n                            actions: [<any>{\n                                id: 'reply',\n                                type: ILocalNotificationActionType.INPUT,\n                                title: this.translate.instant('a_chat_reply'),\n                                emptyText: this.translate.instant('a_chat_type_message'),\n                                submitTitle: this.translate.instant('a_chat_reply'),\n                                foreground: true,\n                                launch: true\n                            }],\n\n                        });\n                        this.localNotifications.schedule(notification);\n                        this.toast.create({\n                            message: `${msg.userName}: ${msg.message}`,\n                            duration: 3000,\n                            position: 'bottom'\n                        }).present();\n                    }\n                }\n            });\n        });\n    }\n\n    public async determineDefaultReceivers(sessionInfo: SessionInfo): Promise<SessionUserResponse[]> {\n        let receivers: SessionUserResponse[] = [];\n        if (!sessionInfo.sessionUser.wp_user_id || sessionInfo.sessionUser.wp_user_id <= 0) {\n\n            let admin: SessionUserResponse = await this.sessionService.getSessionAdmin({\n                sessionCode: sessionInfo.session.code,\n                userToken: sessionInfo.sessionUser.token\n            }).toPromise().then(res => {\n                return res;\n            });\n            receivers.push(admin);\n        } else {\n            let users: SessionUserResponse[] = await this.sessionService.getSessionUsers(sessionInfo.session.code)\n                .toPromise()\n                .then((users: SessionUsersResponse) => {\n                    return users.users;\n                });\n\n            users.filter((user: SessionUserResponse) => {\n                return !(user.id === sessionInfo.sessionUser.id)\n            })\n\n            receivers = users;\n        }\n\n        return Promise.all(receivers);\n    }\n\n    public getReceivers(): SessionUserResponse[] {\n        return this.receivers;\n    }\n\n    public setUserSeesNewMessages(value: boolean) {\n        let refreshSubscription = value != this.userSeesNewMessages && this.transientActiveSession;\n        this.userSeesNewMessages = value;\n        if (refreshSubscription) {\n            this.refreshChatSubscription(this.transientActiveSession);\n        }\n    }\n\n    /*\n    Session User Events\n    Was haben Krokodile und Italiener gemeinsam?\n     */\n    private async sendUserEvents() {\n        let sessionInfo = this.transientActiveSession;\n        console.log('send user events');\n        if (sessionInfo) {\n            if (ChatAndSessionService.USER_EVENTS.length > 0) {\n                let position = this.gpsService.getLastPosition();\n                if(position && position.coords){\n                    console.log(position.coords);\n                    ChatAndSessionService.USER_EVENTS.forEach(event => {\n                        event.lat = position.coords.latitude.toString();\n                        event.lon = position.coords.longitude.toString();\n                    });\n                }\n                let eventsAddRequest = new EventsAddRequest();\n                eventsAddRequest.events = ChatAndSessionService.USER_EVENTS;\n                let params = {\n                    events: eventsAddRequest,\n                    sessionCode: sessionInfo.session.code,\n                    userToken: sessionInfo.sessionUser.token\n                };\n                let sessionEventsResponse = await this.sessionEventService.addEvents(params).toPromise();\n                console.log(ChatAndSessionService.USER_EVENTS);\n                ChatAndSessionService.USER_EVENTS = [];\n            }\n        }\n    }\n\n    public addUserEvent(title: string, details: string, task_id: string) {\n        let eventAddRequest = new EventAddRequest();\n        eventAddRequest.title = title;\n        eventAddRequest.details = details;\n        eventAddRequest.task_id = task_id;\n        eventAddRequest.lat = \"\"+ChatAndSessionService.DEFAULT_LAT;\n        eventAddRequest.lon = \"\"+ChatAndSessionService.DEFAULT_LON;\n        ChatAndSessionService.USER_EVENTS.push(eventAddRequest)\n    }\n\n    private async fetchLeaderboard() {\n        let sessionInfo = this.transientActiveSession;\n        if (sessionInfo) {\n            if (sessionInfo.session.has_leaderboard) {\n                let params = new class implements SessionUserLeaderboardService.GetLeaderboardParams {\n                    sessionCode: string;\n                    userToken: string;\n                };\n                params.sessionCode = sessionInfo.session.code;\n                params.userToken = sessionInfo.sessionUser.token;\n                let leaderboard = await this.leaderBoardService.getLeaderboard(params).toPromise();\n                console.log(leaderboard);\n                this.leaderBoard = leaderboard;\n            }\n        }\n    }\n\n    private async fetchAuthorEvents() {\n        let sessionInfo = this.transientActiveSession;\n        if (sessionInfo) {\n            let params = new class implements SessionEventService.GetAuthorEventsParams {\n                sessionCode: string;\n                userToken: string;\n                unixTime: string\n            };\n            params.sessionCode = sessionInfo.session.code;\n            params.userToken = sessionInfo.sessionUser.token;\n            params.unixTime = sessionInfo.authorEvents_lastPull.toString();\n            let authorEvents = await this.sessionEventService.getAuthorEvents(params).toPromise();\n            console.log(authorEvents);\n\n            // Update this sessions last update info\n            sessionInfo.authorEvents_lastPull = moment().unix();\n            this.transientActiveSession = sessionInfo;\n            await this.updateSession(sessionInfo);\n            this.parseAuthorEvents(authorEvents);\n        }\n    }\n\n    private parseAuthorEvents(events: SessionEventsResponse) {\n        /*\n        Two cases right now:\n        1. Author kicks a user: If user == current session user > Leave active session\n        2. Author updates session: Get updated session\n         */\n        let that = this;\n        events.events.forEach((event) => {\n            if (event.title === SessionEventTitle.AUTHOR_KICK_USER) {\n                try {\n                    const details = JSON.parse(event.details);\n                    if (details.userToken == that.transientActiveSession.sessionUser.token) {\n                        that.events.publish('user:kicked', 'self');\n                    } else {\n                        that.events.publish('user:kicked', 'other');\n                    }\n                } catch (e) {\n                    console.log(\"Could not parse details of author event.\");\n                }\n            }\n            else if (event.title === SessionEventTitle.AUTHOR_UPDATE_SESSION) {\n                that.sessionService.getSessionByCode(that.transientActiveSession.session.code).toPromise().then(async session => {\n                    that.transientActiveSession.session = session;\n                    await that.updateSession(that.transientActiveSession);\n                    that.events.publish('session:updated', that.transientActiveSession);\n                });\n            }\n            else if (event.title === SessionEventTitle.AUTHOR_ASSIGN_TASK) {\n                try {\n                    const details = JSON.parse(event.details);\n                    if (details.userToken == that.transientActiveSession.sessionUser.token) {\n                        that.transientActiveSession.sessionUser.assigned_task_id = details.assigned_task_id;\n                        that.updateSession(that.transientActiveSession);\n                        that.events.publish('user:assigned_task', details.assigned_task_id);\n                    }\n                } catch (e) {\n                    console.log(e);\n                }\n            }\n            else if (event.title === SessionEventTitle.AUTHOR_PING_USER) {\n                try {\n                    const details = JSON.parse(event.details);\n                    if (details.userToken === that.transientActiveSession.sessionUser.token) {\n                        const pongEventDetails: string = JSON.stringify({pingToken: details.pingToken});\n                        that.addUserEvent(SessionEventTitle.USER_PONG_RESPONSE, pongEventDetails, '0');\n                    }\n                } catch (e) {\n                    console.log(e);\n                }\n            }\n            else {\n\n            }\n        });\n    }\n\n    public getLeaderboard() {\n        return this.leaderBoard.leaderboard;\n    }\n\n    public getNewMsgNumber(): number {\n        return this.newMsgNumber;\n    }\n\n    public setNewMsgNumber(n: number) {\n        this.newMsgNumber = n;\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/chat-and-session-service.ts","/* tslint:disable */\nimport { EventAddRequest } from './event-add-request';\n\n\nexport class EventsAddRequest {\n    events?: Array<EventAddRequest>;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/api/models/events-add-request.ts","/* tslint:disable */\n\n\nexport class EventAddRequest {\n    title?: string;\n    details?: string;\n    lat?: string;\n    lon?: string;\n    task_id?: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/api/models/event-add-request.ts","var map = {\n\t\"./af\": 400,\n\t\"./af.js\": 400,\n\t\"./ar\": 401,\n\t\"./ar-dz\": 402,\n\t\"./ar-dz.js\": 402,\n\t\"./ar-kw\": 403,\n\t\"./ar-kw.js\": 403,\n\t\"./ar-ly\": 404,\n\t\"./ar-ly.js\": 404,\n\t\"./ar-ma\": 405,\n\t\"./ar-ma.js\": 405,\n\t\"./ar-ps\": 406,\n\t\"./ar-ps.js\": 406,\n\t\"./ar-sa\": 407,\n\t\"./ar-sa.js\": 407,\n\t\"./ar-tn\": 408,\n\t\"./ar-tn.js\": 408,\n\t\"./ar.js\": 401,\n\t\"./az\": 409,\n\t\"./az.js\": 409,\n\t\"./be\": 410,\n\t\"./be.js\": 410,\n\t\"./bg\": 411,\n\t\"./bg.js\": 411,\n\t\"./bm\": 412,\n\t\"./bm.js\": 412,\n\t\"./bn\": 413,\n\t\"./bn-bd\": 414,\n\t\"./bn-bd.js\": 414,\n\t\"./bn.js\": 413,\n\t\"./bo\": 415,\n\t\"./bo.js\": 415,\n\t\"./br\": 416,\n\t\"./br.js\": 416,\n\t\"./bs\": 417,\n\t\"./bs.js\": 417,\n\t\"./ca\": 418,\n\t\"./ca.js\": 418,\n\t\"./cs\": 419,\n\t\"./cs.js\": 419,\n\t\"./cv\": 420,\n\t\"./cv.js\": 420,\n\t\"./cy\": 421,\n\t\"./cy.js\": 421,\n\t\"./da\": 422,\n\t\"./da.js\": 422,\n\t\"./de\": 423,\n\t\"./de-at\": 424,\n\t\"./de-at.js\": 424,\n\t\"./de-ch\": 425,\n\t\"./de-ch.js\": 425,\n\t\"./de.js\": 423,\n\t\"./dv\": 426,\n\t\"./dv.js\": 426,\n\t\"./el\": 427,\n\t\"./el.js\": 427,\n\t\"./en-au\": 428,\n\t\"./en-au.js\": 428,\n\t\"./en-ca\": 429,\n\t\"./en-ca.js\": 429,\n\t\"./en-gb\": 430,\n\t\"./en-gb.js\": 430,\n\t\"./en-ie\": 431,\n\t\"./en-ie.js\": 431,\n\t\"./en-il\": 432,\n\t\"./en-il.js\": 432,\n\t\"./en-in\": 433,\n\t\"./en-in.js\": 433,\n\t\"./en-nz\": 434,\n\t\"./en-nz.js\": 434,\n\t\"./en-sg\": 435,\n\t\"./en-sg.js\": 435,\n\t\"./eo\": 436,\n\t\"./eo.js\": 436,\n\t\"./es\": 437,\n\t\"./es-do\": 438,\n\t\"./es-do.js\": 438,\n\t\"./es-mx\": 439,\n\t\"./es-mx.js\": 439,\n\t\"./es-us\": 440,\n\t\"./es-us.js\": 440,\n\t\"./es.js\": 437,\n\t\"./et\": 441,\n\t\"./et.js\": 441,\n\t\"./eu\": 442,\n\t\"./eu.js\": 442,\n\t\"./fa\": 443,\n\t\"./fa.js\": 443,\n\t\"./fi\": 444,\n\t\"./fi.js\": 444,\n\t\"./fil\": 445,\n\t\"./fil.js\": 445,\n\t\"./fo\": 446,\n\t\"./fo.js\": 446,\n\t\"./fr\": 447,\n\t\"./fr-ca\": 448,\n\t\"./fr-ca.js\": 448,\n\t\"./fr-ch\": 449,\n\t\"./fr-ch.js\": 449,\n\t\"./fr.js\": 447,\n\t\"./fy\": 450,\n\t\"./fy.js\": 450,\n\t\"./ga\": 451,\n\t\"./ga.js\": 451,\n\t\"./gd\": 452,\n\t\"./gd.js\": 452,\n\t\"./gl\": 453,\n\t\"./gl.js\": 453,\n\t\"./gom-deva\": 454,\n\t\"./gom-deva.js\": 454,\n\t\"./gom-latn\": 455,\n\t\"./gom-latn.js\": 455,\n\t\"./gu\": 456,\n\t\"./gu.js\": 456,\n\t\"./he\": 457,\n\t\"./he.js\": 457,\n\t\"./hi\": 458,\n\t\"./hi.js\": 458,\n\t\"./hr\": 459,\n\t\"./hr.js\": 459,\n\t\"./hu\": 460,\n\t\"./hu.js\": 460,\n\t\"./hy-am\": 461,\n\t\"./hy-am.js\": 461,\n\t\"./id\": 462,\n\t\"./id.js\": 462,\n\t\"./is\": 463,\n\t\"./is.js\": 463,\n\t\"./it\": 464,\n\t\"./it-ch\": 465,\n\t\"./it-ch.js\": 465,\n\t\"./it.js\": 464,\n\t\"./ja\": 466,\n\t\"./ja.js\": 466,\n\t\"./jv\": 467,\n\t\"./jv.js\": 467,\n\t\"./ka\": 468,\n\t\"./ka.js\": 468,\n\t\"./kk\": 469,\n\t\"./kk.js\": 469,\n\t\"./km\": 470,\n\t\"./km.js\": 470,\n\t\"./kn\": 471,\n\t\"./kn.js\": 471,\n\t\"./ko\": 472,\n\t\"./ko.js\": 472,\n\t\"./ku\": 473,\n\t\"./ku-kmr\": 474,\n\t\"./ku-kmr.js\": 474,\n\t\"./ku.js\": 473,\n\t\"./ky\": 475,\n\t\"./ky.js\": 475,\n\t\"./lb\": 476,\n\t\"./lb.js\": 476,\n\t\"./lo\": 477,\n\t\"./lo.js\": 477,\n\t\"./lt\": 478,\n\t\"./lt.js\": 478,\n\t\"./lv\": 479,\n\t\"./lv.js\": 479,\n\t\"./me\": 480,\n\t\"./me.js\": 480,\n\t\"./mi\": 481,\n\t\"./mi.js\": 481,\n\t\"./mk\": 482,\n\t\"./mk.js\": 482,\n\t\"./ml\": 483,\n\t\"./ml.js\": 483,\n\t\"./mn\": 484,\n\t\"./mn.js\": 484,\n\t\"./mr\": 485,\n\t\"./mr.js\": 485,\n\t\"./ms\": 486,\n\t\"./ms-my\": 487,\n\t\"./ms-my.js\": 487,\n\t\"./ms.js\": 486,\n\t\"./mt\": 488,\n\t\"./mt.js\": 488,\n\t\"./my\": 489,\n\t\"./my.js\": 489,\n\t\"./nb\": 490,\n\t\"./nb.js\": 490,\n\t\"./ne\": 491,\n\t\"./ne.js\": 491,\n\t\"./nl\": 492,\n\t\"./nl-be\": 493,\n\t\"./nl-be.js\": 493,\n\t\"./nl.js\": 492,\n\t\"./nn\": 494,\n\t\"./nn.js\": 494,\n\t\"./oc-lnc\": 495,\n\t\"./oc-lnc.js\": 495,\n\t\"./pa-in\": 496,\n\t\"./pa-in.js\": 496,\n\t\"./pl\": 497,\n\t\"./pl.js\": 497,\n\t\"./pt\": 498,\n\t\"./pt-br\": 499,\n\t\"./pt-br.js\": 499,\n\t\"./pt.js\": 498,\n\t\"./ro\": 500,\n\t\"./ro.js\": 500,\n\t\"./ru\": 501,\n\t\"./ru.js\": 501,\n\t\"./sd\": 502,\n\t\"./sd.js\": 502,\n\t\"./se\": 503,\n\t\"./se.js\": 503,\n\t\"./si\": 504,\n\t\"./si.js\": 504,\n\t\"./sk\": 505,\n\t\"./sk.js\": 505,\n\t\"./sl\": 506,\n\t\"./sl.js\": 506,\n\t\"./sq\": 507,\n\t\"./sq.js\": 507,\n\t\"./sr\": 508,\n\t\"./sr-cyrl\": 509,\n\t\"./sr-cyrl.js\": 509,\n\t\"./sr.js\": 508,\n\t\"./ss\": 510,\n\t\"./ss.js\": 510,\n\t\"./sv\": 511,\n\t\"./sv.js\": 511,\n\t\"./sw\": 512,\n\t\"./sw.js\": 512,\n\t\"./ta\": 513,\n\t\"./ta.js\": 513,\n\t\"./te\": 514,\n\t\"./te.js\": 514,\n\t\"./tet\": 515,\n\t\"./tet.js\": 515,\n\t\"./tg\": 516,\n\t\"./tg.js\": 516,\n\t\"./th\": 517,\n\t\"./th.js\": 517,\n\t\"./tk\": 518,\n\t\"./tk.js\": 518,\n\t\"./tl-ph\": 519,\n\t\"./tl-ph.js\": 519,\n\t\"./tlh\": 520,\n\t\"./tlh.js\": 520,\n\t\"./tr\": 521,\n\t\"./tr.js\": 521,\n\t\"./tzl\": 522,\n\t\"./tzl.js\": 522,\n\t\"./tzm\": 523,\n\t\"./tzm-latn\": 524,\n\t\"./tzm-latn.js\": 524,\n\t\"./tzm.js\": 523,\n\t\"./ug-cn\": 525,\n\t\"./ug-cn.js\": 525,\n\t\"./uk\": 526,\n\t\"./uk.js\": 526,\n\t\"./ur\": 527,\n\t\"./ur.js\": 527,\n\t\"./uz\": 528,\n\t\"./uz-latn\": 529,\n\t\"./uz-latn.js\": 529,\n\t\"./uz.js\": 528,\n\t\"./vi\": 530,\n\t\"./vi.js\": 530,\n\t\"./x-pseudo\": 531,\n\t\"./x-pseudo.js\": 531,\n\t\"./yo\": 532,\n\t\"./yo.js\": 532,\n\t\"./zh-cn\": 533,\n\t\"./zh-cn.js\": 533,\n\t\"./zh-hk\": 534,\n\t\"./zh-hk.js\": 534,\n\t\"./zh-mo\": 535,\n\t\"./zh-mo.js\": 535,\n\t\"./zh-tw\": 536,\n\t\"./zh-tw.js\": 536\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 950;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = 950\n// module chunks = 11","export enum RecordStateEnum {\n  Idle = 1,\n  Record = 2,\n  Stop = 3,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat/recordStateEnum.ts"],"sourceRoot":""}