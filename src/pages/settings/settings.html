<ion-header>
   <ion-toolbar>
      <ion-buttons left>
         <button ion-button icon-only (click)="goBack()">
            <img class="header-icon" src="assets/icons/back.svg"/>
         </button>
      </ion-buttons>
      <ion-title>{{ 'a_action_settings' | translate }}</ion-title>
   </ion-toolbar>
</ion-header>

<ion-content class="has-header pattern-bg">

   <section class="padding center introduction">
      <ion-label class="title main">{{'a_settings_info_label' | translate}}</ion-label>
      <div class="card primary">
         <div class="container top">
            <ion-label>
               {{'a_settings_info_title' | translate}}
               <p>{{'a_settings_info_text' | translate}}</p>
            </ion-label>
            <img class="icon" src="../../assets/icons/logo-mathcitymap-symbol.svg"/>
         </div>
         <button ion-button block round color="light" (click)="openOnboarding()">{{'a_settings_onboarding' | translate }}</button>
      </div>
   </section>

   <div class="card transparent">
   </div>

   <section class="padding center">
      <ion-label class="title main">{{'a_settings_language' | translate}}</ion-label>
      <div class="card select">
         <ion-label>
            {{'a_settings_app_language' | translate}}{{language != 'en' ? ' / LANGUAGE' : ''}}
         </ion-label>
         <ion-select [(ngModel)]="language" (ngModelChange)="onChangeLanguage($event)">
            <ion-option *ngFor="let lang of translatedLangs" [value]="lang.id">{{lang.value}}</ion-option>
         </ion-select>
      </div>
   </section>

   <section class="padding center">
      <ion-label class="title main">{{'a_settings_accessibility' | translate }}</ion-label>
      <div class="card">
         <ion-item no-lines no-padding>
            <ion-label item-content>
               {{'a_settings_translations_title' | translate}}
               <p>{{'a_settings_translations_text' | translate}}</p>
            </ion-label>
            <ion-toggle class="devModeToggle" mode="ios" [(ngModel)]="translationService.isEnabled"></ion-toggle>
         </ion-item>

         <div class="item">
            <ion-label>{{'a_settings_translate_language' | translate}}</ion-label>
            <ion-select [(ngModel)]="translationService.translateLanguage">
               <ion-option *ngFor="let lang of translatedLangs" [value]="lang.id">{{lang.value}}</ion-option>
            </ion-select>
         </div>

         <div class="info">
            <p>{{'a_settings_translations_info' | translate}}</p>
         </div>
      </div>
   </section>

   <section class="padding center">
      <div class="card">
         <ion-item no-lines no-padding>
            <ion-label item-content>
               {{'a_settings_text_to_speech_title' | translate}}
               <p>{{'a_settings_text_to_speech_text' | translate}}</p>
            </ion-label>
            <ion-toggle class="devModeToggle" [(ngModel)]="readAloudService.isEnabled" mode="ios"></ion-toggle>
         </ion-item>
         <ion-item no-lines no-padding>
            <ion-label item-content>
               {{'a_settings_text_to_speech_configure_title' | translate}}
               <p>{{'a_settings_text_to_speech_configure_text' | translate}}</p>
            </ion-label>
            <ion-toggle class="devModeToggle" mode="ios" [(ngModel)]="showReadAloudConfig"></ion-toggle>
         </ion-item>

         <div class="item" *ngIf="showReadAloudConfig">
            <ion-label item-content>{{'a_settings_language' | translate}}</ion-label>
            <ion-select [(ngModel)]="readAloudLanguage">
               <ion-option *ngFor="let lang of translatedLangs" [value]="lang.id">{{ lang.value }}</ion-option>
            </ion-select>
         </div>

         <div class="item" *ngIf="showReadAloudConfig">
            <ion-label item-content>{{'a_settings_text_to_speech_voice' | translate}}</ion-label>
            <ion-select [(ngModel)]="readAloudVoice">
               <ion-option *ngFor="let voice of readAloudVoices" [value]="voice.identifier">{{ voice.name }}</ion-option>
            </ion-select>
         </div>

         <div class="info">
            <p readable [language]="readAloudLanguage">{{readAloudService.getDemoText(readAloudLanguage)}}</p>
         </div>
      </div>
   </section>

   <section class="padding center">
      <ion-label class="title main">{{'a_settings_expert' | translate }}</ion-label>
      <div class="card">
         <ion-item no-lines no-padding>
            <ion-label item-content>
               {{'a_settings_editing' | translate }}
               <p>{{'a_settings_editing_text' | translate }}</p>
            </ion-label>
            <ion-toggle class="devModeToggle" mode="ios" [(ngModel)]="developerMode" (ionChange)="switchDevMode()"></ion-toggle>
         </ion-item>
      </div>
   </section>

   <!--    <div class="card has-button-on-the-edge">
           <ion-label>{{'a_settings_console' | translate }}</ion-label>
           <p item-content>{{'a_settings_console_text' | translate }}</p>
           <ion-item>
               <ion-input type="text" placeholder="######"></ion-input>
           </ion-item>
           <button class="on-the-edge" ion-button small round>{{'a_settings_console_button' | translate }}</button>
       </div>-->

   <section class="padding center">
      <ion-label class="title main">{{'a_settings_data' | translate }}</ion-label>
   </section>
   <div class="card transparent">
      <button ion-button block default round color="danger" (click)="deleteAppData()">{{'a_main_settings_delCache' | translate }}</button>
   </div>

</ion-content>
