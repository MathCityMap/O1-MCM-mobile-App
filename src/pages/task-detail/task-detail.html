<mcm-header></mcm-header>
<ion-content class="has-header pattern-bg">
    <div class="task-header">
        <div class="image-container">
            <img *ngIf="task" [src]="task.getImageURL()" />
        </div>
        <div class="transition"></div>
    </div>
    <div class="task-content">
    <div class="card task has-button-on-the-edge">
        <div class="head">
            <ion-label>{{ "title_activity_task_view" | translate }}</ion-label>
            <!--<span class="tag points">100 MP</span>-->
        </div>
        <p *ngIf="task">{{task.description}}</p>
        <div class="answer">
            <ion-label>{{ "task_answer" | translate }}</ion-label>
            <ion-item *ngIf="task && taskDetails && task.solutionType != 'multiple_choice'">
                <ion-input [disabled]="taskDetails && (taskDetails.solved || taskDetails.solvedLow)" *ngIf="task.solutionType != 'text'" type="number" [(ngModel)]="taskDetails.answer"></ion-input>
                <ion-input [disabled]="taskDetails && (taskDetails.solved || taskDetails.solvedLow)" *ngIf="task.solutionType == 'text'" type="text" [(ngModel)]="taskDetails.answer"></ion-input>
            </ion-item>
            <ion-list *ngIf="task && task.solutionType == 'multiple_choice' && multipleChoiceList">
                 <ion-item *ngFor="let item of multipleChoiceList; let i = index" >
                    <ion-checkbox [disabled]="taskDetails && (taskDetails.solved || taskDetails.solvedLow)"  [(ngModel)]="item.userChecked"></ion-checkbox>
                    <ion-label tappable>{{item.value}}</ion-label>
               </ion-item>
            </ion-list>
        </div>
        <div class="on-the-edge-container" *ngIf="taskDetails">
            <button *ngIf="task.getHint(1) != ''" class="hint" ion-button (click)="showHint(1)" icon-only clear [disabled]="false">
                <img *ngIf="!taskDetails.hint1" class="primary round" src="./assets/icons/icon_hint-activated.svg"/>
                <img *ngIf="taskDetails.hint1" class="primary round used" src="./assets/icons/icon_hint-activated-used.svg"/>
            </button>
            <button *ngIf="task.getHint(2) != ''" class="hint" ion-button (click)="showHint(2)" icon-only clear [disabled]="!taskDetails.hint1">
                <img *ngIf="taskDetails.hint1 && !taskDetails.hint2" class="primary round" src="./assets/icons/icon_hint-activated.svg"/>
                <img *ngIf="taskDetails.hint1 && taskDetails.hint2" class="primary round used" src="./assets/icons/icon_hint-activated-used.svg"/>
                <img *ngIf="!taskDetails.hint1" class="primary round" src="./assets/icons/icon_hint-deactivated.svg"/>
            </button>
            <button *ngIf="task.getHint(3) != ''" class="hint" ion-button (click)="showHint(3)" icon-only clear [disabled]="!taskDetails.hint2">
                <img *ngIf="taskDetails.hint1 && taskDetails.hint2 && !taskDetails.hint3" class="primary round" src="./assets/icons/icon_hint-activated.svg"/>
                <img *ngIf="taskDetails.hint1 && taskDetails.hint2 && taskDetails.hint3" class="primary round used" src="./assets/icons/icon_hint-activated-used.svg"/>
                <img *ngIf="!taskDetails.hint2" class="primary round" src="./assets/icons/icon_hint-deactivated.svg"/>
            </button>
            <button ion-button small round *ngIf="task && taskDetails && (!taskDetails.solved && !taskDetails.solvedLow)" [disabled]="task.solutionType != 'multiple_choice' && !taskDetails.answer" (click)="checkResult()">{{ "btn_check_answer" | translate }}</button>
        </div>
    </div>
    <div class="card evaluation positive" *ngIf="taskDetails && (taskDetails.solved || taskDetails.solvedLow)">
        <div class="head">
            <ion-label>{{ "solution_good" | translate }}</ion-label>
            <!--<span class="tag points">+ 100 MP</span>-->
        </div>
    </div>

    <!--<div class="card secondary sidefact">-->
        <!--<div class="head">-->
            <!--<ion-label>{{ "sidefact_label" | translate }}</ion-label>-->
            <!--<span class="tag secondary">{{ "sidefact_tag" | translate }}</span>-->
        <!--</div>-->
        <!--<p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>-->
    <!--</div>-->

    <div class="card" *ngIf="taskDetails && (taskDetails.solved || taskDetails.solvedLow)">
        <ion-label>{{ "solution_sample" | translate }}</ion-label>
        <p *ngIf="task">{{ task.getSolutionSample() }}</p>
    </div>

    <div class="card secondary">
        <ion-label>{{ "author" | translate }}</ion-label>
        <p *ngIf="task">
            {{task.author}}<br>
            {{task.mail}}
        </p>
    </div>
    </div>

</ion-content>